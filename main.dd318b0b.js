/*! For license information please see main.dd318b0b.js.LICENSE.txt */
(self.webpackChunkclient=self.webpackChunkclient||[]).push([[179],{6156:(e,t,n)=>{"use strict";n.d(t,{Z:()=>function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}})},8991:(e,t,n)=>{"use strict";n.d(t,{Z:()=>function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}});var r=n(6156);function i(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}},7757:(e,t,n)=>{e.exports=n(5666)},6099:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(655),i=n(4589),o=n(909),a=n(4594),s=(n=((t={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",t["bad-app-name"]="Illegal App name: '{$appName}",t["duplicate-app"]="Firebase App named '{$appName}' already exists",t["app-deleted"]="Firebase App named '{$appName}' already deleted",t["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",t["invalid-log-argument"]="First argument to `onLog` must be null or a function.",t),new i.LL("app","Firebase",n)),u="@firebase/app",c="[DEFAULT]",l=((t={})[u]="fire-core",t["@firebase/analytics"]="fire-analytics",t["@firebase/app-check"]="fire-app-check",t["@firebase/auth"]="fire-auth",t["@firebase/database"]="fire-rtdb",t["@firebase/functions"]="fire-fn",t["@firebase/installations"]="fire-iid",t["@firebase/messaging"]="fire-fcm",t["@firebase/performance"]="fire-perf",t["@firebase/remote-config"]="fire-rc",t["@firebase/storage"]="fire-gcs",t["@firebase/firestore"]="fire-fst",t["fire-js"]="fire-js",t["firebase-wrapper"]="fire-js-all",t),h=new a.Yd("@firebase/app"),f=(Object.defineProperty(p.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),p.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},p.prototype._getService=function(e,t){void 0===t&&(t=c),this.checkDestroyed_();var n=this.container.getProvider(e);return n.isInitialized()||"EXPLICIT"!==(null===(e=n.getComponent())||void 0===e?void 0:e.instantiationMode)||n.initialize(),n.getImmediate({identifier:t})},p.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=c),this.container.getProvider(e).clearInstance(t)},p.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){h.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},p.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},p.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},p.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw s.create("app-deleted",{appName:this.name_})},p);function p(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,i.p$)(e),this.container=new o.H0(t.name),this._addComponent(new o.wA("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");n=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,o){void 0===o&&(o={}),"object"==typeof o&&null!==o||(o={name:o});var a=o;if(void 0===a.name&&(a.name=c),"string"!=typeof(o=a.name)||!o)throw s.create("bad-app-name",{appName:String(o)});if((0,i.r3)(t,o))throw s.create("duplicate-app",{appName:o});return a=new e(n,a,r),t[o]=a},app:u,registerVersion:function(e,t,n){var r=null!==(i=l[e])&&void 0!==i?i:e;n&&(r+="-"+n);var i=r.match(/\s|\//);e=t.match(/\s|\//),i||e?(n=['Unable to register library "'+r+'" with version "'+t+'":'],i&&n.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),i&&e&&n.push("and"),e&&n.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),h.warn(n.join(" "))):f(new o.wA(r+"-version",(function(){return{library:r,version:t}}),"VERSION"))},setLogLevel:a.Ub,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw s.create("invalid-log-argument");(0,a.Am)(e,t)},apps:null,SDK_VERSION:"8.7.0",INTERNAL:{registerComponent:f,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"!==t?t:null}}};function u(e){if(!(0,i.r3)(t,e=e||c))throw s.create("no-app",{appName:e});return t[e]}function f(o){var a,c=o.name;if(n.has(c))return h.debug("There were multiple attempts to register component "+c+"."),"PUBLIC"===o.type?r[c]:null;n.set(c,o),"PUBLIC"===o.type&&(a=function(e){if("function"!=typeof(e=void 0===e?u():e)[c])throw s.create("invalid-app-argument",{appName:c});return e[c]()},void 0!==o.serviceProps&&(0,i.ZB)(a,o.serviceProps),r[c]=a,e.prototype[c]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,c).apply(this,o.multipleInstances?e:[])});for(var l=0,f=Object.keys(t);l<f.length;l++){var p=f[l];t[p]._addComponent(o)}return"PUBLIC"===o.type?r[c]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),u.App=e,r}(f);return t.INTERNAL=(0,r.pi)((0,r.pi)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,i.ZB)(t,e)},createSubscribe:i.ne,ErrorFactory:i.LL,deepExtend:i.ZB}),t}();var d=(m.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){return function(e){return"VERSION"===(null==(e=e.getComponent())?void 0:e.type)}(e)?(e=e.getImmediate()).library+"/"+e.version:null})).filter((function(e){return e})).join(" ")},m);function m(e){this.container=e}(0,i.jU)()&&void 0!==self.firebase&&(h.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  "),(t=self.firebase.SDK_VERSION)&&0<=t.indexOf("LITE")&&h.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    "));var v=n.initializeApp;n.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,i.UG)()&&h.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,e)};var g,y=n;(g=y).INTERNAL.registerComponent(new o.wA("platform-logger",(function(e){return new d(e)}),"PRIVATE")),g.registerVersion(u,"0.6.28",undefined),g.registerVersion("fire-js","");const b=y},909:(e,t,n)=>{"use strict";n.d(t,{wA:()=>o,H0:()=>l,zt:()=>u});var r=n(655),i=n(4589),o=(a.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},a.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},a.prototype.setServiceProps=function(e){return this.serviceProps=e,this},a.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},a);function a(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}var s="[DEFAULT]",u=(c.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)&&(e=new i.BH,this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize()))try{var n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}return this.instancesDeferred.get(t).promise},c.prototype.getImmediate=function(e){var t=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier);e=null!==(e=null==e?void 0:e.optional)&&void 0!==e&&e;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(e)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(t){if(e)return null;throw t}},c.prototype.getComponent=function(){return this.component},c.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:s})}catch(e){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=(0,r.CR)(o.value,2),u=a[0],c=a[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(e){}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},c.prototype.clearInstance=function(e){this.instancesDeferred.delete(e=void 0===e?s:e),this.instances.delete(e)},c.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),(0,r.CR)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},c.prototype.isComponentSet=function(){return null!=this.component},c.prototype.isInitialized=function(e){return this.instances.has(e=void 0===e?s:e)},c.prototype.initialize=function(e){var t,n,i=void 0===(i=(e=void 0===e?{}:e).options)?{}:i,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var s=(0,r.XA)(this.instancesDeferred.entries()),u=s.next();!u.done;u=s.next()){var c=(0,r.CR)(u.value,2),l=c[0],h=c[1];o===this.normalizeInstanceIdentifier(l)&&h.resolve(a)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a},c.prototype.onInit=function(e,t){var n=this.normalizeInstanceIdentifier(t),r=null!==(t=this.onInitCallbacks.get(n))&&void 0!==t?t:new Set;return r.add(e),this.onInitCallbacks.set(n,r),(t=this.instances.get(n))&&e(t,n),function(){r.delete(e)}},c.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var a=(0,r.XA)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},c.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n;if(!(e=this.instances.get(t))&&this.component&&(e=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t)===s?void 0:n,options:r}),this.instances.set(t,e),this.invokeOnInitCallbacks(e,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,e)}catch(e){}return e||null},c.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=s),!this.component||this.component.multipleInstances?e:s},c.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},c);function c(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}var l=(h.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},h.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},h.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new u(e,this);return this.providers.set(e,t),t},h.prototype.getProviders=function(){return Array.from(this.providers.values())},h);function h(e){this.name=e,this.providers=new Map}},9446:(e,t,n)=>{"use strict";var r=n(6099),i=n(909),o=n(4589),a=n(655),s=n(4594);e=n.hmd(e);var u="";function c(e){u=e}var l=(h.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.Pz)(t))},h.prototype.get=function(e){return null==(e=this.domStorage_.getItem(this.prefixedName_(e)))?null:(0,o.cI)(e)},h.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},h.prototype.prefixedName_=function(e){return this.prefix_+e},h.prototype.toString=function(){return this.domStorage_.toString()},h);function h(e){this.domStorage_=e,this.prefix_="firebase:"}var f=(p.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},p.prototype.get=function(e){return(0,o.r3)(this.cache_,e)?this.cache_[e]:null},p.prototype.remove=function(e){delete this.cache_[e]},p);function p(){this.cache_={},this.isInMemoryStorage=!0}function d(e){var t=(0,o.dS)(e);return(e=new o.gQ).update(t),e=e.digest(),o.US.encodeByteArray(e)}function m(e,t){(0,o.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(T.logLevel=s.in.VERBOSE,x=T.log.bind(T),t&&C.set("logging_enabled",!0)):"function"==typeof e?x=e:(x=null,C.remove("logging_enabled"))}function v(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+S.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));T.error(n)}function g(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)}function y(e,t){return e===t?0:e<t?-1:1}function b(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.Pz)(t))}function w(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)n<i+t?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r}var _,E=(ss=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l(t)}}catch(e){}return new f})("localStorage"),C=ss("sessionStorage"),T=new s.Yd("@firebase/database"),I=(_=1,function(){return _++}),S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=S.apply(null,i):n+="object"==typeof i?(0,o.Pz)(i):i,n+=" "}return n},x=null,k=!0,N=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];!0===k&&(k=!1,null===x&&!0===C.get("logging_enabled")&&m(!0)),x&&(e=S.apply(null,t),x(e))},O=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];N.apply(void 0,(0,a.ev)([e],(0,a.CR)(t)))}},P=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+S.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));throw T.error(n),new Error(n)},A=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+S.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));T.warn(n)},R="[MIN_NAME]",D="[MAX_NAME]",M=function(e,t){if(e===t)return 0;if(e===R||t===D)return-1;if(t===R||e===D)return 1;var n=z(e),r=z(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null===r&&e<t?-1:1},L=function(e){if("object"!=typeof e||null===e)return(0,o.Pz)(e);var t,n=[];for(t in e)n.push(t);n.sort();for(var r="{",i=0;i<n.length;i++)0!==i&&(r+=","),r+=(0,o.Pz)(n[i]),r+=":",r+=L(e[n[i]]);return r+"}"};function F(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function j(e){var t,n,r,i;(0,o.hu)(!g(e),"Invalid JSON number"),0===e?t=1/e==-1/(r=n=0)?1:0:(t=e<0,r=(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,Math.round(e/Math.pow(2,-1074))));for(var a=[],s=52;s;--s)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;--s)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse();var u=a.join(""),c="";for(s=0;s<64;s+=8){var l=parseInt(u.substr(s,8),2).toString(16);c+=l=1===l.length?"0"+l:l}return c.toLowerCase()}function U(e,t){return"object"==typeof(t=setTimeout(e,t))&&t.unref&&t.unref(),t}var V=new RegExp("^-?(0*)\\d{1,10}$"),q=-2147483648,B=2147483647,z=function(e){return V.test(e)&&(e=Number(e),q<=e&&e<=B)?e:null},H=function(e){try{e()}catch(e){setTimeout((function(){var t=e.stack||"";throw A("Exception was thrown by user callback.",t),e}),Math.floor(0))}},W=(G.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},G.prototype.addTokenChangeListener=function(e){var t;null!==(t=this.appCheckProvider)&&void 0!==t&&t.get().then((function(t){return t.addTokenListener(e)}))},G.prototype.notifyForInvalidToken=function(){A('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},G);function G(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null!=t&&t.get().then((function(e){return n.appCheck=e}))}var K=(Z.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(N("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},Z.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},Z.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},Z.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',A(e)},Z);function Z(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}var Y=($.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},$.prototype.addTokenChangeListener=function(e){e(this.accessToken)},$.prototype.removeTokenChangeListener=function(e){},$.prototype.notifyForInvalidToken=function(){},$.OWNER="owner",$);function $(e){this.accessToken=e}var Q=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,J="websocket",X="long_polling",ee=(te.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},te.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(te.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&E.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),te.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},te.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return e+this.host+"/"+t},te);function te(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=E.get("host:"+e)||this._host}function ne(e,t,n){var r;if((0,o.hu)("string"==typeof t,"typeof type must == string"),(0,o.hu)("object"==typeof n,"typeof params must == object"),t===J)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==X)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}((t=e).host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams)&&(n.ns=e.namespace);var i=[];return F(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var re=(ie.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},ie.prototype.get=function(){return(0,o.p$)(this.counters_)},ie);function ie(){this.counters_={}}var oe={},ae={};function se(e){return e=e.toString(),oe[e]||(oe[e]=new re),oe[e]}var ue=(ce.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},ce.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=0;t<e.length;++t)!function(t){e[t]&&H((function(){n.onMessage_(e[t])}))}(t);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},ce);function ce(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}var le=(he.prototype.open=function(e,t){var n,r,i,s=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ue(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){s.log_("Timed out trying to connect."),s.onClosed_(),s.connectTimeoutTimer_=null}),Math.floor(3e4)),n=function(){var e;s.isClosed_||(s.scriptTagHolder=new fe((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,a.CR)(e,5),r=n[0],i=n[1],o=n[2];if(n[3],n[4],s.incrementIncomingBytes_(e),s.scriptTagHolder)if(s.connectTimeoutTimer_&&(clearTimeout(s.connectTimeoutTimer_),s.connectTimeoutTimer_=null),s.everConnected_=!0,"start"===r)s.id=i,s.password=o;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);i?(s.scriptTagHolder.sendNewPolls=!1,s.myPacketOrderer.closeAfter(i,(function(){s.onClosed_()}))):s.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(r=(0,a.CR)(e,2))[0],r=r[1];s.incrementIncomingBytes_(e),s.myPacketOrderer.handleResponse(n,r)}),(function(){s.onClosed_()}),s.urlFn),(e={start:"t"}).ser=Math.floor(1e8*Math.random()),s.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=s.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",s.transportSessionId&&(e.s=s.transportSessionId),s.lastSessionId&&(e.ls=s.lastSessionId),s.applicationId&&(e.p=s.applicationId),s.appCheckToken&&(e.ac=s.appCheckToken),"undefined"!=typeof location&&location.hostname&&Q.test(location.hostname)&&(e.r="f"),e=s.urlFn(e),s.log_("Connecting via long-poll to "+e),s.scriptTagHolder.addTag(e,(function(){})))},(0,o.Yr)()||"complete"===document.readyState?n():(r=!1,i=function(){document.body?r||(r=!0,n()):setTimeout(i,Math.floor(10))},document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&i()})),window.attachEvent("onload",i)))},he.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},he.forceAllow=function(){he.forceAllow_=!0},he.forceDisallow=function(){he.forceDisallow_=!0},he.isAvailable=function(){return!((0,o.Yr)()||!he.forceAllow_&&(he.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},he.prototype.markConnectionHealthy=function(){},he.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},he.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},he.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},he.prototype.send=function(e){e=(0,o.Pz)(e),this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var t=w(e=(0,o.h$)(e),1840),n=0;n<t.length;n++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,t.length,t[n]),this.curSegmentNum++},he.prototype.addDisconnectPingFrame=function(e,t){var n;(0,o.Yr)()||(this.myDisconnFrame=document.createElement("iframe"),(n={dframe:"t"}).id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame))},he.prototype.incrementIncomingBytes_=function(e){e=(0,o.Pz)(e).length,this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},he);function he(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=O(e),this.stats_=se(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),ne(t,X,e)}}var fe=(pe.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||N("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},pe.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},pe.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},pe.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(0<this.pendingSegs.length?2:1)){this.currentSerial++,(e={}).id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var e=this.urlFn(e),t="",n=0;0<this.pendingSegs.length&&this.pendingSegs[0].d.length+30+t.length<=1870;){var r=this.pendingSegs.shift();t=t+"&seg"+n+"="+r.seg+"&ts"+n+"="+r.ts+"&d"+n+"="+r.d;n++}return this.addLongPollTag_(e+=t,this.currentSerial),!0}return!1},pe.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},pe.prototype.addLongPollTag_=function(e,t){var n=this;function r(){n.outstandingRequests.delete(t),n.newRequest_()}this.outstandingRequests.add(t);var i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},pe.prototype.addTag=function(e,t){var n=this;(0,o.Yr)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){N("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}}),Math.floor(1))},pe);function pe(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=I(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=pe.createIFrame_(),t="",t="<html><body>"+(t=this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)?'<script>document.domain="'+document.domain+'";<\/script>':t)+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(t),this.myIFrame.doc.close()}catch(e){N("frame writing exception"),e.stack&&N(e.stack),N(e)}}}var de=null;"undefined"!=typeof MozWebSocket?de=MozWebSocket:"undefined"!=typeof WebSocket&&(de=WebSocket);var me=(ve.connectionURL_=function(e,t,n,r){var i={v:"5"};return!(0,o.Yr)()&&"undefined"!=typeof location&&location.hostname&&Q.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),ne(e,J,i)},ve.prototype.open=function(e,t){var n,r,i,a=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,E.set("previous_websocket_failure",!0);try{(0,o.Yr)()?(n=this.nodeAdmin?"AdminNode":"Node",s={headers:{"User-Agent":"Firebase/5/"+u+"/"+process.platform+"/"+n,"X-Firebase-GMPID":this.applicationId||""}},this.nodeAdmin?s.headers.Authorization=this.authToken||"":s.headers["X-Firebase-AppCheck"]=this.appCheckToken||"",r=process.env,(i=0===this.connURL.indexOf("wss://")?r.HTTPS_PROXY||r.https_proxy:r.HTTP_PROXY||r.http_proxy)&&(s.proxy={origin:i})):s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}},this.mySock=new de(this.connURL,[],s)}catch(e){this.log_("Error instantiating WebSocket.");var s=e.message||e.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){a.log_("Websocket connected."),a.everConnected_=!0},this.mySock.onclose=function(){a.log_("Websocket connection was disconnected."),a.mySock=null,a.onClosed_()},this.mySock.onmessage=function(e){a.handleIncomingFrame(e)},this.mySock.onerror=function(e){a.log_("WebSocket error.  Closing connection."),(e=e.message||e.data)&&a.log_(e),a.onClosed_()}},ve.prototype.start=function(){},ve.forceDisallow=function(){ve.forceDisallow_=!0},ve.isAvailable=function(){var e,t=!1;return"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/))&&1<e.length&&parseFloat(e[1])<4.4&&(t=!0),!t&&null!==de&&!ve.forceDisallow_},ve.previouslyFailed=function(){return E.isInMemoryStorage||!0===E.get("previous_websocket_failure")},ve.prototype.markConnectionHealthy=function(){E.remove("previous_websocket_failure")},ve.prototype.appendFrame_=function(e){this.frames.push(e),this.frames.length===this.totalFrames&&(e=this.frames.join(""),e=(this.frames=null,o.cI)(e),this.onMessage(e))},ve.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},ve.prototype.extractFrameCount_=function(e){if((0,o.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},ve.prototype.handleIncomingFrame=function(e){null!==this.mySock&&(e=e.data,this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),(null!==this.frames||null!==(e=this.extractFrameCount_(e)))&&this.appendFrame_(e))},ve.prototype.send=function(e){this.resetKeepAlive(),e=(0,o.Pz)(e),this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var t=w(e,16384);1<t.length&&this.sendString_(String(t.length));for(var n=0;n<t.length;n++)this.sendString_(t[n])},ve.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},ve.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},ve.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},ve.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},ve.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},ve.responsesRequiredToBeHealthy=2,ve.healthyTimeout=3e4,ve);function ve(e,t,n,r,i,o,a){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=O(this.connId),this.stats_=se(t),this.connURL=ve.connectionURL_(t,o,a,r),this.nodeAdmin=t.nodeAdmin}var ge=(Object.defineProperty(ye,"ALL_TRANSPORTS",{get:function(){return[le,me]},enumerable:!1,configurable:!0}),ye.prototype.initTransports_=function(e){var t,n,r=me&&me.isAvailable(),i=r&&!me.previouslyFailed();if(e.webSocketOnly&&(r||A("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[me];else{var o=this.transports_=[];try{for(var s=(0,a.XA)(ye.ALL_TRANSPORTS),u=s.next();!u.done;u=s.next()){var c=u.value;c&&c.isAvailable()&&o.push(c)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}}},ye.prototype.initialTransport=function(){if(0<this.transports_.length)return this.transports_[0];throw new Error("No transports available")},ye.prototype.upgradeTransport=function(){return 1<this.transports_.length?this.transports_[1]:null},ye);function ye(e){this.initTransports_(e)}var be=(we.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0)),0<(t=t.healthyTimeout||0)&&(this.healthyTimeout_=U((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&102400<e.conn_.bytesReceived?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&10240<e.conn_.bytesSent?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(t)))},we.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},we.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},we.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},we.prototype.sendRequest=function(e){this.sendData_({t:"d",d:e})},we.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},we.prototype.onSecondaryControl_=function(e){"t"in e&&("a"===(e=e.t)?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_()))},we.prototype.onSecondaryMessageReceived_=function(e){var t=b("t",e);e=b("d",e);if("c"===t)this.onSecondaryControl_(e);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(e)}},we.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},we.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},we.prototype.onPrimaryMessageReceived_=function(e){var t=b("t",e);e=b("d",e);"c"===t?this.onControl_(e):"d"===t&&this.onDataMessage_(e)},we.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},we.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},we.prototype.onControl_=function(e){var t=b("t",e);if("d"in e)if(e=e.d,"h"===t)this.onHandshake_(e);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var n=0;n<this.pendingDataMessages.length;++n)this.onDataMessage_(this.pendingDataMessages[n]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(e):"r"===t?this.onReset_(e):"e"===t?v("Server Error: "+e):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):v("Unknown control packet command: "+t)},we.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&A("Protocol version mismatch detected"),this.tryStartUpgrade_())},we.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},we.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_);e=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,e),U((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},we.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},we.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):U((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},we.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},we.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},we.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(E.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},we.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},we.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},we.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},we.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},we);function we(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=O("c:"+this.id+":"),this.transportManager_=new ge(t),this.log_("Connection created"),this.start_()}var _e=(Ee.prototype.put=function(e,t,n,r){},Ee.prototype.merge=function(e,t,n,r){},Ee.prototype.refreshAuthToken=function(e){},Ee.prototype.refreshAppCheckToken=function(e){},Ee.prototype.onDisconnectPut=function(e,t,n){},Ee.prototype.onDisconnectMerge=function(e,t,n){},Ee.prototype.onDisconnectCancel=function(e,t){},Ee.prototype.reportStats=function(e){},Ee);function Ee(){}var Ce=(Te.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=(0,a.ev)([],(0,a.CR)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},Te.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n}),(e=this.getInitialEvent(e))&&t.apply(n,e)},Te.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},Te.prototype.validateEventType_=function(e){(0,o.hu)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},Te);function Te(e){this.allowedEvents_=e,this.listeners_={},(0,o.hu)(Array.isArray(e)&&0<e.length,"Requires a non-empty array")}var Ie,Se=(Ie=Ce,(0,a.ZT)(xe,Ie),xe.getInstance=function(){return new xe},xe.prototype.getInitialEvent=function(e){return(0,o.hu)("online"===e,"Unknown event type: "+e),[this.online_]},xe.prototype.currentlyOnline=function(){return this.online_},xe);function xe(){var e=Ie.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,o.uI)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}var ke=(Ne.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},Ne);function Ne(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)0<this.pieces_[r].length&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}function Oe(){return new ke("")}function Pe(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ae(e){return e.pieces_.length-e.pieceNum_}function Re(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new ke(e.pieces_,t)}function De(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Me(e,t){return e.pieces_.slice(e.pieceNum_+(t=void 0===t?0:t))}function Le(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ke(t,0)}function Fe(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ke)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)0<i[r].length&&n.push(i[r])}return new ke(n,0)}function je(e){return e.pieceNum_>=e.pieces_.length}function Ue(e,t){var n=Pe(e),r=Pe(t);if(null===n)return t;if(n===r)return Ue(Re(e),Re(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ve(e,t){for(var n=Me(e,0),r=Me(t,0),i=0;i<n.length&&i<r.length;i++){var o=M(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function qe(e,t){if(Ae(e)!==Ae(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Be(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Ae(e)>Ae(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var ze=function(e,t){this.errorPrefix_=t,this.parts_=Me(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.ug)(this.parts_[n]);He(this)};function He(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+We(e))}function We(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Ge,Ke=(Ge=Ce,(0,a.ZT)(Ze,Ge),Ze.getInstance=function(){return new Ze},Ze.prototype.getInitialEvent=function(e){return(0,o.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]},Ze);function Ze(){var e,t,n=Ge.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),n.visible_=!0,t&&document.addEventListener(t,(function(){var t=!document[e];t!==n.visible_&&(n.visible_=t,n.trigger("visible",t))}),!1),n}var Ye,$e=1e3,Qe=(Ye=_e,(0,a.ZT)(Je,Ye),Je.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_;t={r,a:e,b:t};this.log_((0,o.Pz)(t)),(0,o.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(t),n&&(this.requestCBHash_[r]=n)},Je.prototype.get=function(e){var t=this;this.initConnection_();var n=new o.BH,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},Je.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.hu)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId."),n={onComplete:r,hashFn:t,query:e,tag:n},this.listens.get(a).set(i,n),this.connected_&&this.sendListen_(n)},Je.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},Je.prototype.sendListen_=function(e){var t=this,n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);var o={p:r};e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var a=o.d,s=o.s;Je.warnOnListenWarnings_(a,n),(t.listens.get(r)&&t.listens.get(r).get(i))===e&&(t.log_("listen response",o),"ok"!==s&&t.removeListen_(r,i),e.onComplete&&e.onComplete(s,a))}))},Je.warnOnListenWarnings_=function(e,t){e&&"object"==typeof e&&(0,o.r3)(e,"w")&&(e=(0,o.DV)(e,"w"),Array.isArray(e)&&~e.indexOf("no_index")&&(e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',t=t._path.toString(),A("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+e+" at "+t+" to your security rules for better performance.")))},Je.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},Je.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,o.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},Je.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},Je.prototype.tryAuth=function(){var e,t,n,r=this;this.connected_&&this.authToken_&&(e=this.authToken_,t=(0,o.w9)(e)?"auth":"gauth",n={cred:e},null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(function(t){var n=t.s;t=t.d||"error";r.authToken_===e&&("ok"===n?r.invalidAuthTokenCount_=0:r.onAuthRevoked_(n,t))})))},Je.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s;t=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,t)}))},Je.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},Je.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t),e={p:e},r&&(e.q=n,e.t=r),this.sendRequest("n",e)},Je.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},Je.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},Je.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},Je.prototype.sendOnDisconnect_=function(e,t,n,r){n={p:t,d:n},this.log_("onDisconnect "+e,n),this.sendRequest(e,n,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},Je.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},Je.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},Je.prototype.putInternal=function(e,t,n,r,i){this.initConnection_(),n={p:t,d:n},void 0!==i&&(n.h=i),this.outstandingPuts_.push({action:e,request:n,onComplete:r}),this.outstandingPutCount_++,r=this.outstandingPuts_.length-1,this.connected_?this.sendPut_(r):this.log_("Buffering put: "+t)},Je.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},Je.prototype.reportStats=function(e){var t=this;this.connected_&&(this.log_("reportStats",e={c:e}),this.sendRequest("s",e,(function(e){"ok"!==e.s&&(e=e.d,t.log_("reportStats","Error sending stats: "+e))})))},Je.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.Pz)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},Je.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):v("Unrecognized action received from server: "+(0,o.Pz)(e)+"\nAre you using the latest client?")},Je.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},Je.prototype.scheduleConnect_=function(e){var t=this;(0,o.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},Je.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},Je.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$e,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},Je.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=$e,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},Je.prototype.onRealtimeDisconnect_=function(){var e;this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()&&(this.visible_?this.lastConnectionEstablishedTime_&&(3e4<(new Date).getTime()-this.lastConnectionEstablishedTime_&&(this.reconnectDelay_=$e),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime()),e=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-e),e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)),this.onConnectStatus_(!1)},Je.prototype.establishConnection_=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,t,n,r,i,s,u,c,l,h,f,p=this;return(0,a.Jh)(this,(function(d){switch(d.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Je.nextConnectionId_++,i=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,n())},h=function(e){(0,o.hu)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:c,sendRequest:h},l=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)])];case 2:return f=a.CR.apply(void 0,[d.sent(),2]),h=f[0],f=f[1],s?N("getToken() completed but was canceled"):(N("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,u=new be(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(function(e){A(e+" ("+p.repoInfo_.toString()+")"),p.interrupt("server_kill")}),i)),[3,4];case 3:return f=d.sent(),this.log_("Failed to get token: "+f),s||(this.repoInfo_.nodeAdmin&&A(f),c()),[3,4];case 4:return[2]}}))}))},Je.prototype.interrupt=function(e){N("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},Je.prototype.resume=function(e){N("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.xb)(this.interruptReasons_)&&(this.reconnectDelay_=$e,this.realtime_||this.scheduleConnect_(0))},Je.prototype.handleTimestamp_=function(e){e-=(new Date).getTime(),this.onServerInfoUpdate_({serverTimeOffset:e})},Je.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},Je.prototype.onListenRevoked_=function(e,t){t=t?t.map((function(e){return L(e)})).join("$"):"default",(t=this.removeListen_(e,t))&&t.onComplete&&t.onComplete("permission_denied")},Je.prototype.removeListen_=function(e,t){var n,r=new ke(e).toString();return this.listens.has(r)?(n=(e=this.listens.get(r)).get(t),e.delete(t),0===e.size&&this.listens.delete(r)):n=void 0,n},Je.prototype.onAuthRevoked_=function(e,t){N("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,3<=this.invalidAuthTokenCount_&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},Je.prototype.onAppCheckRevoked_=function(e,t){N("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,3<=this.invalidAppCheckTokenCount_&&this.appCheckTokenProvider_.notifyForInvalidToken())},Je.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},Je.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,a.XA)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,a.XA)(s.values()),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},Je.prototype.sendConnectStats_=function(){var e={},t="js";e["sdk."+(t=(0,o.Yr)()?this.repoInfo_.nodeAdmin?"admin_node":"node":t)+"."+u.replace(/\./g,"-")]=1,(0,o.uI)()?e["framework.cordova"]=1:(0,o.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)},Je.prototype.shouldReconnect_=function(){var e=Se.getInstance().currentlyOnline();return(0,o.xb)(this.interruptReasons_)&&e},Je.nextPersistentConnectionId_=0,Je.nextConnectionId_=0,Je);function Je(e,t,n,r,i,a,s,u){var c=Ye.call(this)||this;if(c.repoInfo_=e,c.applicationId_=t,c.onDataUpdate_=n,c.onConnectStatus_=r,c.onServerInfoUpdate_=i,c.authTokenProvider_=a,c.appCheckTokenProvider_=s,c.authOverride_=u,c.id=Je.nextPersistentConnectionId_++,c.log_=O("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=$e,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!(0,o.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Ke.getInstance().on("visible",c.onVisible_,c),-1===e.host.indexOf("fblocal")&&Se.getInstance().on("online",c.onOnline_,c),c}var Xe=(et.Wrap=function(e,t){return new et(e,t)},et);function et(e,t){this.name=e,this.node=t}var tt,nt;rt.prototype.getCompare=function(){return this.compare.bind(this)},rt.prototype.indexedValueChanged=function(e,t){return e=new Xe(R,e),t=new Xe(R,t),0!==this.compare(e,t)},rt.prototype.minPost=function(){return Xe.MIN},n=rt;function rt(){}function it(){return null!==nt&&nt.apply(this,arguments)||this}var ot=new(ss=(nt=n,(0,a.ZT)(it,nt),Object.defineProperty(it,"__EMPTY_NODE",{get:function(){return tt},set:function(e){tt=e},enumerable:!1,configurable:!0}),it.prototype.compare=function(e,t){return M(e.name,t.name)},it.prototype.isDefinedOn=function(e){throw(0,o.g5)("KeyIndex.isDefinedOn not expected to be called.")},it.prototype.indexedValueChanged=function(e,t){return!1},it.prototype.minPost=function(){return Xe.MIN},it.prototype.maxPost=function(){return new Xe(D,tt)},it.prototype.makePost=function(e,t){return(0,o.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Xe(e,tt)},it.prototype.toString=function(){return".key"},it)),at=(st.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_.pop(),t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value};if(this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},st.prototype.hasNext=function(){return 0<this.nodeStack_.length},st.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},st);function st(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}var ut=(ct.prototype.copy=function(e,t,n,r,i){return new ct(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},ct.prototype.count=function(){return this.left.count()+1+this.right.count()},ct.prototype.isEmpty=function(){return!1},ct.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},ct.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},ct.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},ct.prototype.minKey=function(){return this.min_().key},ct.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},ct.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},ct.prototype.removeMin_=function(){if(this.left.isEmpty())return ft.EMPTY_NODE;var e=this;return(e=(e=e.left.isRed_()||e.left.left.isRed_()?e:e.moveRedLeft_()).copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},ct.prototype.remove=function(e,t){var n,r=this;if(t(e,r.key)<0)r=(r=r.left.isEmpty()||r.left.isRed_()||r.left.left.isRed_()?r:r.moveRedLeft_()).copy(null,null,null,r.left.remove(e,t),null);else{if(0===t(e,(r=(r=r.left.isRed_()?r.rotateRight_():r).right.isEmpty()||r.right.isRed_()||r.right.left.isRed_()?r:r.moveRedRight_()).key)){if(r.right.isEmpty())return ft.EMPTY_NODE;n=r.right.min_(),r=r.copy(n.key,n.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()},ct.prototype.isRed_=function(){return this.color},ct.prototype.fixUp_=function(){var e=this;return(e=(e=e.right.isRed_()&&!e.left.isRed_()?e.rotateLeft_():e).left.isRed_()&&e.left.left.isRed_()?e.rotateRight_():e).left.isRed_()&&e.right.isRed_()?e.colorFlip_():e},ct.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()?(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_():e},ct.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()?(e=e.rotateRight_()).colorFlip_():e},ct.prototype.rotateLeft_=function(){var e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},ct.prototype.rotateRight_=function(){var e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},ct.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},ct.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},ct.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},ct.RED=!0,ct.BLACK=!1,ct);function ct(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ct.RED,this.left=null!=r?r:ft.EMPTY_NODE,this.right=null!=i?i:ft.EMPTY_NODE}function lt(){}lt.prototype.copy=function(e,t,n,r,i){return this},lt.prototype.insert=function(e,t,n){return new ut(e,t,null)},lt.prototype.remove=function(e,t){return this},lt.prototype.count=function(){return 0},lt.prototype.isEmpty=function(){return!0},lt.prototype.inorderTraversal=function(e){return!1},lt.prototype.reverseTraversal=function(e){return!1},lt.prototype.minKey=function(){return null},lt.prototype.maxKey=function(){return null},lt.prototype.check_=function(){return 0},lt.prototype.isRed_=function(){return!1},Ce=lt;var ht,ft=(pt.prototype.insert=function(e,t){return new pt(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ut.BLACK,null,null))},pt.prototype.remove=function(e){return new pt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ut.BLACK,null,null))},pt.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:0<t&&(n=n.right)}return null},pt.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:0<t&&(n=(r=n).right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},pt.prototype.isEmpty=function(){return this.root_.isEmpty()},pt.prototype.count=function(){return this.root_.count()},pt.prototype.minKey=function(){return this.root_.minKey()},pt.prototype.maxKey=function(){return this.root_.maxKey()},pt.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},pt.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},pt.prototype.getIterator=function(e){return new at(this.root_,null,this.comparator_,!1,e)},pt.prototype.getIteratorFrom=function(e,t){return new at(this.root_,e,this.comparator_,!1,t)},pt.prototype.getReverseIteratorFrom=function(e,t){return new at(this.root_,e,this.comparator_,!0,t)},pt.prototype.getReverseIterator=function(e){return new at(this.root_,null,this.comparator_,!0,e)},pt.EMPTY_NODE=new Ce,pt);function pt(e,t){void 0===t&&(t=pt.EMPTY_NODE),this.comparator_=e,this.root_=t}function dt(e,t){return M(e.name,t.name)}function mt(e,t){return M(e,t)}function vt(e){return"number"==typeof e?"number:"+j(e):"string:"+e}var gt,yt,bt,wt,_t=function(e){var t;e.isLeafNode()?(t=e.val(),(0,o.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,o.r3)(t,".sv"),"Priority must be a string or number.")):(0,o.hu)(e===ht||e.isEmpty(),"priority of unexpected type."),(0,o.hu)(e===ht||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Et=(Object.defineProperty(Ct,"__childrenNodeConstructor",{get:function(){return gt},set:function(e){gt=e},enumerable:!1,configurable:!0}),Ct.prototype.isLeafNode=function(){return!0},Ct.prototype.getPriority=function(){return this.priorityNode_},Ct.prototype.updatePriority=function(e){return new Ct(this.value_,e)},Ct.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:Ct.__childrenNodeConstructor.EMPTY_NODE},Ct.prototype.getChild=function(e){return je(e)?this:".priority"===Pe(e)?this.priorityNode_:Ct.__childrenNodeConstructor.EMPTY_NODE},Ct.prototype.hasChild=function(){return!1},Ct.prototype.getPredecessorChildName=function(e,t){return null},Ct.prototype.updateImmediateChild=function(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Ct.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)},Ct.prototype.updateChild=function(e,t){var n=Pe(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:((0,o.hu)(".priority"!==n||1===Ae(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Ct.__childrenNodeConstructor.EMPTY_NODE.updateChild(Re(e),t)))},Ct.prototype.isEmpty=function(){return!1},Ct.prototype.numChildren=function(){return 0},Ct.prototype.forEachChild=function(e,t){return!1},Ct.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},Ct.prototype.hash=function(){var e,t;return null===this.lazyHash_&&(e="",this.priorityNode_.isEmpty()||(e+="priority:"+vt(this.priorityNode_.val())+":"),e+=(t=typeof this.value_)+":",e+="number"==t?j(this.value_):this.value_,this.lazyHash_=d(e)),this.lazyHash_},Ct.prototype.getValue=function(){return this.value_},Ct.prototype.compareTo=function(e){return e===Ct.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ct.__childrenNodeConstructor?-1:((0,o.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},Ct.prototype.compareToLeafNode_=function(e){var t=typeof e.value_,n=typeof this.value_,r=Ct.VALUE_TYPE_ORDER.indexOf(t),i=Ct.VALUE_TYPE_ORDER.indexOf(n);return(0,o.hu)(0<=r,"Unknown leaf type: "+t),(0,o.hu)(0<=i,"Unknown leaf type: "+n),r===i?"object"==n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r},Ct.prototype.withIndex=function(){return this},Ct.prototype.isIndexed=function(){return!0},Ct.prototype.equals=function(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)},Ct.VALUE_TYPE_ORDER=["object","boolean","number","string"],Ct);function Ct(e,t){void 0===t&&(t=Ct.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=t,(this.lazyHash_=null,o.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),_t(this.priorityNode_)}function Tt(){return null!==wt&&wt.apply(this,arguments)||this}var It=new(wt=n,(0,a.ZT)(Tt,wt),Tt.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority();return 0===(r=n.compareTo(r))?M(e.name,t.name):r},Tt.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},Tt.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},Tt.prototype.minPost=function(){return Xe.MIN},Tt.prototype.maxPost=function(){return new Xe(D,new Et("[PRIORITY-POST]",bt))},Tt.prototype.makePost=function(e,t){return e=yt(e),new Xe(t,new Et("[PRIORITY-POST]",e))},Tt.prototype.toString=function(){return".priority"},Tt),St=Math.log(2),xt=(kt.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},kt);function kt(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/St,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}var Nt,Ot,Pt=function(e,t,n,r){e.sort(t);var i=function(t,r){if(0==(o=r-t))return null;if(1==o)return a=e[t],s=n?n(a):a,new ut(s,a.node,ut.BLACK,null,null);var o=parseInt(o/2,10)+t,a=(t=i(t,o),r=i(o+1,r),e[o]),s=n?n(a):a;return new ut(s,a.node,ut.BLACK,t,r)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t,t=i(1+o,s),s=e[o],o=n?n(s):s,u(new ut(o,s.node,r,null,t))},u=function(e){r=r?r.left=e:o=e},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,ut.BLACK):(s(h,ut.BLACK),s(h,ut.RED))}return o}(new xt(e.length));return new ft(r||t,o)},At={},Rt=(Object.defineProperty(Dt,"Default",{get:function(){return(0,o.hu)(It,"ChildrenNode.ts has not been loaded"),Nt=Nt||new Dt({".priority":At},{".priority":It})},enumerable:!1,configurable:!0}),Dt.prototype.get=function(e){var t=(0,o.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ft?t:null},Dt.prototype.hasIndex=function(e){return(0,o.r3)(this.indexSet_,e.toString())},Dt.prototype.addIndex=function(e,t){(0,o.hu)(e!==ot,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var n=[],r=!1,i=t.getIterator(Xe.Wrap),s=i.getNext();s;)r=r||e.isDefinedOn(s.node),n.push(s),s=i.getNext();var u=r?Pt(n,e.getCompare()):At,c=e.toString(),l=(0,a.pi)({},this.indexSet_);return l[c]=e,(t=(0,a.pi)({},this.indexes_))[c]=u,new Dt(t,l)},Dt.prototype.addToIndexes=function(e,t){var n=this;return new Dt((0,o.UI)(this.indexes_,(function(r,i){var a=(0,o.DV)(n.indexSet_,i);if((0,o.hu)(a,"Missing index implementation for "+i),r===At){if(a.isDefinedOn(e.node)){for(var s=[],u=t.getIterator(Xe.Wrap),c=u.getNext();c;)c.name!==e.name&&s.push(c),c=u.getNext();return s.push(e),Pt(s,a.getCompare())}return At}return a=r,(a=(i=t.get(e.name))?r.remove(new Xe(e.name,i)):a).insert(e,e.node)})),this.indexSet_)},Dt.prototype.removeFromIndexes=function(e,t){return new Dt((0,o.UI)(this.indexes_,(function(n){if(n===At)return n;var r=t.get(e.name);return r?n.remove(new Xe(e.name,r)):n})),this.indexSet_)},Dt);function Dt(e,t){this.indexes_=e,this.indexSet_=t}var Mt,Lt=(Object.defineProperty(Ft,"EMPTY_NODE",{get:function(){return Ot=Ot||new Ft(new ft(mt),null,Rt.Default)},enumerable:!1,configurable:!0}),Ft.prototype.isLeafNode=function(){return!1},Ft.prototype.getPriority=function(){return this.priorityNode_||Ot},Ft.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new Ft(this.children_,e,this.indexMap_)},Ft.prototype.getImmediateChild=function(e){return".priority"===e?this.getPriority():null===(e=this.children_.get(e))?Ot:e},Ft.prototype.getChild=function(e){var t=Pe(e);return null===t?this:this.getImmediateChild(t).getChild(Re(e))},Ft.prototype.hasChild=function(e){return null!==this.children_.get(e)},Ft.prototype.updateImmediateChild=function(e,t){if((0,o.hu)(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);var n=new Xe(e,t),r=void 0,i=t.isEmpty()?(r=this.children_.remove(e),this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),this.indexMap_.addToIndexes(n,this.children_));n=r.isEmpty()?Ot:this.priorityNode_;return new Ft(r,n,i)},Ft.prototype.updateChild=function(e,t){var n=Pe(e);return null===n?t:((0,o.hu)(".priority"!==Pe(e)||1===Ae(e),".priority must be the last token in a path"),t=this.getImmediateChild(n).updateChild(Re(e),t),this.updateImmediateChild(n,t))},Ft.prototype.isEmpty=function(){return this.children_.isEmpty()},Ft.prototype.numChildren=function(){return this.children_.count()},Ft.prototype.val=function(e){if(this.isEmpty())return null;var t={},n=0,r=0,i=!0;if(this.forEachChild(It,(function(o,a){t[o]=a.val(e),n++,i&&Ft.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){var o,a=[];for(o in t)a[o]=t[o];return a}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t},Ft.prototype.hash=function(){var e;return null===this.lazyHash_&&(e="",this.getPriority().isEmpty()||(e+="priority:"+vt(this.getPriority().val())+":"),this.forEachChild(It,(function(t,n){""!==(n=n.hash())&&(e+=":"+t+":"+n)})),this.lazyHash_=""===e?"":d(e)),this.lazyHash_},Ft.prototype.getPredecessorChildName=function(e,t,n){return(n=this.resolveIndex_(n))?(t=n.getPredecessorKey(new Xe(e,t)))?t.name:null:this.children_.getPredecessorKey(e)},Ft.prototype.getFirstChildName=function(e){return(e=this.resolveIndex_(e))?(e=e.minKey())&&e.name:this.children_.minKey()},Ft.prototype.getFirstChild=function(e){return(e=this.getFirstChildName(e))?new Xe(e,this.children_.get(e)):null},Ft.prototype.getLastChildName=function(e){return(e=this.resolveIndex_(e))?(e=e.maxKey())&&e.name:this.children_.maxKey()},Ft.prototype.getLastChild=function(e){return(e=this.getLastChildName(e))?new Xe(e,this.children_.get(e)):null},Ft.prototype.forEachChild=function(e,t){return(e=this.resolveIndex_(e))?e.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},Ft.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},Ft.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Xe.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},Ft.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},Ft.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Xe.Wrap),i=r.peek();null!=i&&0<t.compare(i,e);)r.getNext(),i=r.peek();return r},Ft.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ut?-1:0},Ft.prototype.withIndex=function(e){return e===ot||this.indexMap_.hasIndex(e)?this:(e=this.indexMap_.addIndex(e,this.children_),new Ft(this.children_,this.priorityNode_,e))},Ft.prototype.isIndexed=function(e){return e===ot||this.indexMap_.hasIndex(e)},Ft.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()!==e.children_.count())return!1;for(var t=this.getIterator(It),n=e.getIterator(It),r=t.getNext(),i=n.getNext();r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=t.getNext(),i=n.getNext()}return null===r&&null===i}return!1},Ft.prototype.resolveIndex_=function(e){return e===ot?null:this.indexMap_.get(e.toString())},Ft.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,Ft);function Ft(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&_t(this.priorityNode_),this.children_.isEmpty()&&(0,o.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}function jt(){return Mt.call(this,new ft(mt),Lt.EMPTY_NODE,Rt.Default)||this}var Ut=new(Mt=Lt,(0,a.ZT)(jt,Mt),jt.prototype.compareTo=function(e){return e===this?0:1},jt.prototype.equals=function(e){return e===this},jt.prototype.getPriority=function(){return this},jt.prototype.getImmediateChild=function(e){return Lt.EMPTY_NODE},jt.prototype.isEmpty=function(){return!1},jt);Object.defineProperties(Xe,{MIN:{value:new Xe(R,Lt.EMPTY_NODE)},MAX:{value:new Xe(D,Ut)}}),ss.__EMPTY_NODE=Lt.EMPTY_NODE,Et.__childrenNodeConstructor=Lt,bt=ht=Ut;function Vt(e,t){if(void 0===t&&(t=null),null===e)return Lt.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"!=typeof(e="object"==typeof e&&".value"in e&&null!==e[".value"]?e[".value"]:e)||".sv"in e)return new Et(e,Vt(t));if(e instanceof Array){var n=Lt.EMPTY_NODE;return F(e,(function(t,r){(0,o.r3)(e,t)&&"."!==t.substring(0,1)&&(!(r=Vt(r)).isLeafNode()&&r.isEmpty()||(n=n.updateImmediateChild(t,r)))})),n.updatePriority(Vt(t))}var r=[],i=!1;if(F(e,(function(e,t){"."!==e.substring(0,1)&&((t=Vt(t)).isEmpty()||(i=i||!t.getPriority().isEmpty(),r.push(new Xe(e,t))))})),0===r.length)return Lt.EMPTY_NODE;var a=Pt(r,dt,(function(e){return e.name}),mt);if(i){var s=Pt(r,It.getCompare());return new Lt(a,Vt(t),new Rt({".priority":s},{".priority":It}))}return new Lt(a,Vt(t),Rt.Default)}yt=Vt;var qt,Bt,zt=(qt=n,(0,a.ZT)(Ht,qt),Ht.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},Ht.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},Ht.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node);return 0===(r=n.compareTo(r))?M(e.name,t.name):r},Ht.prototype.makePost=function(e,t){return e=Vt(e),e=Lt.EMPTY_NODE.updateChild(this.indexPath_,e),new Xe(t,e)},Ht.prototype.maxPost=function(){var e=Lt.EMPTY_NODE.updateChild(this.indexPath_,Ut);return new Xe(D,e)},Ht.prototype.toString=function(){return Me(this.indexPath_,0).join("/")},Ht);function Ht(e){var t=qt.call(this)||this;return t.indexPath_=e,(0,o.hu)(!je(e)&&".priority"!==Pe(e),"Can't create PathIndex with empty path or .priority key"),t}function Wt(){return null!==Bt&&Bt.apply(this,arguments)||this}function Gt(e){if(e===""+B)return"-";var t=z(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;0<=i&&"z"===n[i];)i--;return-1===i?D:(t=n[i],t=Qt.charAt(Qt.indexOf(t)+1),n[i]=t,n.slice(0,i+1).join(""))}function Kt(e){if(e===""+q)return R;var t=z(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?""+B:(delete n[n.length-1],n.join("")):(n[n.length-1]=Qt.charAt(Qt.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))}var Zt,Yt,$t=new(Bt=n,(0,a.ZT)(Wt,Bt),Wt.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?M(e.name,t.name):n},Wt.prototype.isDefinedOn=function(e){return!0},Wt.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},Wt.prototype.minPost=function(){return Xe.MIN},Wt.prototype.maxPost=function(){return Xe.MAX},Wt.prototype.makePost=function(e,t){return e=Vt(e),new Xe(t,e)},Wt.prototype.toString=function(){return".value"},Wt),Qt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Jt=(Zt=0,Yt=[],function(e){var t=e===Zt;Zt=e;for(var n=new Array(8),r=7;0<=r;r--)n[r]=Qt.charAt(e%64),e=Math.floor(e/64);(0,o.hu)(0===e,"Cannot push at time == 0");var i=n.join("");if(t){for(r=11;0<=r&&63===Yt[r];r--)Yt[r]=0;Yt[r]++}else for(r=0;r<12;r++)Yt[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)i+=Qt.charAt(Yt[r]);return(0,o.hu)(20===i.length,"nextPushId: Length should be 20."),i});function Xt(e){return{type:"value",snapshotNode:e}}function en(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function tn(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function nn(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var rn=(on.prototype.updateChild=function(e,t,n,r,i,a){(0,o.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(tn(t,s)):(0,o.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(en(t,n)):a.trackChildChange(nn(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},on.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(It,(function(e,r){t.hasChild(e)||n.trackChildChange(tn(e,r))})),t.isLeafNode()||t.forEachChild(It,(function(t,r){var i;e.hasChild(t)?(i=e.getImmediateChild(t)).equals(r)||n.trackChildChange(nn(t,r,i)):n.trackChildChange(en(t,r))}))),t.withIndex(this.index_)},on.prototype.updatePriority=function(e,t){return e.isEmpty()?Lt.EMPTY_NODE:e.updatePriority(t)},on.prototype.filtersNodes=function(){return!1},on.prototype.getIndexedFilter=function(){return this},on.prototype.getIndex=function(){return this.index_},on);function on(e){this.index_=e}var an=(sn.prototype.getStartPost=function(){return this.startPost_},sn.prototype.getEndPost=function(){return this.endPost_},sn.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},sn.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Xe(t,n))||(n=Lt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},sn.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=Lt.EMPTY_NODE);var r=(r=t.withIndex(this.index_)).updatePriority(Lt.EMPTY_NODE),i=this;return t.forEachChild(It,(function(e,t){i.matches(new Xe(e,t))||(r=r.updateImmediateChild(e,Lt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},sn.prototype.updatePriority=function(e,t){return e},sn.prototype.filtersNodes=function(){return!0},sn.prototype.getIndexedFilter=function(){return this.indexedFilter_},sn.prototype.getIndex=function(){return this.index_},sn.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},sn.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},sn);function sn(e){this.indexedFilter_=new rn(e.getIndex()),this.index_=e.getIndex(),this.startPost_=sn.getStartPost_(e),this.endPost_=sn.getEndPost_(e)}var un=(cn.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Xe(t,n))||(n=Lt.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},cn.prototype.updateFullNode=function(e,t,n){if(t.isLeafNode()||t.isEmpty())r=Lt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var r=Lt.EMPTY_NODE.withIndex(this.index_),i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(Lt.EMPTY_NODE);var s,u=void 0,c=void 0,l=void 0;i=void 0;l=this.reverse_?(i=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost(),s=this.index_.getCompare(),function(e,t){return s(t,e)}):(i=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),this.index_.getCompare());o=0;for(var h=!1;i.hasNext();)a=i.getNext(),(h=!h&&l(u,a)<=0||h)&&o<this.limit_&&l(a,c)<=0?o++:r=r.updateImmediateChild(a.name,Lt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},cn.prototype.updatePriority=function(e,t){return e},cn.prototype.filtersNodes=function(){return!0},cn.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},cn.prototype.getIndex=function(){return this.index_},cn.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a,s;s=this.reverse_?(a=this.index_.getCompare(),function(e,t){return a(t,e)}):this.index_.getCompare();var u=e;(0,o.hu)(u.numChildren()===this.limit_,"");var c=new Xe(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),p=r.getChildAfterChild(this.index_,l,this.reverse_);null!=p&&(p.name===t||u.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var d=null==p?1:s(p,c);return h&&!n.isEmpty()&&0<=d?(null!=i&&i.trackChildChange(nn(t,n,f)),u.updateImmediateChild(t,n)):(null!=i&&i.trackChildChange(tn(t,f)),f=u.updateImmediateChild(t,Lt.EMPTY_NODE),null!=p&&this.rangedFilter_.matches(p)?(null!=i&&i.trackChildChange(en(p.name,p.node)),f.updateImmediateChild(p.name,p.node)):f)}return!n.isEmpty()&&h&&0<=s(l,c)?(null!=i&&(i.trackChildChange(tn(l.name,l.node)),i.trackChildChange(en(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,Lt.EMPTY_NODE)):e},cn);function cn(e){this.rangedFilter_=new an(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}var ln=(hn.prototype.hasStart=function(){return this.startSet_},hn.prototype.hasStartAfter=function(){return this.startAfterSet_},hn.prototype.hasEndBefore=function(){return this.endBeforeSet_},hn.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},hn.prototype.getIndexStartValue=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},hn.prototype.getIndexStartName=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:R},hn.prototype.hasEnd=function(){return this.endSet_},hn.prototype.getIndexEndValue=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},hn.prototype.getIndexEndName=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:D},hn.prototype.hasLimit=function(){return this.limitSet_},hn.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},hn.prototype.getLimit=function(){return(0,o.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},hn.prototype.getIndex=function(){return this.index_},hn.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},hn.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===It},hn.prototype.copy=function(){var e=new hn;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},hn);function hn(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=It}function fn(e,t,n){return(e=e.copy()).startSet_=!0,e.indexStartValue_=t=void 0===t?null:t,null!=n?(e.startNameSet_=!0,e.indexStartName_=n):(e.startNameSet_=!1,e.indexStartName_=""),e}function pn(e,t,n){return(e=e.copy()).endSet_=!0,e.indexEndValue_=t=void 0===t?null:t,void 0!==n?(e.endNameSet_=!0,e.indexEndName_=n):(e.endNameSet_=!1,e.indexEndName_=""),e}function dn(e,t){return(e=e.copy()).index_=t,e}function mn(e){var t,n={};return e.isDefault()||(t=e.index_===It?"$priority":e.index_===$t?"$value":e.index_===ot?"$key":((0,o.hu)(e.index_ instanceof zt,"Unrecognized index type!"),e.index_.toString()),n.orderBy=(0,o.Pz)(t),e.startSet_&&(n.startAt=(0,o.Pz)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,o.Pz)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,o.Pz)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,o.Pz)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function vn(e){var t,n={};return e.startSet_&&(n.sp=e.indexStartValue_,e.startNameSet_&&(n.sn=e.indexStartName_)),e.endSet_&&(n.ep=e.indexEndValue_,e.endNameSet_&&(n.en=e.indexEndName_)),e.limitSet_&&(n.l=e.limit_,""===(t=e.viewFrom_)&&(t=e.isViewFromLeft()?"l":"r"),n.vf=t),e.index_!==It&&(n.i=e.index_.toString()),n}var gn,yn=(gn=_e,(0,a.ZT)(bn,gn),bn.prototype.reportStats=function(e){throw new Error("Method not implemented.")},bn.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},bn.prototype.listen=function(e,t,n,r){var i=this,a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);var s=bn.getListenId_(e,n),u={};this.listens_[s]=u,e=mn(e._queryParams),this.restRequest_(a+".json",e,(function(e,t){null===(e=404===e?t=null:e)&&i.onDataUpdate_(a,t,!1,n),(0,o.DV)(i.listens_,s)===u&&r(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},bn.prototype.unlisten=function(e,t){t=bn.getListenId_(e,t),delete this.listens_[t]},bn.prototype.get=function(e){var t=this,n=mn(e._queryParams),r=e._path.toString(),i=new o.BH;return this.restRequest_(r+".json",n,(function(e,n){null===(e=404===e?n=null:e)?(t.onDataUpdate_(r,n,!1,null),i.resolve(n)):i.reject(new Error(n))})),i.promise},bn.prototype.refreshAuthToken=function(e){},bn.prototype.restRequest_=function(e,t,n){var r=this;return(t=void 0===t?{}:t).format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){i=(s=(0,a.CR)(i,2))[0];var s=s[1];i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);var u=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.xO)(t);r.log_("Sending REST request for "+u);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(n&&4===c.readyState){r.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);var e=null;if(200<=c.status&&c.status<300){try{e=(0,o.cI)(c.responseText)}catch(e){A("Failed to parse JSON response for "+u+": "+c.responseText)}n(null,e)}else 401!==c.status&&404!==c.status&&A("Got unsuccessful REST response for "+u+" Status: "+c.status),n(c.status);n=null}},c.open("GET",u,!0),c.send()}))},bn);function bn(e,t,n,r){var i=gn.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=t,i.authTokenProvider_=n,i.appCheckTokenProvider_=r,i.log_=O("p:rest:"),i.listens_={},i}var wn=(_n.prototype.getNode=function(e){return this.rootNode_.getChild(e)},_n.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},_n);function _n(){this.rootNode_=Lt.EMPTY_NODE}function En(){return{value:null,children:new Map}}function Cn(e,t,n){var r;je(t)?(e.value=n,e.children.clear()):null!==e.value?e.value=e.value.updateChild(t,n):(r=Pe(t),e.children.has(r)||e.children.set(r,En()),Cn(e.children.get(r),t=Re(t),n))}function Tn(e,t,n){var r;null!==e.value?n(t,e.value):(r=function(e,r){Tn(r,new ke(t.toString()+"/"+e),n)},e.children.forEach((function(e,t){r(t,e)})))}var In=(Sn.prototype.get=function(){var e=this.collection_.get(),t=(0,a.pi)({},e);return this.last_&&F(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},Sn);function Sn(e){this.collection_=e,this.last_=null}var xn,kn=(Nn.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;F(t,(function(t,i){0<i&&(0,o.r3)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),U(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},Nn);function Nn(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new In(e),e=1e4+2e4*Math.random(),U(this.reportStats_.bind(this),Math.floor(e))}function On(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}(ss=xn=xn||{})[ss.OVERWRITE=0]="OVERWRITE",ss[ss.MERGE=1]="MERGE",ss[ss.ACK_USER_WRITE=2]="ACK_USER_WRITE",ss[ss.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var Pn=(An.prototype.operationForChild=function(e){if(je(this.path)){if(null!=this.affectedTree.value)return(0,o.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var t=this.affectedTree.subtree(new ke(e));return new An(Oe(),t,this.revert)}return(0,o.hu)(Pe(this.path)===e,"operationForChild called for unrelated child."),new An(Re(this.path),this.affectedTree,this.revert)},An);function An(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=xn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}var Rn=(Dn.prototype.operationForChild=function(e){return je(this.path)?new Dn(this.source,Oe()):new Dn(this.source,Re(this.path))},Dn);function Dn(e,t){this.source=e,this.path=t,this.type=xn.LISTEN_COMPLETE}var Mn=(Ln.prototype.operationForChild=function(e){return je(this.path)?new Ln(this.source,Oe(),this.snap.getImmediateChild(e)):new Ln(this.source,Re(this.path),this.snap)},Ln);function Ln(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=xn.OVERWRITE}var Fn=(jn.prototype.operationForChild=function(e){if(je(this.path)){var t=this.children.subtree(new ke(e));return t.isEmpty()?null:t.value?new Mn(this.source,Oe(),t.value):new jn(this.source,Oe(),t)}return(0,o.hu)(Pe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new jn(this.source,Re(this.path),this.children)},jn.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},jn);function jn(e,t,n){this.source=e,this.path=t,this.children=n,this.type=xn.MERGE}var Un=(Vn.prototype.isFullyInitialized=function(){return this.fullyInitialized_},Vn.prototype.isFiltered=function(){return this.filtered_},Vn.prototype.isCompleteForPath=function(e){return je(e)?this.isFullyInitialized()&&!this.filtered_:(e=Pe(e),this.isCompleteForChild(e))},Vn.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},Vn.prototype.getNode=function(){return this.node_},Vn);function Vn(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}var qn,Bn=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function zn(e,t,n,r,i,a){(r=r.filter((function(e){return e.type===n}))).sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.g5)("Should only compare child_ events.");return t=new Xe(t.childName,t.snapshotNode),n=new Xe(n.childName,n.snapshotNode),e.index_.compare(t,n)}(e,t,n)})),r.forEach((function(n){var r,o,s,u=(r=e,s=a,"value"===(o=n).type||"child_removed"===o.type||(o.prevName=s.getPredecessorChildName(o.childName,o.snapshotNode,r.index_)),o);i.forEach((function(r){r.respondsTo(n.type)&&t.push(r.createEvent(u,e.query_))}))}))}function Hn(e,t){return{eventCache:e,serverCache:t}}function Wn(e,t,n,r){return Hn(new Un(t,n,r),e.serverCache)}function Gn(e,t,n,r){return Hn(e.eventCache,new Un(t,n,r))}function Kn(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Zn(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Yn=($n.fromObject=function(e){var t=new $n(null);return F(e,(function(e,n){t=t.set(new ke(e),n)})),t},$n.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},$n.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:Oe(),value:this.value};if(je(e))return null;var n=Pe(e),r=this.children.get(n);return null===r||null==(t=r.findRootMostMatchingPathAndValue(Re(e),t))?null:{path:Fe(new ke(n),t.path),value:t.value}},$n.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},$n.prototype.subtree=function(e){if(je(e))return this;var t=Pe(e);return null!==(t=this.children.get(t))?t.subtree(Re(e)):new $n(null)},$n.prototype.set=function(e,t){if(je(e))return new $n(t,this.children);var n=Pe(e);t=(this.children.get(n)||new $n(null)).set(Re(e),t),t=this.children.insert(n,t);return new $n(this.value,t)},$n.prototype.remove=function(e){if(je(e))return this.children.isEmpty()?new $n(null):new $n(null,this.children);var t=Pe(e),n=this.children.get(t);return n?(n=n.remove(Re(e)),e=void 0,e=n.isEmpty()?this.children.remove(t):this.children.insert(t,n),null===this.value&&e.isEmpty()?new $n(null):new $n(this.value,e)):this},$n.prototype.get=function(e){if(je(e))return this.value;var t=Pe(e);return(t=this.children.get(t))?t.get(Re(e)):null},$n.prototype.setTree=function(e,t){if(je(e))return t;var n=Pe(e);e=(this.children.get(n)||new $n(null)).setTree(Re(e),t),t=void 0,t=e.isEmpty()?this.children.remove(n):this.children.insert(n,e);return new $n(this.value,t)},$n.prototype.fold=function(e){return this.fold_(Oe(),e)},$n.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Fe(e,r),t)})),t(e,this.value,n)},$n.prototype.findOnPath=function(e,t){return this.findOnPath_(e,Oe(),t)},$n.prototype.findOnPath_=function(e,t,n){if(r=!!this.value&&n(t,this.value))return r;if(je(e))return null;var r,i=Pe(e);return(r=this.children.get(i))?r.findOnPath_(Re(e),Fe(t,i),n):null},$n.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,Oe(),t)},$n.prototype.foreachOnPath_=function(e,t,n){if(je(e))return this;this.value&&n(t,this.value);var r=Pe(e),i=this.children.get(r);return i?i.foreachOnPath_(Re(e),Fe(t,r),n):new $n(null)},$n.prototype.foreach=function(e){this.foreach_(Oe(),e)},$n.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Fe(e,n),t)})),this.value&&t(e,this.value)},$n.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},$n);function $n(e,t){void 0===t&&(t=qn=qn||new ft(y)),this.value=e,this.children=t}var Qn=(Jn.empty=function(){return new Jn(new Yn(null))},Jn);function Jn(e){this.writeTree_=e}function Xn(e,t,n){if(je(t))return new Qn(new Yn(n));if(null!=(o=e.writeTree_.findRootMostValueAndPath(t))){var r=o.path,i=o.value,o=Ue(r,t);i=i.updateChild(o,n);return new Qn(e.writeTree_.set(r,i))}return n=new Yn(n),n=e.writeTree_.setTree(t,n),new Qn(n)}function er(e,t,n){var r=e;return F(n,(function(e,n){r=Xn(r,Fe(t,e),n)})),r}function tr(e,t){return je(t)?Qn.empty():(t=e.writeTree_.setTree(t,new Yn(null)),new Qn(t))}function nr(e,t){return null!=rr(e,t)}function rr(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ue(n.path,t)):null}function ir(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(It,(function(e,n){t.push(new Xe(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Xe(e,n.value))})),t}function or(e,t){if(je(t))return e;var n=rr(e,t);return new Qn(null!=n?new Yn(n):e.writeTree_.subtree(t))}function ar(e){return e.writeTree_.isEmpty()}function sr(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal((function(n,a){".priority"===n?((0,o.hu)(null!==a.value,"Priority writes must always be leaf nodes"),i=a.value):r=e(Fe(t,n),a,r)})),r=r.getChild(t).isEmpty()||null===i?r:r.updateChild(Fe(t,".priority"),i)}(Oe(),e.writeTree_,t)}function ur(e,t){return yr(t,e)}function cr(e){return e.visible}function lr(e,t,n){for(var r=Qn.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)Be(n,s)?r=Xn(r,u=Ue(n,s),a.snap):Be(s,n)&&(u=Ue(s,n),r=Xn(r,Oe(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.g5)("WriteRecord should have .snap or .children");Be(n,s)?r=er(r,u=Ue(n,s),a.children):Be(s,n)&&(je(u=Ue(s,n))?r=er(r,Oe(),a.children):(a=(0,o.DV)(a.children,Pe(u)))&&(u=a.getChild(Re(u)),r=Xn(r,Oe(),u)))}}}return r}function hr(e,t,n,r,i){if(r||i){var o=or(e.visibleWrites,t);return!i&&ar(o)?n:i||null!=n||nr(o,Oe())?sr(lr(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Be(e.path,t)||Be(t,e.path))}),t),n||Lt.EMPTY_NODE):null}return null!=(o=rr(e.visibleWrites,t))?o:ar(e=or(e.visibleWrites,t))?n:null!=n||nr(e,Oe())?sr(e,n||Lt.EMPTY_NODE):null}function fr(e,t,n,r){return hr(e.writeTree,e.treePath,t,n,r)}function pr(e,t){return function(e,t,n){var r=Lt.EMPTY_NODE,i=rr(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(It,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=or(e.visibleWrites,t);return n.forEachChild(It,(function(e,t){t=sr(or(o,new ke(e)),t),r=r.updateImmediateChild(e,t)})),ir(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return ir(or(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function dr(e,t,n,r){return i=e.writeTree,e=e.treePath,t=t,r=r,(0,o.hu)(n||r,"Either existingEventSnap or existingServerSnap must exist"),e=Fe(e,t),nr(i.visibleWrites,e)?null:ar(e=or(i.visibleWrites,e))?r.getChild(t):sr(e,r.getChild(t));var i}function mr(e,t){return n=e.writeTree,t=Fe(e.treePath,t),rr(n.visibleWrites,t);var n}function vr(e,t,n){return r=e.writeTree,i=e.treePath,e=n,t=Fe(i,n=t),null!=(i=rr(r.visibleWrites,t))?i:e.isCompleteForChild(n)?sr(or(r.visibleWrites,t),e.getNode().getImmediateChild(n)):null;var r,i}function gr(e,t){return yr(Fe(e.treePath,t),e.writeTree)}function yr(e,t){return{treePath:e,writeTree:t}}var br=(wr.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,nn(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,tn(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,en(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,nn(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},wr.prototype.getChanges=function(){return Array.from(this.changeMap.values())},wr);function wr(){this.changeMap=new Map}function _r(){}var Er=new(_r.prototype.getCompleteChild=function(e){return null},_r.prototype.getChildAfterChild=function(e,t,n){return null},_r),Cr=(Tr.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;return t.isCompleteForChild(e)?t.getNode().getImmediateChild(e):(t=null!=this.optCompleteServerCache_?new Un(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache,vr(this.writes_,e,t))},Tr.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Zn(this.viewCache_);return 0===(e=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s;if(null!=(t=rr(e=or(e.visibleWrites,t),Oe())))s=t;else{if(null==n)return[];s=sr(e,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var u=[],c=a.getCompare(),l=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),h=l.getNext();h&&u.length<i;)0!==c(h,r)&&u.push(h),h=l.getNext();return u}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,r,t,1,n,e)).length?null:e[0]},Tr);function Tr(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}function Ir(e,t,n,r,i,a){var s=t.eventCache;if(null!=mr(r,n))return t;var u,c,l,h,f,p=void 0;return f=je(n)?((0,o.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()?(u=pr(r,(u=Zn(t))instanceof Lt?u:Lt.EMPTY_NODE),e.filter.updateFullNode(t.eventCache.getNode(),u,a)):(c=fr(r,Zn(t)),e.filter.updateFullNode(t.eventCache.getNode(),c,a))):".priority"===(c=Pe(n))?((0,o.hu)(1===Ae(n),"Can't have a priority with additional path components"),null!=(h=dr(r,n,l=s.getNode(),p=t.serverCache.getNode()))?e.filter.updatePriority(l,h):s.getNode()):(l=Re(n),h=void 0,null!=(h=s.isCompleteForChild(c)?(p=t.serverCache.getNode(),null!=(p=dr(r,n,s.getNode(),p))?s.getNode().getImmediateChild(c).updateChild(l,p):s.getNode().getImmediateChild(c)):vr(r,c,t.serverCache))?e.filter.updateChild(s.getNode(),c,h,l,i,a):s.getNode()),Wn(t,f,s.isFullyInitialized()||je(n),e.filter.filtersNodes())}function Sr(e,t,n,r,i,o,a,s){var u=t.serverCache,c=a?e.filter:e.filter.getIndexedFilter();if(je(n))h=c.updateFullNode(u.getNode(),r,null);else if(c.filtersNodes()&&!u.isFiltered())var l=u.getNode().updateChild(n,r),h=c.updateFullNode(u.getNode(),l,null);else{if(a=Pe(n),!u.isCompleteForPath(n)&&1<Ae(n))return t;l=Re(n),r=u.getNode().getImmediateChild(a).updateChild(l,r),h=".priority"===a?c.updatePriority(u.getNode(),r):c.updateChild(u.getNode(),a,r,l,Er,null)}return Ir(e,c=Gn(t,h,u.isFullyInitialized()||je(n),c.filtersNodes()),n,i,new Cr(i,c,o),s)}function xr(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new Cr(i,t,o);return je(n)?(u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),Wn(t,u,!0,e.filter.filtersNodes())):".priority"===(s=Pe(n))?(u=e.filter.updatePriority(t.eventCache.getNode(),r),Wn(t,u,c.isFullyInitialized(),c.isFiltered())):(i=Re(n),o=c.getNode().getImmediateChild(s),u=void 0,u=je(i)?r:null!=(n=l.getCompleteChild(s))?".priority"===De(i)&&n.getChild(Le(i)).isEmpty()?n:n.updateChild(i,r):Lt.EMPTY_NODE,o.equals(u)?t:Wn(t,e.filter.updateChild(c.getNode(),s,u,i,l,a),c.isFullyInitialized(),e.filter.filtersNodes()))}function kr(e,t){return e.eventCache.isCompleteForChild(t)}function Nr(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Or(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u=t,c=(r=je(n)?r:new Yn(null).setTree(n,r),t.serverCache.getNode());return r.children.inorderTraversal((function(n,r){c.hasChild(n)&&(r=Nr(0,t.serverCache.getNode().getImmediateChild(n),r),u=Sr(e,u,new ke(n),r,i,o,a,s))})),r.children.inorderTraversal((function(n,r){var l=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;c.hasChild(n)||l||(r=Nr(0,t.serverCache.getNode().getImmediateChild(n),r),u=Sr(e,u,new ke(n),r,i,o,a,s))})),u}var Pr,Ar=(Object.defineProperty(Rr.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),Rr);function Rr(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_._queryParams,r=new rn(n.getIndex()),i=(o=n).loadsAllData()?new rn(o.getIndex()):new(o.hasLimit()?un:an)(o);this.processor_={filter:i};e=t.serverCache,n=t.eventCache;var o=r.updateFullNode(Lt.EMPTY_NODE,e.getNode(),null);t=i.updateFullNode(Lt.EMPTY_NODE,n.getNode(),null),r=new Un(o,e.isFullyInitialized(),r.filtersNodes()),i=new Un(t,n.isFullyInitialized(),i.filtersNodes());this.viewCache_=Hn(i,r),this.eventGenerator_=new Bn(this.query_)}function Dr(e){return 0===e.eventRegistrations_.length}function Mr(e,t,n){var r,i=[];if(n&&((0,o.hu)(null==t,"A cancel should cancel all event registrations."),r=e.query._path,e.eventRegistrations_.forEach((function(e){(e=e.createCancelEvent(n,r))&&i.push(e)}))),t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return i}function Lr(e,t,n,r){t.type===xn.MERGE&&null!==t.source.queryId&&((0,o.hu)(Zn(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.hu)(Kn(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_;t=function(e,t,n,r,i){var a,s,u,c,l,h,f,p,d=new br;if(n.type===xn.OVERWRITE)var m=n,v=m.source.fromUser?xr(e,t,m.path,m.snap,r,i,d):((0,o.hu)(m.source.fromServer,"Unknown source."),a=m.source.tagged||t.serverCache.isFiltered()&&!je(m.path),Sr(e,t,m.path,m.snap,r,i,a,d));else if(n.type===xn.MERGE){var g=n;v=g.source.fromUser?(s=e,u=t,c=g.path,m=g.children,l=r,h=i,f=d,p=u,m.foreach((function(e,t){e=Fe(c,e),kr(u,Pe(e))&&(p=xr(s,p,e,t,l,h,f))})),m.foreach((function(e,t){e=Fe(c,e),kr(u,Pe(e))||(p=xr(s,p,e,t,l,h,f))})),p):((0,o.hu)(g.source.fromServer,"Unknown source."),a=g.source.tagged||t.serverCache.isFiltered(),Or(e,t,g.path,g.children,r,i,a,d))}else if(n.type===xn.ACK_USER_WRITE){var y=n;v=y.revert?function(e,t,n,r,i,a){var s;if(null!=mr(r,n))return t;var u,c,l=new Cr(r,t,i),h=t.eventCache.getNode();return i=void 0,je(n)||".priority"===Pe(n)?(c=void 0,c=t.serverCache.isFullyInitialized()?fr(r,Zn(t)):(u=t.serverCache.getNode(),(0,o.hu)(u instanceof Lt,"serverChildren would be complete if leaf node"),pr(r,u)),i=e.filter.updateFullNode(h,c,a)):(null==(c=vr(r,u=Pe(n),t.serverCache))&&t.serverCache.isCompleteForChild(u)&&(c=h.getImmediateChild(u)),(i=null!=c?e.filter.updateChild(h,u,c,Re(n),l,a):t.eventCache.getNode().hasChild(u)?e.filter.updateChild(h,u,Lt.EMPTY_NODE,Re(n),l,a):h).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=fr(r,Zn(t))).isLeafNode()&&(i=e.filter.updateFullNode(i,s,a))),s=t.serverCache.isFullyInitialized()||null!=mr(r,Oe()),Wn(t,i,s,e.filter.filtersNodes())}(e,t,y.path,r,i,d):function(e,t,n,r,i,o,a){if(null!=mr(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(je(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Sr(e,t,n,u.getNode().getChild(n),i,o,s,a);if(je(n)){var c=new Yn(null);return u.getNode().forEachChild(ot,(function(e,t){c=c.set(new ke(e),t)})),Or(e,t,n,c,i,o,s,a)}return t}var l=new Yn(null);return r.foreach((function(e,t){var r=Fe(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Or(e,t,n,l,i,o,s,a)}(e,t,y.path,y.affectedTree,r,i,d)}else{if(n.type!==xn.LISTEN_COMPLETE)throw(0,o.g5)("Unknown operation type: "+n.type);y=e,i=n.path,e=r,n=d,v=Ir(y,r=Gn(t,(r=t.serverCache).getNode(),r.isFullyInitialized()||je(i),r.isFiltered()),i,e,Er,n)}return function(e,t,n){var r,i,o=t.eventCache;o.isFullyInitialized()&&(r=o.getNode().isLeafNode()||o.getNode().isEmpty(),i=Kn(e),(0<n.length||!e.eventCache.isFullyInitialized()||r&&!o.getNode().equals(i)||!o.getNode().getPriority().equals(i.getPriority()))&&n.push(Xt(Kn(t))))}(t,v,d=d.getChanges()),{viewCache:v,changes:d}}(e.processor_,i,t,n,r);return n=e.processor_,r=t.viewCache,(0,o.hu)(r.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,o.hu)(r.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed"),(0,o.hu)(t.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=t.viewCache,Fr(e,t.changes,t.viewCache.eventCache.getNode(),null)}function Fr(e,t,n,r){return r=r?[r]:e.eventRegistrations_,function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),zn(e,i,"child_removed",t,r,n),zn(e,i,"child_added",t,r,n),zn(e,i,"child_moved",o,r,n),zn(e,i,"child_changed",t,r,n),zn(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r)}var jr,Ur=function(){this.views=new Map};function Vr(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return(0,o.hu)(null!=c,"SyncTree gave us an op for an invalid query."),Lr(c,t,n,r)}var l=[];try{for(var h=(0,a.XA)(e.views.values()),f=h.next();!f.done;f=h.next())c=f.value,l=l.concat(Lr(c,t,n,r))}catch(e){i={error:e}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}function qr(e,t,n,r,i){var o=t._queryIdentifier;return(e=e.views.get(o))?e:(e=!1,e=!!(o=fr(n,i?r:null))||(o=r instanceof Lt?pr(n,r):Lt.EMPTY_NODE,!1),i=Hn(new Un(o,e,!1),new Un(r,i,!1)),new Ar(t,i))}function Br(e){var t,n,r=[];try{for(var i=(0,a.XA)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function zr(e,t){var n,r,i,o,s,u=null;try{for(var c=(0,a.XA)(e.views.values()),l=c.next();!l.done;l=c.next()){var h=l.value;u=u||(o=t,s=void 0,(s=Zn((i=h).viewCache_))&&(i.query._queryParams.loadsAllData()||!je(o)&&!s.getImmediateChild(Pe(o)).isEmpty())?s.getChild(o):null)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return u}function Hr(e,t){return t._queryParams.loadsAllData()?Kr(e):(t=t._queryIdentifier,e.views.get(t))}function Wr(e,t){return null!=Hr(e,t)}function Gr(e){return null!=Kr(e)}function Kr(e){var t,n;try{for(var r=(0,a.XA)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var Zr=1,Yr=function(e){this.listenProvider_=e,this.syncPointTree_=new Yn(null),this.pendingWriteTree_={visibleWrites:Qn.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function $r(e,t,n,r,i){var a,s,u,c;return a=e.pendingWriteTree_,s=t,u=n,c=r,r=i,(0,o.hu)(c>a.lastWriteId,"Stacking an older write on top of newer ones"),a.allWrites.push({path:s,snap:u,writeId:c,visible:r=void 0===r||r}),r&&(a.visibleWrites=Xn(a.visibleWrites,s,u)),a.lastWriteId=c,i?ni(e,new Mn({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Qr(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,o.hu)(0<=n,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i,a=r.visible,s=!1,u=e.allWrites.length-1;a&&0<=u;){var c=e.allWrites[u];c.visible&&(n<=u&&function(e,t){if(e.snap)return Be(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Be(Fe(e.path,n),t))return!0;return!1}(c,r.path)?a=!1:Be(r.path,c.path)&&(s=!0)),u--}return!!a&&(s?((i=e).visibleWrites=lr(i.allWrites,cr,Oe()),0<i.allWrites.length?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1):r.snap?e.visibleWrites=tr(e.visibleWrites,r.path):F(r.children,(function(t){e.visibleWrites=tr(e.visibleWrites,Fe(r.path,t))})),!0)}(e.pendingWriteTree_,t)){var i=new Yn(null);return null!=r.snap?i=i.set(Oe(),!0):F(r.children,(function(e){i=i.set(new ke(e),!0)})),ni(e,new Pn(r.path,i,n))}return[]}function Jr(e,t,n){return ni(e,new Mn({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Xr(e,t,n,r){var i=t._path,s=e.syncPointTree_.get(i),u=[];if(s&&("default"===t._queryIdentifier||Wr(s,t))){var c=function(e,t,n,r){var i,s,u=t._queryIdentifier,c=[],l=[],h=Gr(e);if("default"===u)try{for(var f=(0,a.XA)(e.views.entries()),p=f.next();!p.done;p=f.next()){var d=(0,a.CR)(p.value,2),m=d[0],v=d[1];l=l.concat(Mr(v,n,r)),Dr(v)&&(e.views.delete(m),v.query._queryParams.loadsAllData()||c.push(v.query))}}catch(e){i={error:e}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}else(v=e.views.get(u))&&(l=l.concat(Mr(v,n,r)),Dr(v)&&(e.views.delete(u),v.query._queryParams.loadsAllData()||c.push(v.query)));return h&&!Gr(e)&&c.push(((0,o.hu)(Pr,"Reference.ts has not been loaded"),new Pr(t._repo,t._path))),{removed:c,events:l}}(s,t,n,r);if(0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i)),n=c.removed,u=c.events,s=-1!==n.findIndex((function(e){return e._queryParams.loadsAllData()})),c=e.syncPointTree_.findOnPath(i,(function(e,t){return Gr(t)})),s&&!c&&!(i=e.syncPointTree_.subtree(i)).isEmpty())for(var l=i.fold((function(e,t,n){if(t&&Gr(t))return[Kr(t)];var r=[];return t&&(r=Br(t)),F(n,(function(e,t){r=r.concat(t)})),r})),h=0;h<l.length;++h){var f=(p=l[h]).query,p=ii(e,p);e.listenProvider_.startListening(li(f),oi(e,f),p.hashFn,p.onComplete)}!c&&0<n.length&&!r&&(s?e.listenProvider_.stopListening(li(t),null):n.forEach((function(t){var n=e.queryToTagMap.get(ai(t));e.listenProvider_.stopListening(li(t),n)}))),function(e,t){for(var n=0;n<t.length;++n){var r,i=t[n];i._queryParams.loadsAllData()||(r=ai(i),i=e.queryToTagMap.get(r),e.queryToTagMap.delete(r),e.tagToQueryMap.delete(i))}}(e,n)}return u}function ei(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){e=Ue(e,r),i=i||zr(t,e),a=a||Gr(t)}));var s=e.syncPointTree_.get(r);s?(a=a||Gr(s),i=i||zr(s,Oe())):(s=new Ur,e.syncPointTree_=e.syncPointTree_.set(r,s)),null!=i?h=!0:(h=!1,i=Lt.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){(t=zr(t,Oe()))&&(i=i.updateImmediateChild(e,t))})));var u,c,l=Wr(s,t);l||t._queryParams.loadsAllData()||(u=ai(t),(0,o.hu)(!e.queryToTagMap.has(u),"View does not exist, but we have a tag"),c=Zr++,e.queryToTagMap.set(u,c),e.tagToQueryMap.set(c,u));var h=function(e,t,n,r,i,o){var a;return o=qr(e,t,r,i,o),e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),o.eventRegistrations_.push(n),t=n,o=(n=o).viewCache_.eventCache,a=[],o.getNode().isLeafNode()||o.getNode().forEachChild(It,(function(e,t){a.push(en(e,t))})),o.isFullyInitialized()&&a.push(Xt(o.getNode())),Fr(n,a,o.getNode(),t)}(s,t,n,ur(e.pendingWriteTree_,r),i,h);return l||a||(s=Hr(s,t),h=h.concat(function(e,t,n){var r=t._path,i=oi(e,t);n=ii(e,n),n=e.listenProvider_.startListening(li(t),i,n.hashFn,n.onComplete),r=e.syncPointTree_.subtree(r);if(i)(0,o.hu)(!Gr(r.value),"If we're adding a query, it shouldn't be shadowed");else for(var a=r.fold((function(e,t,n){if(!je(e)&&t&&Gr(t))return[Kr(t).query];var r=[];return t&&(r=r.concat(Br(t).map((function(e){return e.query})))),F(n,(function(e,t){r=r.concat(t)})),r})),s=0;s<a.length;++s){var u=a[s];e.listenProvider_.stopListening(li(u),oi(e,u))}return n}(e,t,s))),h}function ti(e,t,n){var r=e.pendingWriteTree_;e=e.syncPointTree_.findOnPath(t,(function(e,n){if(e=zr(n,Ue(e,t)))return e}));return hr(r,t,e,n,!0)}function ni(e,t){return function e(t,n,r,i){if(je(t.path))return ri(t,n,r,i);var o=n.get(Oe());null==r&&null!=o&&(r=zr(o,Oe()));var a=[],s=Pe(t.path),u=t.operationForChild(s),c=n.children.get(s);return c&&u&&(n=r?r.getImmediateChild(s):null,s=gr(i,s),a=a.concat(e(u,c,n,s))),o?a.concat(Vr(o,t,i,r)):a}(t,e.syncPointTree_,null,ur(e.pendingWriteTree_,Oe()))}function ri(e,t,n,r){var i=t.get(Oe());null==n&&null!=i&&(n=zr(i,Oe()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=gr(r,t);(t=e.operationForChild(t))&&(o=o.concat(ri(t,i,a,s)))})),o=i?o.concat(Vr(i,e,r,n)):o}function ii(e,t){var n=t.query,r=oi(e,n);return{hashFn:function(){return(t.viewCache_.serverCache.getNode()||Lt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=si(e,n);return r?(r=(n=ui(r)).path,n=n.queryId,t=Ue(r,t),ci(e,r,new Rn(On(n),t))):[]}(e,n._path,r):(i=n._path,ni(e,new Rn({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i)));var i=(i="Unknown Error","too_big"===(t=t)?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?i="Client doesn't have permission to access the desired data.":"unavailable"===t&&(i="The service is unavailable"),(i=new Error(t+" at "+n._path.toString()+": "+i)).code=t.toUpperCase(),i);return Xr(e,n,null,i)}}}function oi(e,t){return t=ai(t),e.queryToTagMap.get(t)}function ai(e){return e._path.toString()+"$"+e._queryIdentifier}function si(e,t){return e.tagToQueryMap.get(t)}function ui(e){var t=e.indexOf("$");return(0,o.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ke(e.substr(0,t))}}function ci(e,t,n){var r=e.syncPointTree_.get(t);return(0,o.hu)(r,"Missing sync point for query tag that we're tracking"),Vr(r,n,ur(e.pendingWriteTree_,t),null)}function li(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?((0,o.hu)(jr,"Reference.ts has not been loaded"),new jr(e._repo,e._path)):e}var hi=(fi.prototype.getImmediateChild=function(e){return new fi(this.node_.getImmediateChild(e))},fi.prototype.node=function(){return this.node_},fi);function fi(e){this.node_=e}var pi=(di.prototype.getImmediateChild=function(e){return e=Fe(this.path_,e),new di(this.syncTree_,e)},di.prototype.node=function(){return ti(this.syncTree_,this.path_)},di);function di(e,t){this.syncTree_=e,this.path_=t}var mi=function(e,t,n){return e&&"object"==typeof e?((0,o.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?vi(e[".sv"],t,n):"object"==typeof e[".sv"]?gi(e[".sv"],t):void(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},vi=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,o.hu)(!1,"Unexpected server value: "+e)},gi=function(e,t,n){return e.hasOwnProperty("increment")||(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2)),"number"!=typeof(e=e.increment)&&(0,o.hu)(!1,"Unexpected increment value: "+e),t=t.node(),(0,o.hu)(null!=t,"Expected ChildrenNode.EMPTY_NODE for nulls"),t.isLeafNode()?"number"!=typeof(t=t.getValue())?e:t+e:e},yi=function(e,t,n,r){return wi(t,new pi(n,e),r)},bi=function(e,t,n){return wi(e,new hi(t),n)};function wi(e,t,n){var r=e.getPriority().val(),i=mi(r,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e;return(r=mi(o.getValue(),t,n))!==o.getValue()||i!==o.getPriority().val()?new Et(r,Vt(i)):e}var a=e=e;return i!==e.getPriority().val()&&(a=a.updatePriority(new Et(i))),e.forEachChild(It,(function(e,r){var i=wi(r,t.getImmediateChild(e),n);i!==r&&(a=a.updateImmediateChild(e,i))})),a}var _i=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e=void 0===e?"":e,this.parent=t,this.node=n};function Ei(e,t){for(var n=t instanceof ke?t:new ke(t),r=e,i=Pe(n);null!==i;){var a=(0,o.DV)(r.node.children,i)||{children:{},childCount:0};r=new _i(i,r,a),i=Pe(n=Re(n))}return r}function Ci(e){return e.node.value}function Ti(e,t){e.node.value=t,ki(e)}function Ii(e){return 0<e.node.childCount}function Si(e,t){F(e.node.children,(function(n,r){t(new _i(n,e,r))}))}function xi(e){return new ke(null===e.parent?e.name:xi(e.parent)+"/"+e.name)}function ki(e){var t,n,r,i;null!==e.parent&&(t=e.parent,n=e.name,i=function(e){return void 0===Ci(e)&&!Ii(e)}(r=e),e=(0,o.r3)(t.node.children,n),i&&e?(delete t.node.children[n],t.node.childCount--,ki(t)):i||e||(t.node.children[n]=r.node,t.node.childCount++,ki(t)))}function Ni(e){return"string"==typeof e&&0!==e.length&&!Di.test(e)}function Oi(e){return"string"==typeof e&&0!==e.length&&!Mi.test(e)}function Pi(e,t,n,r){if(!r||void 0!==t){var i=(0,o.gK)(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];F(t,(function(e,t){if(e=new ke(e),Ui(i,t,Fe(n,e)),".priority"===De(e)&&!Fi(t))throw new Error(i+"contains an invalid value for '"+e.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(e)})),function(e,t){for(var n=0;n<t.length;n++)for(var r,i=Me(r=t[n]),o=0;o<i.length;o++)if((".priority"!==i[o]||o!==i.length-1)&&!Ni(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Ve);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&Be(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}}function Ai(e,t,n){if(!n||void 0!==t){if(g(t))throw new Error((0,o.gK)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Fi(t))throw new Error((0,o.gK)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}function Ri(e,t,n,r){if(!(r&&void 0===n||Ni(n)))throw new Error((0,o.gK)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}var Di=/[\[\].#$\/\u0000-\u001F\u007F]/,Mi=/[\[\].#$\u0000-\u001F\u007F]/,Li=10485760,Fi=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!g(e)||e&&"object"==typeof e&&(0,o.r3)(e,".sv")},ji=function(e,t,n,r){r&&void 0===t||Ui((0,o.gK)(e,"value"),t,n)},Ui=function(e,t,n){var r=n instanceof ke?new ze(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+We(r));if("function"==typeof t)throw new Error(e+"contains a function "+We(r)+" with contents = "+t.toString());if(g(t))throw new Error(e+"contains "+t.toString()+" "+We(r));if("string"==typeof t&&t.length>Li/3&&(0,o.ug)(t)>Li)throw new Error(e+"contains a string greater than "+Li+" utf8 bytes "+We(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,a=!1;if(F(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!Ni(t)))throw new Error(e+" contains an invalid key ("+t+") "+We(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s;s=t,0<(t=r).parts_.length&&(t.byteLength_+=1),t.parts_.push(s),t.byteLength_+=(0,o.ug)(s),He(t),Ui(e,n,r),n=(t=r).parts_.pop(),t.byteLength_-=(0,o.ug)(n),0<t.parts_.length&&--t.byteLength_})),i&&a)throw new Error(e+' contains ".value" child '+We(r)+" in addition to actual children.")}},Vi=function(e,t,n,r){if(!(r&&void 0===n||Oi(n)))throw new Error((0,o.gK)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},qi=function(e,t,n,r){n=n&&n.replace(/^\/*\.info(\/|$)/,"/"),Vi(e,t,n,r)},Bi=function(e,t){if(".info"===Pe(t))throw new Error(e+" failed = Can't modify data under /.info/")},zi=function(e,t){var n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Ni(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!Oi(n=(n=n)&&n.replace(/^\/*\.info(\/|$)/,"/")))throw new Error((0,o.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Hi=function(){this.eventLists_=[],this.recursionDepth_=0};function Wi(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||qe(o,n.path)||(e.eventLists_.push(n),n=null),(n=null===n?{events:[],path:o}:n).events.push(i)}n&&e.eventLists_.push(n)}function Gi(e,t,n){Wi(e,n),Zi(e,(function(e){return qe(e,t)}))}function Ki(e,t,n){Wi(e,n),Zi(e,(function(e){return Be(e,t)||Be(t,e)}))}function Zi(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];i&&(t(i.path)?(function(e){for(var t=0;t<e.events.length;t++){var n,r=e.events[t];null!==r&&(e.events[t]=null,n=r.getEventRunner(),x&&N("event: "+r.toString()),H(n))}}(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}var Yi="repo_interrupt",$i=(Qi.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},Qi);function Qi(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Hi,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=En(),this.transactionQueueTree_=new _i,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}function Ji(e){return e=e.infoData_.getNode(new ke(".info/serverTimeOffset")).val()||0,(new Date).getTime()+e}function Xi(e){return function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}({timestamp:Ji(e)})}function eo(e,t,n,r,i){e.dataUpdateCount++;var a=new ke(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s,u,c,l,h;t=a;0<(h=i?r?(s=(0,o.UI)(n,(function(e){return Vt(e)})),function(e,t,n,r){var i=si(e,r);return i?(i=(r=ui(i)).path,r=r.queryId,t=Ue(i,t),n=Yn.fromObject(n),ci(e,i,new Fn(On(r),t,n))):[]}(e.serverSyncTree_,a,s,i)):(l=Vt(n),s=e.serverSyncTree_,u=a,c=l,null==(i=si(s,l=i))?[]:(l=ui(i),i=l.path,l=l.queryId,u=Ue(i,u),ci(s,i,new Mn(On(l),u,c)))):r?(l=(0,o.UI)(n,(function(e){return Vt(e)})),u=e.serverSyncTree_,c=a,r=l,r=Yn.fromObject(l),ni(u,new Fn({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},c,r))):(n=Vt(n),Jr(e.serverSyncTree_,a,n))).length&&(t=fo(e,a)),Ki(e.eventQueue_,t,h)}function to(e,t){no(e,"connected",t),!1===t&&function(e){uo(e,"onDisconnectEvents");var t=Xi(e),n=En();Tn(e.onDisconnect_,Oe(),(function(r,i){i=yi(r,i,e.serverSyncTree_,t),Cn(n,r,i)}));var r=[];Tn(n,Oe(),(function(t,n){r=r.concat(Jr(e.serverSyncTree_,t,n)),t=go(e,t),fo(e,t)})),e.onDisconnect_=En(),Ki(e.eventQueue_,Oe(),r)}(e)}function no(e,t,n){t=new ke("/.info/"+t),n=Vt(n),e.infoData_.updateSnapshot(t,n),n=Jr(e.infoSyncTree_,t,n),Ki(e.eventQueue_,t,n)}function ro(e){return e.nextWriteId_++}function io(e,t,n,r,i){uo(e,"set",{path:t.toString(),value:n,priority:r});var o=Xi(e),a=(n=Vt(n,r),r=ti(e.serverSyncTree_,t),o=bi(n,r,o),ro(e));o=$r(e.serverSyncTree_,t,o,a,!0);Wi(e.eventQueue_,o),e.server_.put(t.toString(),n.val(!0),(function(n,r){var o="ok"===n;o||A("set at "+t+" failed: "+n),o=Qr(e.serverSyncTree_,a,!o),Ki(e.eventQueue_,t,o),co(0,i,n,r)})),n=go(e,t),fo(e,n),Ki(e.eventQueue_,n,[])}function oo(e,t,n,r){var i=Vt(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Cn(e.onDisconnect_,t,i),co(0,r,n,o)}))}function ao(e,t,n){n=".info"===Pe(t._path)?Xr(e.infoSyncTree_,t,n):Xr(e.serverSyncTree_,t,n),Gi(e.eventQueue_,t._path,n)}function so(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Yi)}function uo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),N.apply(void 0,(0,a.ev)([r],(0,a.CR)(t)))}function co(e,t,n,r){t&&H((function(){var e,i;"ok"===n?t(null):(i=e=(n||"error").toUpperCase(),r&&(i+=": "+r),(i=new Error(i)).code=e,t(i))}))}function lo(e,t,n){return ti(e.serverSyncTree_,t,n)||Lt.EMPTY_NODE}function ho(e,t){var n;(t=void 0===t?e.transactionQueueTree_:t)||vo(e,t),Ci(t)?(n=mo(e,t),(0,o.hu)(0<n.length,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=c=lo(e,t,r),a=(r=c.hash(),0);a<n.length;a++){var s=n[a];(0,o.hu)(0===s.status,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=1,s.retryCount++;var u=Ue(t,s.path);i=i.updateChild(u,s.currentOutputSnapshotRaw)}var c=i.val(!0),l=t;e.server_.put(l.toString(),c,(function(r){uo(e,"transaction put response",{path:l.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<n.length;a++)!function(t){n[t].status=2,i=i.concat(Qr(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()}(a);for(vo(e,Ei(e.transactionQueueTree_,t)),ho(e,e.transactionQueueTree_),Ki(e.eventQueue_,t,i),a=0;a<o.length;a++)H(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)3===n[a].status?n[a].status=4:n[a].status=0;else for(A("transaction at "+l.toString()+" failed: "+r),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r;fo(e,t)}}),r)}(e,xi(t),n)):Ii(t)&&Si(t,(function(t){ho(e,t)}))}function fo(e,t){var n=po(e,t);t=xi(n);return function(e,t,n){if(0!==t.length){for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=0;s<t.length;s++)!function(s){var u,c,l,h,f=t[s],p=Ue(n,f.path),d=!1;(0,o.hu)(null!==p,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status?(u=f.abortReason,i=i.concat(Qr(e.serverSyncTree_,f.currentWriteId,d=!0))):0===f.status&&(i=f.retryCount>=25?(u="maxretry",i.concat(Qr(e.serverSyncTree_,f.currentWriteId,d=!0))):(c=lo(e,f.path,a),f.currentInputSnapshot=c,void 0!==(h=t[s].update(c.val()))?(Ui("transaction failed: Data returned ",h,f.path),l=Vt(h),"object"==typeof h&&null!=h&&(0,o.r3)(h,".priority")||(l=l.updatePriority(c.getPriority())),p=f.currentWriteId,h=Xi(e),h=bi(l,c,h),f.currentOutputSnapshotRaw=l,f.currentOutputSnapshotResolved=h,f.currentWriteId=ro(e),a.splice(a.indexOf(p),1),(i=i.concat($r(e.serverSyncTree_,f.path,h,f.currentWriteId,f.applyLocally))).concat(Qr(e.serverSyncTree_,p,!0))):(u="nodata",i.concat(Qr(e.serverSyncTree_,f.currentWriteId,d=!0))))),Ki(e.eventQueue_,n,i),i=[],d&&(t[s].status=2,d=t[s].unwatcher,setTimeout(d,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))}(s);for(vo(e,e.transactionQueueTree_),s=0;s<r.length;s++)H(r[s]);ho(e,e.transactionQueueTree_)}}(e,mo(e,n),t),t}function po(e,t){for(var n=e.transactionQueueTree_,r=Pe(t);null!==r&&void 0===Ci(n);)n=Ei(n,r),r=Pe(t=Re(t));return n}function mo(e,t){var n=[];return function e(t,n,r){var i=Ci(n);if(i)for(var o=0;o<i.length;o++)r.push(i[o]);Si(n,(function(n){e(t,n,r)}))}(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function vo(e,t){var n=Ci(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Ti(t,0<n.length?n:void 0)}Si(t,(function(t){vo(e,t)}))}function go(e,t){var n=xi(po(e,t));return function(e,t,n){for(var r=e.parent;null!==r;){if(t(r))return;r=r.parent}}(t=Ei(e.transactionQueueTree_,t),(function(t){yo(e,t)})),yo(e,t),function e(t,n,r,i){r&&!i&&n(t),Si(t,(function(t){e(t,n,!0,i)})),r&&i&&n(t)}(t,(function(t){yo(e,t)})),n}function yo(e,t){var n=Ci(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.hu)(a===s-1,"All SENT items should be at beginning of queue."),n[a=s].status=3,n[s].abortReason="set"):((0,o.hu)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Qr(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===a?Ti(t,void 0):n.length=a+1,Ki(e.eventQueue_,xi(t),i),s=0;s<r.length;s++)H(r[s])}}var bo=function(e,t){var n=wo(e),r=n.namespace;return"firebase.com"===n.domain&&P(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||P("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&A("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),e="ws"===n.scheme||"wss"===n.scheme,{repoInfo:new ee(n.host,n.secure,r,t,e,"",r!==n.subdomain),path:new ke(n.pathString)}},wo=function(e){var t,n,r,i="",o="",s="",u="",c="",l=!0,h="https",f=443;return"string"==typeof e&&(0<=(r=e.indexOf("//"))&&(h=e.substring(0,r-1),e=e.substring(r+2)),-1===(t=e.indexOf("/"))&&(t=e.length),-1===(n=e.indexOf("?"))&&(n=e.length),i=e.substring(0,Math.min(t,n)),t<n&&(u=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(0<n[r].length){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(t,n))),n=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=(0,a.XA)(e.split("&")),o=i.next();!o.done;o=i.next()){var s,u=o.value;0!==u.length&&(2===(s=u.split("=")).length?r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):A("Invalid query segment '"+u+"' in query '"+e+"'"))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,n))),0<=(r=i.indexOf(":"))?(l="https"===h||"wss"===h,f=parseInt(i.substring(r+1),10)):r=i.length,"localhost"===(r=i.slice(0,r)).toLowerCase()?o="localhost":r.split(".").length<=2?o=r:(r=i.indexOf("."),s=i.substring(0,r).toLowerCase(),o=i.substring(r+1),c=s),"ns"in n&&(c=n.ns)),{host:i,port:f,domain:o,subdomain:s,secure:l,scheme:h,pathString:u,namespace:c}},_o=(Eo.prototype.getPath=function(){var e=this.snapshot.ref;return("value"===this.eventType?e:e.parent)._path},Eo.prototype.getEventType=function(){return this.eventType},Eo.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},Eo.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.Pz)(this.snapshot.exportVal())},Eo);function Eo(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}var Co=(To.prototype.getPath=function(){return this.path},To.prototype.getEventType=function(){return"cancel"},To.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},To.prototype.toString=function(){return this.path.toString()+":cancel"},To);function To(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}var Io=(So.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},So.prototype.onCancel=function(e){return(0,o.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(So.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),So.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},So);function So(e,t){this.snapshotCallback=e,this.cancelCallback=t}var xo=(ko.prototype.cancel=function(){var e=new o.BH;return function(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&function e(t,n){if(je(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var r=t.value;return t.value=null,r.forEachChild(It,(function(e,n){Cn(t,new ke(e),n)})),e(t,n)}return!(0<t.children.size)||(r=Pe(n),n=Re(n),t.children.has(r)&&e(t.children.get(r),n)&&t.children.delete(r),0===t.children.size)}(e.onDisconnect_,t),co(0,n,r,i)}))}(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},ko.prototype.remove=function(){Bi("OnDisconnect.remove",this._path);var e=new o.BH;return oo(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},ko.prototype.set=function(e){Bi("OnDisconnect.set",this._path),ji("OnDisconnect.set",e,this._path,!1);var t=new o.BH;return oo(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},ko.prototype.setWithPriority=function(e,t){Bi("OnDisconnect.setWithPriority",this._path),ji("OnDisconnect.setWithPriority",e,this._path,!1),Ai("OnDisconnect.setWithPriority",t,!1);var n,r,i,a,s=new o.BH;return n=this._repo,r=this._path,e=e,t=t,i=s.wrapCallback((function(){})),a=Vt(e,t),n.server_.onDisconnectPut(r.toString(),a.val(!0),(function(e,t){"ok"===e&&Cn(n.onDisconnect_,r,a),co(0,i,e,t)})),s.promise},ko.prototype.update=function(e){Bi("OnDisconnect.update",this._path),Pi("OnDisconnect.update",e,this._path,!1);var t=new o.BH;return function(e,t,n,r){if((0,o.xb)(n))return N("onDisconnect().update() called with empty data.  Don't do anything."),co(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&F(n,(function(n,r){r=Vt(r),Cn(e.onDisconnect_,Fe(t,n),r)})),co(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},ko);function ko(e,t){this._repo=e,this._path=t}var No=(Object.defineProperty(Oo.prototype,"key",{get:function(){return je(this._path)?null:De(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(Oo.prototype,"ref",{get:function(){return new Mo(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(Oo.prototype,"_queryIdentifier",{get:function(){var e=vn(this._queryParams);return"{}"===(e=L(e))?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(Oo.prototype,"_queryObject",{get:function(){return vn(this._queryParams)},enumerable:!1,configurable:!0}),Oo.prototype.isEqual=function(e){if(!((e=(0,o.m9)(e))instanceof Oo))return!1;var t=this._repo===e._repo,n=qe(this._path,e._path);e=this._queryIdentifier===e._queryIdentifier;return t&&n&&e},Oo.prototype.toJSON=function(){return this.toString()},Oo.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},Oo);function Oo(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}function Po(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ao(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===ot){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==R)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==D)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===It){if(null!=t&&!Fi(t)||null!=n&&!Fi(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.hu)(e.getIndex()instanceof zt||e.getIndex()===$t,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ro(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Do,Mo=(Do=No,(0,a.ZT)(Lo,Do),Object.defineProperty(Lo.prototype,"parent",{get:function(){var e=Le(this._path);return null===e?null:new Lo(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(Lo.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),Lo);function Lo(e,t){return Do.call(this,e,t,new ln,!1)||this}var Fo=(Object.defineProperty(jo.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(jo.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(jo.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),jo.prototype.child=function(e){var t=new ke(e);e=qo(this.ref,e);return new jo(this._node.getChild(t),e,It)},jo.prototype.exists=function(){return!this._node.isEmpty()},jo.prototype.exportVal=function(){return this._node.val(!0)},jo.prototype.forEach=function(e){var t=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(n,r){return e(new jo(r,qo(t.ref,n),It))}))},jo.prototype.hasChild=function(e){return e=new ke(e),!this._node.getChild(e).isEmpty()},jo.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},jo.prototype.toJSON=function(){return this.exportVal()},jo.prototype.val=function(){return this._node.val()},jo);function jo(e,t,n){this._node=e,this.ref=t,this._index=n}function Uo(e,t){return(e=(0,o.m9)(e))._checkNotDeleted("ref"),void 0!==t?qo(e._root,t):e._root}function Vo(e,t){(e=(0,o.m9)(e))._checkNotDeleted("refFromURL");var n=bo(t,e._repo.repoInfo_.nodeAdmin);return zi("refFromURL",n),t=n.repoInfo,e._repo.repoInfo_.isCustomHost()||t.host===e._repo.repoInfo_.host||P("refFromURL: Host name does not match the current database: (found "+t.host+" but expected "+e._repo.repoInfo_.host+")"),Uo(e,n.path.toString())}function qo(e,t){return(null===Pe((e=(0,o.m9)(e))._path)?qi:Vi)("child","path",t,!1),new Mo(e._repo,Fe(e._path,t))}function Bo(e,t){e=(0,o.m9)(e),Bi("set",e._path),ji("set",t,e._path,!1);var n=new o.BH;return io(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function zo(e,t){Pi("update",t,e._path,!1);var n=new o.BH;return function(e,t,n,r){uo(e,"update",{path:t.toString(),value:n});var i,a,s=!0,u=Xi(e),c={};F(n,(function(n,r){s=!1,c[n]=yi(Fe(t,n),Vt(r),e.serverSyncTree_,u)})),s?(N("update() called with empty data.  Don't do anything."),co(0,r,"ok",void 0)):(i=ro(e),a=function(e,t,n,r){var i,a,s;return i=e.pendingWriteTree_,a=t,s=n,r=r,(0,o.hu)(r>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:a,children:s,writeId:r,visible:!0}),i.visibleWrites=er(i.visibleWrites,a,s),i.lastWriteId=r,n=Yn.fromObject(n),ni(e,new Fn({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n))}(e.serverSyncTree_,t,c,i),Wi(e.eventQueue_,a),e.server_.merge(t.toString(),n,(function(n,o){(s="ok"===n)||A("update at "+t+" failed: "+n);var a=Qr(e.serverSyncTree_,i,!s),s=0<a.length?fo(e,t):t;Ki(e.eventQueue_,s,a),co(0,r,n,o)})),F(n,(function(n){n=go(e,Fe(t,n)),fo(e,n)})),Ki(e.eventQueue_,t,[]))}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Ho(e){return e=(0,o.m9)(e),t=e._repo,n=e,(null!=(r=function(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){e=Ue(e,n),r=r||zr(t,e)}));var i=e.syncPointTree_.get(n);i?r=r||zr(i,Oe()):(i=new Ur,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Un(r,!0,!1):null;return Kn(qr(i,t,ur(e.pendingWriteTree_,t._path),o?a.getNode():Lt.EMPTY_NODE,o).viewCache_)}(t.serverSyncTree_,n))?Promise.resolve(r):t.server_.get(n).then((function(e){var r=Vt(e).withIndex(n._queryParams.getIndex());e=Jr(t.serverSyncTree_,n._path,r);return Gi(t.eventQueue_,n._path,e),Promise.resolve(r)}),(function(e){return uo(t,"get for query "+(0,o.Pz)(n)+" failed: "+e),Promise.reject(new Error(e))}))).then((function(t){return new Fo(t,new Mo(e._repo,e._path),e._queryParams.getIndex())}));var t,n,r}var Wo=(Go.prototype.respondsTo=function(e){return"value"===e},Go.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new _o("value",this,new Fo(e.snapshotNode,new Mo(t._repo,t._path),n))},Go.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},Go.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Co(this,e,t):null},Go.prototype.matches=function(e){return e instanceof Go&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},Go.prototype.hasAnyCallback=function(){return null!==this.callbackContext},Go);function Go(e){this.callbackContext=e}var Ko=(Zo.prototype.respondsTo=function(e){return e="children_removed"===(e="children_added"===e?"child_added":e)?"child_removed":e,this.eventType===e},Zo.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Co(this,e,t):null},Zo.prototype.createEvent=function(e,t){(0,o.hu)(null!=e.childName,"Child events should have a childName.");var n=qo(new Mo(t._repo,t._path),e.childName);t=t._queryParams.getIndex();return new _o(e.type,this,new Fo(e.snapshotNode,n,t),e.prevName)},Zo.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},Zo.prototype.matches=function(e){return e instanceof Zo&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))},Zo.prototype.hasAnyCallback=function(){return!!this.callbackContext},Zo);function Zo(e,t){this.eventType=e,this.callbackContext=t}function Yo(e,t,n,r,i){var o;"object"==typeof r&&(a=void 0,i=r),"function"==typeof r&&(a=r),i&&i.onlyOnce&&(o=n,(i=function(t,n){ao(e._repo,e,s),o(t,n)}).userCallback=n.userCallback,i.context=n.context,n=i);n=new Io(n,a||void 0);var a,s="value"===t?new Wo(n):new Ko(t,n);return a=e._repo,t=s,t=".info"===Pe((n=e)._path)?ei(a.infoSyncTree_,n,t):ei(a.serverSyncTree_,n,t),Gi(a.eventQueue_,n._path,t),function(){return ao(e._repo,e,s)}}function $o(e,t,n,r){return Yo(e,"value",t,n,r)}function Qo(e,t,n,r){return Yo(e,"child_added",t,n,r)}function Jo(e,t,n,r){return Yo(e,"child_changed",t,n,r)}function Xo(e,t,n,r){return Yo(e,"child_moved",t,n,r)}function ea(e,t,n,r){return Yo(e,"child_removed",t,n,r)}function ta(e,t,n){var r=null;n=n?new Io(n):null;"value"===t?r=new Wo(n):t&&(r=new Ko(t,n)),ao(e._repo,e,r)}var na,ra=(na=n=function(){},(0,a.ZT)(ia,na),ia.prototype._apply=function(e){ji("endAt",this._value,e._path,!0);var t=pn(e._queryParams,this._value,this._key);if(Ro(t),Ao(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new No(e._repo,e._path,t,e._orderByCalled)},ia);function ia(e,t){var n=na.call(this)||this;return n._value=e,n._key=t,n}var oa,aa=(oa=n,(0,a.ZT)(sa,oa),sa.prototype._apply=function(e){var t,n,r;if(ji("endBefore",this._value,e._path,!1),Ro(r=(t=e._queryParams,n=this._value,r=this._key,(r=t.index_===ot?pn(t,n="string"==typeof n?Kt(n):n,r):pn(t,n,null==r?R:Kt(r))).endBeforeSet_=!0,r)),Ao(r),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new No(e._repo,e._path,r,e._orderByCalled)},sa);function sa(e,t){var n=oa.call(this)||this;return n._value=e,n._key=t,n}var ua,ca=(ua=n,(0,a.ZT)(la,ua),la.prototype._apply=function(e){ji("startAt",this._value,e._path,!0);var t=fn(e._queryParams,this._value,this._key);if(Ro(t),Ao(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new No(e._repo,e._path,t,e._orderByCalled)},la);function la(e,t){var n=ua.call(this)||this;return n._value=e,n._key=t,n}var ha,fa=(ha=n,(0,a.ZT)(pa,ha),pa.prototype._apply=function(e){var t,n,r;if(ji("startAfter",this._value,e._path,!1),Ro(r=(t=e._queryParams,n=this._value,r=this._key,(r=t.index_===ot?fn(t,n="string"==typeof n?Gt(n):n,r):fn(t,n,null==r?D:Gt(r))).startAfterSet_=!0,r)),Ao(r),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new No(e._repo,e._path,r,e._orderByCalled)},pa);function pa(e,t){var n=ha.call(this)||this;return n._value=e,n._key=t,n}var da,ma=(da=n,(0,a.ZT)(va,da),va.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new No(e._repo,e._path,(t=e._queryParams,n=this._limit,(t=t.copy()).limitSet_=!0,t.limit_=n,t.viewFrom_="l",t),e._orderByCalled);var t,n},va);function va(e){var t=da.call(this)||this;return t._limit=e,t}var ga,ya=(ga=n,(0,a.ZT)(ba,ga),ba.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new No(e._repo,e._path,(t=e._queryParams,n=this._limit,(t=t.copy()).limitSet_=!0,t.limit_=n,t.viewFrom_="r",t),e._orderByCalled);var t,n},ba);function ba(e){var t=ga.call(this)||this;return t._limit=e,t}var wa,_a=(wa=n,(0,a.ZT)(Ea,wa),Ea.prototype._apply=function(e){Po(e,"orderByChild");var t=new ke(this._path);if(je(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");return t=new zt(t),Ao(t=dn(e._queryParams,t)),new No(e._repo,e._path,t,!0)},Ea);function Ea(e){var t=wa.call(this)||this;return t._path=e,t}var Ca,Ta=(Ca=n,(0,a.ZT)(Ia,Ca),Ia.prototype._apply=function(e){Po(e,"orderByKey");var t=dn(e._queryParams,ot);return Ao(t),new No(e._repo,e._path,t,!0)},Ia);function Ia(){return null!==Ca&&Ca.apply(this,arguments)||this}var Sa,xa=(Sa=n,(0,a.ZT)(ka,Sa),ka.prototype._apply=function(e){Po(e,"orderByPriority");var t=dn(e._queryParams,It);return Ao(t),new No(e._repo,e._path,t,!0)},ka);function ka(){return null!==Sa&&Sa.apply(this,arguments)||this}var Na,Oa=(Na=n,(0,a.ZT)(Pa,Na),Pa.prototype._apply=function(e){Po(e,"orderByValue");var t=dn(e._queryParams,$t);return Ao(t),new No(e._repo,e._path,t,!0)},Pa);function Pa(){return null!==Na&&Na.apply(this,arguments)||this}var Aa,Ra,Da,Ma=(Aa=n,(0,a.ZT)(La,Aa),La.prototype._apply=function(e){if(ji("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ra(this._value,this._key)._apply(new ca(this._value,this._key)._apply(e))},La);function La(e,t){var n=Aa.call(this)||this;return n._value=e,n._key=t,n}function Fa(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(0,o.m9)(e);try{for(var u=(0,a.XA)(r),c=u.next();!c.done;c=u.next())s=c.value._apply(s)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}Ra=Mo,(0,o.hu)(!Pr,"__referenceConstructor has already been defined"),Pr=Ra,Da=Mo,(0,o.hu)(!jr,"__referenceConstructor has already been defined"),jr=Da;var ja={},Ua=!1;function Va(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||P("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),N("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=bo(o,i),u=s.repoInfo;r=void 0;return(r="undefined"!=typeof process?process.env.FIREBASE_DATABASE_EMULATOR_HOST:r)?(a=!0,o="http://"+r+"?ns="+u.namespace,u=(s=bo(o,i)).repoInfo):a=!s.repoInfo.secure,t=i&&a?new Y(Y.OWNER):new K(e.name,e.options,t),zi("Invalid Firebase Database URL",s),je(s.path)||P("Database URL must point to the root of a Firebase Database (not including a child path)."),n=function(e,t,n,r){var i=ja[t.name];return i||(i={},ja[t.name]=i),(t=i[e.toURLString()])&&P("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),t=new $i(e,Ua,n,r),i[e.toURLString()]=t}(u,e,t,new W(e.name,n)),new qa(n,e)}var qa=(Object.defineProperty(Ba.prototype,"_repo",{get:function(){return this._instanceStarted||(function(e,t,n){if(e.stats_=se(e.repoInfo_),e.forceRestClient_||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))e.server_=new yn(e.repoInfo_,(function(t,n,r,i){eo(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return to(e,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.Pz)(n)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}e.persistentConnection_=new Qe(e.repoInfo_,t,(function(t,n,r,i){eo(e,t,n,r,i)}),(function(t){to(e,t)}),(function(t){var n;n=e,F(t,(function(e,t){no(n,e,t)}))}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=(n=function(){return new kn(e.stats_,e.server_)},t=(t=e.repoInfo_).toString(),ae[t]||(ae[t]=n()),ae[t]),e.infoData_=new wn,e.infoSyncTree_=new Yr({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=Jr(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),no(e,"connected",!1),e.serverSyncTree_=new Yr({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){r=i(n,r),Ki(e.eventQueue_,t._path,r)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(Ba.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Mo(this._repo,Oe())),this._rootInternal},enumerable:!1,configurable:!0}),Ba.prototype._delete=function(){var e,t,n;return this._checkNotDeleted("delete"),e=this._repo,t=this.app.name,(n=ja[t])&&n[e.key]===e||P("Database "+t+"("+e.repoInfo_+") has already been deleted."),so(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},Ba.prototype._checkNotDeleted=function(e){null===this._rootInternal&&P("Cannot call "+e+" on a deleted database.")},Ba);function Ba(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}function za(e){(e=(0,o.m9)(e))._checkNotDeleted("goOnline"),(e=e._repo).persistentConnection_&&e.persistentConnection_.resume(Yi)}var Ha=(Wa.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},Wa);function Wa(e,t){this.committed=e,this.snapshot=t}function Ga(e,t,n){if(e=(0,o.m9)(e),Bi("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";n=null===(i=null==n?void 0:n.applyLocally)||void 0===i||i;var r=new o.BH,i=$o(e,(function(){}));return function(e,t,n,r,i,a){uo(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:I(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null};n=lo(e,t,void 0);s.currentInputSnapshot=n,void 0===(r=s.update(n.val()))?(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot)):(Ui("transaction failed: Data returned ",r,s.path),s.status=0,(i=Ci(a=Ei(e.transactionQueueTree_,t))||[]).push(s),Ti(a,i),a=void 0,"object"==typeof r&&null!==r&&(0,o.r3)(r,".priority")?(a=(0,o.DV)(r,".priority"),(0,o.hu)(Fi(a),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):a=(ti(e.serverSyncTree_,t)||Lt.EMPTY_NODE).getPriority().val(),i=Xi(e),a=Vt(r,a),i=bi(a,n,i),s.currentOutputSnapshotRaw=a,s.currentOutputSnapshotResolved=i,s.currentWriteId=ro(e),s=$r(e.serverSyncTree_,t,i,s.currentWriteId,s.applyLocally),Ki(e.eventQueue_,t,s),ho(e,e.transactionQueueTree_))}(e._repo,e._path,t,(function(t,n,i){var o;t?r.reject(t):(o=new Fo(i,new Mo(e._repo,e._path),It),r.resolve(new Ha(n,o)))}),i,n),r.promise}var Ka=(Za.prototype.cancel=function(e){(0,o.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,o.Wj)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},Za.prototype.remove=function(e){(0,o.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,o.Wj)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},Za.prototype.set=function(e,t){return(0,o.Dv)("OnDisconnect.set",1,2,arguments.length),(0,o.Wj)("OnDisconnect.set","onComplete",t,!0),e=this._delegate.set(e),t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},Za.prototype.setWithPriority=function(e,t,n){return(0,o.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0),t=this._delegate.setWithPriority(e,t),n&&t.then((function(){return n(null)}),(function(e){return n(e)})),t},Za.prototype.update=function(e,t){if((0,o.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,A("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.Wj)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},Za);function Za(e){this._delegate=e}var Ya=($a.prototype.toJSON=function(){return(0,o.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},$a);function $a(e,t){this.committed=e,this.snapshot=t}var Qa=(Ja.prototype.val=function(){return(0,o.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},Ja.prototype.exportVal=function(){return(0,o.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},Ja.prototype.toJSON=function(){return(0,o.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},Ja.prototype.exists=function(){return(0,o.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},Ja.prototype.child=function(e){return(0,o.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),Vi("DataSnapshot.child","path",e,!1),new Ja(this._database,this._delegate.child(e))},Ja.prototype.hasChild=function(e){return(0,o.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Vi("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},Ja.prototype.getPriority=function(){return(0,o.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},Ja.prototype.forEach=function(e){var t=this;return(0,o.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,o.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((function(n){return e(new Ja(t._database,n))}))},Ja.prototype.hasChildren=function(){return(0,o.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(Ja.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),Ja.prototype.numChildren=function(){return(0,o.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},Ja.prototype.getRef=function(){return(0,o.Dv)("DataSnapshot.ref",0,0,arguments.length),new ns(this._database,this._delegate.ref)},Object.defineProperty(Ja.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),Ja);function Ja(e,t){this._database=e,this._delegate=t}var Xa=(es.prototype.on=function(e,t,n,r){var i=this;function a(e,n){t.call(s.context,new Qa(i.database,e),n)}(0,o.Dv)("Query.on",2,4,arguments.length),(0,o.Wj)("Query.on","callback",t,!1);var s=es.getCancelAndContextArgs_("Query.on",n,r);a.userCallback=t,a.context=s.context;var u=null===(r=s.cancel)||void 0===r?void 0:r.bind(s.context);switch(e){case"value":return $o(this._delegate,a,u),t;case"child_added":return Qo(this._delegate,a,u),t;case"child_removed":return ea(this._delegate,a,u),t;case"child_changed":return Jo(this._delegate,a,u),t;case"child_moved":return Xo(this._delegate,a,u),t;default:throw new Error((0,o.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},es.prototype.off=function(e,t,n){var r;(0,o.Dv)("Query.off",0,3,arguments.length),function(e,t,n){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,o.Wj)("Query.off","callback",t,!0),(0,o.lb)("Query.off","context",n,!0),t?((r=function(){}).userCallback=t,r.context=n,ta(this._delegate,e,r)):ta(this._delegate,e)},es.prototype.get=function(){var e=this;return Ho(this._delegate).then((function(t){return new Qa(e.database,t)}))},es.prototype.once=function(e,t,n,r){var i=this;function a(e,n){e=new Qa(i.database,e),t&&t.call(s.context,e,n),u.resolve(e)}(0,o.Dv)("Query.once",1,4,arguments.length),(0,o.Wj)("Query.once","callback",t,!0);var s=es.getCancelAndContextArgs_("Query.once",n,r),u=new o.BH;function c(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)}switch(a.userCallback=t,a.context=s.context,e){case"value":$o(this._delegate,a,c,{onlyOnce:!0});break;case"child_added":Qo(this._delegate,a,c,{onlyOnce:!0});break;case"child_removed":ea(this._delegate,a,c,{onlyOnce:!0});break;case"child_changed":Jo(this._delegate,a,c,{onlyOnce:!0});break;case"child_moved":Xo(this._delegate,a,c,{onlyOnce:!0});break;default:throw new Error((0,o.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},es.prototype.limitToFirst=function(e){return(0,o.Dv)("Query.limitToFirst",1,1,arguments.length),new es(this.database,Fa(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ma(e)}(e)))},es.prototype.limitToLast=function(e){return(0,o.Dv)("Query.limitToLast",1,1,arguments.length),new es(this.database,Fa(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new ya(e)}(e)))},es.prototype.orderByChild=function(e){return(0,o.Dv)("Query.orderByChild",1,1,arguments.length),new es(this.database,Fa(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Vi("orderByChild","path",e,!1),new _a(e)}(e)))},es.prototype.orderByKey=function(){return(0,o.Dv)("Query.orderByKey",0,0,arguments.length),new es(this.database,Fa(this._delegate,new Ta))},es.prototype.orderByPriority=function(){return(0,o.Dv)("Query.orderByPriority",0,0,arguments.length),new es(this.database,Fa(this._delegate,new xa))},es.prototype.orderByValue=function(){return(0,o.Dv)("Query.orderByValue",0,0,arguments.length),new es(this.database,Fa(this._delegate,new Oa))},es.prototype.startAt=function(e,t){return void 0===e&&(e=null),(0,o.Dv)("Query.startAt",0,2,arguments.length),new es(this.database,Fa(this._delegate,(void 0===(e=e)&&(e=null),Ri("startAt","key",t=t,!0),new ca(e,t))))},es.prototype.startAfter=function(e,t){return void 0===e&&(e=null),(0,o.Dv)("Query.startAfter",0,2,arguments.length),new es(this.database,Fa(this._delegate,(e=e,Ri("startAfter","key",t=t,!0),new fa(e,t))))},es.prototype.endAt=function(e,t){return void 0===e&&(e=null),(0,o.Dv)("Query.endAt",0,2,arguments.length),new es(this.database,Fa(this._delegate,(e=e,Ri("endAt","key",t=t,!0),new ra(e,t))))},es.prototype.endBefore=function(e,t){return void 0===e&&(e=null),(0,o.Dv)("Query.endBefore",0,2,arguments.length),new es(this.database,Fa(this._delegate,(e=e,Ri("endBefore","key",t=t,!0),new aa(e,t))))},es.prototype.equalTo=function(e,t){return(0,o.Dv)("Query.equalTo",1,2,arguments.length),new es(this.database,Fa(this._delegate,(e=e,Ri("equalTo","key",t=t,!0),new Ma(e,t))))},es.prototype.toString=function(){return(0,o.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},es.prototype.toJSON=function(){return(0,o.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},es.prototype.isEqual=function(e){if((0,o.Dv)("Query.isEqual",1,1,arguments.length),e instanceof es)return this._delegate.isEqual(e._delegate);throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")},es.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,o.Wj)(e,"cancel",r.cancel,!0),r.context=n,(0,o.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,o.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(es.prototype,"ref",{get:function(){return new ns(this.database,new Mo(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),es);function es(e,t){this.database=e,this._delegate=t}var ts,ns=(ts=Xa,(0,a.ZT)(rs,ts),rs.prototype.getKey=function(){return(0,o.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},rs.prototype.child=function(e){return(0,o.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new rs(this.database,qo(this._delegate,e))},rs.prototype.getParent=function(){(0,o.Dv)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new rs(this.database,e):null},rs.prototype.getRoot=function(){return(0,o.Dv)("Reference.root",0,0,arguments.length),new rs(this.database,this._delegate.root)},rs.prototype.set=function(e,t){return(0,o.Dv)("Reference.set",1,2,arguments.length),(0,o.Wj)("Reference.set","onComplete",t,!0),e=Bo(this._delegate,e),t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},rs.prototype.update=function(e,t){if((0,o.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,A("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Bi("Reference.update",this._delegate._path),(0,o.Wj)("Reference.update","onComplete",t,!0);var i=zo(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},rs.prototype.setWithPriority=function(e,t,n){return(0,o.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,o.Wj)("Reference.setWithPriority","onComplete",n,!0),t=function(e,t,n){if(Bi("setWithPriority",e._path),ji("setWithPriority",t,e._path,!1),Ai("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.BH;return io(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}(this._delegate,e,t),n&&t.then((function(){return n(null)}),(function(e){return n(e)})),t},rs.prototype.remove=function(e){(0,o.Dv)("Reference.remove",0,1,arguments.length),(0,o.Wj)("Reference.remove","onComplete",e,!0);var t=(t=this._delegate,Bi("remove",t._path),Bo(t,null));return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},rs.prototype.transaction=function(e,t,n){var r=this;return(0,o.Dv)("Reference.transaction",1,3,arguments.length),(0,o.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,o.Wj)("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,o.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,n),n=Ga(this._delegate,e,{applyLocally:n}).then((function(e){return new Ya(e.committed,new Qa(r.database,e.snapshot))})),t&&n.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),n},rs.prototype.setPriority=function(e,t){return(0,o.Dv)("Reference.setPriority",1,2,arguments.length),(0,o.Wj)("Reference.setPriority","onComplete",t,!0),e=function(e,t){e=(0,o.m9)(e),Bi("setPriority",e._path),Ai("setPriority",t,!1);var n=new o.BH;return io(e._repo,Fe(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}(this._delegate,e),t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},rs.prototype.push=function(e,t){var n=this;(0,o.Dv)("Reference.push",0,2,arguments.length),(0,o.Wj)("Reference.push","onComplete",t,!0);var r=function(e,t){e=(0,o.m9)(e),Bi("push",e._path),ji("push",t,e._path,!0);var n=Ji(e._repo),r=Jt(n),i=(n=qo(e,r),qo(e,r));t=null!=t?Bo(i,t).then((function(){return i})):Promise.resolve(i);return n.then=t.then.bind(t),n.catch=t.then.bind(t,void 0),n}(this._delegate,e);e=r.then((function(e){return new rs(n.database,e)}));return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),(r=new rs(this.database,r)).then=e.then.bind(e),r.catch=e.catch.bind(e,void 0),r},rs.prototype.onDisconnect=function(){return Bi("Reference.onDisconnect",this._delegate._path),new Ka(new xo(this._delegate._repo,this._delegate._path))},Object.defineProperty(rs.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(rs.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(rs.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),rs);function rs(e,t){var n=ts.call(this,e,new No(t._repo,t._path,new ln,!1))||this;return n.database=e,n._delegate=t,n}var is=(os.prototype.useEmulator=function(e,t,n){!function(e,t,n,r){void 0===r&&(r={}),(e=(0,o.m9)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&P("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;i.repoInfo_.nodeAdmin?(r.mockUserToken&&P('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Y(Y.OWNER)):r.mockUserToken&&(e=(0,o.Sg)(r.mockUserToken,e.app.options.projectId),a=new Y(e)),a=a,(i=i).repoInfo_=new ee(t+":"+n,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams),a&&(i.authTokenProvider_=a)}(this._delegate,e,t,n=void 0===n?{}:n)},os.prototype.ref=function(e){if((0,o.Dv)("database.ref",0,1,arguments.length),e instanceof ns){var t=Vo(this._delegate,e.toString());return new ns(this,t)}return t=Uo(this._delegate,e),new ns(this,t)},os.prototype.refFromURL=function(e){return(0,o.Dv)("database.refFromURL",1,1,arguments.length),e=Vo(this._delegate,e),new ns(this,e)},os.prototype.goOffline=function(){var e;(0,o.Dv)("database.goOffline",0,0,arguments.length),e=this._delegate,(e=(0,o.m9)(e))._checkNotDeleted("goOffline"),so(e._repo)},os.prototype.goOnline=function(){return(0,o.Dv)("database.goOnline",0,0,arguments.length),za(this._delegate)},os.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(e){return{".sv":{increment:e}}}},os);function os(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}var as=Object.freeze({__proto__:null,forceLongPolling:function(){me.forceDisallow(),le.forceAllow()},forceWebSockets:function(){le.forceDisallow()},isWebSocketsAvailable:function(){return me.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){var n;e=e._delegate._repo,void 0===(t=t)&&(t=!1),"undefined"!=typeof console&&(e=t?(e.statsListener_||(e.statsListener_=new In(e.stats_)),e.statsListener_.get()):e.stats_.get(),n=Object.keys(e).reduce((function(e,t){return Math.max(t.length,e)}),0),F(e,(function(e,t){for(var r=e,i=e.length;i<n+2;i++)r+=" ";console.log(r+t)})))},statsIncrementCounter:function(e,t){t=t,(e=e._delegate._repo).stats_.incrementCounter(t),e.statsReporter_.statsToReport_[t]=!0},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){e._delegate._repo.interceptServerDataCallback_=t},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace;e=void 0!==(e=e.nodeAdmin)&&e;return c(r),(r=new i.zt("auth-internal",new i.H0("database-standalone"))).setComponent(new i.wA("auth-internal",(function(){return o}),"PRIVATE")),{instance:new is(Va(t,r,void 0,n,e),t),namespace:a}}});_e=Qe;Qe.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Qe.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var ss=be,us=(n=ee,Object.freeze({__proto__:null,DataConnection:_e,RealTimeConnection:ss,hijackHash:function(e){var t=Qe.prototype.put;return Qe.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Qe.prototype.put=t}},ConnectionTarget:n,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){Ua=e}})),cs=is.ServerValue;!function(t){c(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.wA("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate();t=e.getProvider("auth-internal"),e=e.getProvider("app-check-internal");return new is(Va(r,t,e,n),r)}),"PUBLIC").setServiceProps({Reference:ns,Query:Xa,Database:is,DataSnapshot:Qa,enableLogging:m,INTERNAL:as,ServerValue:cs,TEST_ACCESS:us}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.10.6"),(0,o.Yr)()&&(e.exports=n)}(r.Z)},4594:(e,t,n)=>{"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}n.d(t,{in:()=>i,Yd:()=>l,Ub:()=>function(e){o.forEach((function(t){t.setLogLevel(e)}))},Am:()=>function(e,t){for(var n=0,r=o;n<r.length;n++)!function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var s=o.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:s,args:o,type:t.name})}}(r[n])}});var i,o=[];function a(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}}(t=i=i||{})[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT";var s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},u=i.INFO,c=((t={})[i.DEBUG]="log",t[i.VERBOSE]="log",t[i.INFO]="info",t[i.WARN]="warn",t[i.ERROR]="error",t),l=(Object.defineProperty(h.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),h.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?s[e]:e},Object.defineProperty(h.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),h.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.DEBUG],e)),this._logHandler.apply(this,r([this,i.DEBUG],e))},h.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.VERBOSE],e)),this._logHandler.apply(this,r([this,i.VERBOSE],e))},h.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.INFO],e)),this._logHandler.apply(this,r([this,i.INFO],e))},h.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.WARN],e)),this._logHandler.apply(this,r([this,i.WARN],e))},h.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.ERROR],e)),this._logHandler.apply(this,r([this,i.ERROR],e))},h);function h(e){this.name=e,this._logLevel=u,this._logHandler=a,this._userLogHandler=null,o.push(this)}},4589:(e,t,n)=>{"use strict";function r(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t}function i(e){try{return c.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}n.d(t,{BH:()=>f,LL:()=>b,ZR:()=>g,gQ:()=>S,hu:()=>s,g5:()=>u,US:()=>c,h$:()=>l,r3:()=>function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Sg:()=>function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0;if(!(t=e.sub||e.user_id))throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");return e=(0,o.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:t,user_id:t,firebase:{sign_in_provider:"custom",identities:{}}},e),[c.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),c.encodeString(JSON.stringify(e),!1),""].join(".")},ne:()=>function(e,t){return(t=new k(e,t)).subscribe.bind(t)},p$:()=>function(e){return h(void 0,e)},ZB:()=>h,gK:()=>A,m9:()=>function(e){return e&&e._delegate?e._delegate:e},z$:()=>d,GJ:()=>I,jU:()=>function(){return"object"==typeof self&&self.self===self},ru:()=>function(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id},d:()=>function(){return 0<=d().indexOf("Electron/")},xb:()=>function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},w1:()=>function(){var e=d();return 0<=e.indexOf("MSIE ")||0<=e.indexOf("Trident/")},uI:()=>function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},UG:()=>m,Yr:()=>function(){return!0===a.NODE_CLIENT||!0===a.NODE_ADMIN},b$:()=>function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},Mn:()=>function(){return 0<=d().indexOf("MSAppHost/")},w9:()=>T,cI:()=>E,UI:()=>function(e,t,n){var r,i={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i},xO:()=>function(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i;!function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}((i=r[n])[0],i=i[1])}return t.length?"&"+t.join("&"):""},DV:()=>function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},ug:()=>D,dS:()=>R,Pz:()=>function(e){return JSON.stringify(e)},Dv:()=>P,Wj:()=>function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(A(e,t)+"must be a valid function.")},lb:()=>function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(A(e,t)+"must be a valid context object.")}});var o=n(655),a={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},s=function(e,t){if(!e)throw u(t)},u=function(e){return new Error("Firebase Database ("+a.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=(15&s)<<2|(l=u?e[i+2]:0)>>6,l=63&l;u||(l=64,a||(c=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[c],n[l])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i,o,a,s=e[n++];s<128?t[r++]=String.fromCharCode(s):191<s&&s<224?(o=e[n++],t[r++]=String.fromCharCode((31&s)<<6|63&o)):239<s&&s<365?(i=((7&s)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536,t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))):(o=e[n++],a=e[n++],t[r++]=String.fromCharCode((15&s)<<12|(63&o)<<6|63&a))}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},l=function(e){return e=r(e),c.encodeByteArray(e,!0)};function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=h(e[n],t[n]));return e}var f=(p.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},p);function p(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function m(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}var v,g=(v=Error,(0,o.ZT)(y,v),y);function y(e,t,n){return(t=v.call(this,t)||this).code=e,t.customData=n,t.name="FirebaseError",Object.setPrototypeOf(t,y.prototype),Error.captureStackTrace&&Error.captureStackTrace(t,b.prototype.create),t}var b=(w.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,i=t[0]||{},o=this.service+"/"+e;e=(e=this.errors[e])?(r=i,e.replace(_,(function(e,t){var n=r[t];return null!=n?String(n):"<"+t+"?>"}))):"Error",e=this.serviceName+": "+e+" ("+o+").";return new g(o,e,i)},w);function w(e,t,n){this.service=e,this.serviceName=t,this.errors=n}var _=/\{\$([^}]+)}/g;function E(e){return JSON.parse(e)}function C(e){var t={},n={},r={},o="";try{var a=e.split(".");t=E(i(a[0])||""),n=E(i(a[1])||""),o=a[2],r=n.d||{};delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:o}}var T=function(e){return!!(e=C(e).claims)&&"object"==typeof e&&e.hasOwnProperty("iat")},I=function(e){return"object"==typeof(e=C(e).claims)&&!0===e.admin},S=(x.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},x.prototype.compress_=function(e,t){t=t||0;var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){var h=r<40?r<20?(o=c^s&(u^c),1518500249):(o=s^u^c,1859775393):r<60?(o=s&u|c&(s|u),2400959708):(o=s^u^c,3395469782);i=(a<<5|a>>>27)+o+l+h+n[r]&4294967295,l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},x.prototype.update=function(e,t){if(null!=e){for(var n=(t=void 0===t?e.length:t)-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},x.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;56<=n;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;0<=i;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},x);function x(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}var k=(N.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},N.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},N.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},N.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");return void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O),n=this.unsubscribeOne.bind(this,this.observers.length),this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),n},N.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],--this.observerCount,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},N.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},N.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},N.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},N);function N(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}function O(){}var P=function(e,t,n,r){var i;if(r<t?i="at least "+t:n<r&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function A(e,t){return e+" failed: "+t+" argument "}var R=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i,o=e.charCodeAt(r);55296<=o&&o<=56319&&(i=o-55296,s(++r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(i<<10)+(e.charCodeAt(r)-56320)),o<128?t[n++]=o:(o<2048?t[n++]=o>>6|192:(o<65536?t[n++]=o>>12|224:(t[n++]=o>>18|240,t[n++]=o>>12&63|128),t[n++]=o>>6&63|128),t[n++]=63&o|128)}return t},D=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:55296<=r&&r<=56319?(t+=4,n++):t+=3}return t}},596:(e,t,n)=>{"use strict";var r=n(7294),i=n(3935);function o(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))}}var s=n(7757),u=n.n(s),c=n(5697),l=n.n(c),h=r.createContext(null),f=function(e){e()},p={notify:function(){}};var d=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=p,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var e=f,t=null,n=null;return{clear:function(){n=t=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=p)},e}(),m="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;n(8679);var v=n(9864);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(){return(0,r.useContext)(h)}function b(e){var t=(e=void 0===e?h:e)===h?y:function(){return(0,r.useContext)(e)};return function(){return t().store}}var w=b();function _(e,t){return e===t}var E=function(e){var t=(e=void 0===e?h:e)===h?w:b(e);return function(){return t().dispatch}}();var C,T=function(e){var t=(e=void 0===e?h:e)===h?y:function(){return(0,r.useContext)(e)};return function(e,n){void 0===n&&(n=_);var i=function(e,t,n,i){var o,a,s=(0,r.useReducer)((function(e){return e+1}),0)[1],u=(0,r.useMemo)((function(){return new d(n,i)}),[n,i]),c=(0,r.useRef)(),l=(0,r.useRef)(),h=(0,r.useRef)(),f=(0,r.useRef)(),p=n.getState();try{a=e!==l.current||p!==h.current||c.current?(o=e(p),void 0!==f.current&&t(o,f.current)?f.current:o):f.current}catch(e){throw c.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+c.current.stack+"\n\n"),e}return m((function(){l.current=e,h.current=p,f.current=a,c.current=void 0})),m((function(){function e(){try{var e=n.getState(),r=l.current(e);if(t(r,f.current))return;f.current=r,h.current=e}catch(e){c.current=e}s()}return u.onStateChange=e,u.trySubscribe(),e(),function(){return u.tryUnsubscribe()}}),[n,u]),a}(e,n,(i=t()).store,i.subscription);return(0,r.useDebugValue)(i),i}}();C=i.unstable_batchedUpdates,f=C;var I="LOGIN_USER",S="LOGOUT_USER",x="REGISTER_USER";const k=function(e){return function(t){t({type:I,data:g({},e)})}},N=function(){return function(e){e({type:S,data:{}})}},O=function(e){return function(t){t({type:x,data:e})}};function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e,t){e.prototype=Object.create(t.prototype),P(e.prototype.constructor=e,t)}function R(e){return"/"===e.charAt(0)}function D(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function M(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}const L=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"!=typeof t&&"object"!=typeof n)return!1;var r=M(t),i=M(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))};const F=function(e,t){if(!e)throw new Error("Invariant failed")};function j(e){return"/"===e.charAt(0)?e:"/"+e}function U(e,t){return r=t,0===(n=e).toLowerCase().indexOf(r.toLowerCase())&&-1!=="/?#".indexOf(n.charAt(r.length))?e.substr(t.length):e;var n,r}function V(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function q(e){var t=e.pathname,n=e.search;e=e.hash,t=t||"/";return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function B(e,t,n,r){var i,o,a,s;"string"==typeof e?(s=a="",-1!==(i=(o=(i=e)||"/").indexOf("#"))&&(s=o.substr(i),o=o.substr(0,i)),-1!==(i=o.indexOf("?"))&&(a=o.substr(i),o=o.substr(0,i)),(s={pathname:o,search:"?"===a?"":a,hash:"#"===s?"":s}).state=t):(void 0===(s=g({},e)).pathname&&(s.pathname=""),s.search?"?"!==s.search.charAt(0)&&(s.search="?"+s.search):s.search="",s.hash?"#"!==s.hash.charAt(0)&&(s.hash="#"+s.hash):s.hash="",void 0!==t&&void 0===s.state&&(s.state=t));try{s.pathname=decodeURI(s.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(s.key=n),r?s.pathname?"/"!==s.pathname.charAt(0)&&(s.pathname=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&R(e);if(t=t&&R(t),t=o||t,e&&R(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";n=!!i.length&&("."===(n=i[i.length-1])||".."===n||""===n);for(var a=0,s=i.length;0<=s;s--){var u=i[s];"."===u?D(i,s):".."===u?(D(i,s),a++):a&&(D(i,s),a--)}if(!t)for(;a--;)i.unshift("..");return!t||""===i[0]||i[0]&&R(i[0])||i.unshift(""),t=i.join("/"),n&&"/"!==t.substr(-1)&&(t+="/"),t}(s.pathname,r.pathname)):s.pathname=r.pathname:s.pathname||(s.pathname="/"),s}function z(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){null!=e?"string"==typeof(n="function"==typeof e?e(t,n):e)?"function"==typeof r?r(n,i):i(!0):i(!1!==n):i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var H=!("undefined"==typeof window||!window.document||!window.document.createElement);function W(e,t){t(window.confirm(e))}var G="popstate",K="hashchange";function Z(){try{return window.history.state||{}}catch(e){return{}}}function Y(e){void 0===e&&(e={}),H||F(!1);var t,n,r=window.history,i=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,o=!(-1===window.navigator.userAgent.indexOf("Trident")),a=void 0!==(t=(n=e).forceRefresh)&&t,s=void 0===(t=n.getUserConfirmation)?W:t,u=void 0===(n=n.keyLength)?6:n,c=e.basename?V(j(e.basename)):"";function l(e){var t=(n=e||{}).key,n=(e=n.state,(n=window.location).pathname+n.search+n.hash);return B(n=c?U(n,c):n,e,t)}function h(){return Math.random().toString(36).substr(2,u)}var f=z();function p(e){g(I,e),I.length=r.length,f.notifyListeners(I.location,I.action)}function d(e){void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")||y(l(e.state))}function m(){y(l(Z()))}var v=!1;function y(e){v?(v=!1,p()):f.confirmTransitionTo(e,"POP",s,(function(t){t?p({action:"POP",location:e}):function(e){var t=I.location;-1===(t=b.indexOf(t.key))&&(t=0),-1===(e=b.indexOf(e.key))&&(e=0),(e=t-e)&&(v=!0,_(e))}(e)}))}var b=[(e=l(Z())).key];function w(e){return c+q(e)}function _(e){r.go(e)}var E=0;function C(e){1===(E+=e)&&1===e?(window.addEventListener(G,d),o&&window.addEventListener(K,m)):0===E&&(window.removeEventListener(G,d),o&&window.removeEventListener(K,m))}var T=!1,I={length:r.length,action:"POP",location:e,createHref:w,push:function(e,t){var n=B(e,t,h(),I.location);f.confirmTransitionTo(n,"PUSH",s,(function(e){var t,o;e&&(t=w(n),o=n.key,e=n.state,i?(r.pushState({key:o,state:e},null,t),a?window.location.href=t:(e=b.indexOf(I.location.key),(e=b.slice(0,e+1)).push(n.key),b=e,p({action:"PUSH",location:n}))):window.location.href=t)}))},replace:function(e,t){var n=B(e,t,h(),I.location);f.confirmTransitionTo(n,"REPLACE",s,(function(e){var t,o;e&&(t=w(n),o=n.key,e=n.state,i?(r.replaceState({key:o,state:e},null,t),a?window.location.replace(t):(-1!==(e=b.indexOf(I.location.key))&&(b[e]=n.key),p({action:"REPLACE",location:n}))):window.location.replace(t))}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},block:function(e){var t=f.setPrompt(e=void 0!==e&&e);return T||(C(1),T=!0),function(){return T&&(T=!1,C(-1)),t()}},listen:function(e){var t=f.appendListener(e);return C(1),function(){C(-1),t()}}};return I}var $=1073741823,Q="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:{};const J=r.createContext||function(e,t){var n,i="__create-react-context-"+(Q[a="__global_unique_id__"]=(Q[a]||0)+1)+"__",o=function(e){function n(){var t,n,r=e.apply(this,arguments)||this;return r.emitter=(t=r.props.value,n=[],{on:function(e){n.push(e)},off:function(e){n=n.filter((function(t){return t!==e}))},get:function(){return t},set:function(e,r){t=e,n.forEach((function(e){return e(t,r)}))}}),r}A(n,e);var r=n.prototype;return r.getChildContext=function(){var e={};return e[i]=this.emitter,e},r.componentWillReceiveProps=function(e){var n,r,i,o,a;this.props.value!==e.value&&(((o=n=this.props.value)===(a=r=e.value)?0!==o||1/o==1/a:o!=o&&a!=a)?i=0:(i="function"==typeof t?t(n,r):$,0!=(i|=0)&&this.emitter.set(e.value,i)))},r.render=function(){return this.props.children},n}(r.Component);o.childContextTypes=((n={})[i]=l().object.isRequired,n);var a=function(t){function n(){var e=t.apply(this,arguments)||this;return e.state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}A(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){e=e.observedBits,this.observedBits=null==e?$:e},r.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?$:e},r.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},r.getValue=function(){return this.context[i]?this.context[i].get():e},r.render=function(){return e=this.props.children,(Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return a.contextTypes=((n={})[i]=l().object,n),{Provider:o,Consumer:a}};var X=n(9658),ee=n.n(X);function te(e,t){if(null==e)return{};for(var n,r={},i=Object.keys(e),o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||(r[n]=e[n]);return r}var ne=function(e){var t=J();return t.displayName="Router-History",t}(),re=function(e){var t=J();return t.displayName="Router",t}(),ie=function(e){function t(t){var n=e.call(this,t)||this;return n.state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}A(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return r.createElement(re.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},r.createElement(ne.Provider,{children:this.props.children||null,value:this.props.history}))},t}(r.Component);r.Component;var oe=function(e){function t(){return e.apply(this,arguments)||this}A(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(r.Component),ae={},se=0;function ue(e,t){return void 0===t&&(t={}),"/"===(e=void 0===e?"/":e)?e:function(e){if(ae[e])return ae[e];var t=ee().compile(e);return se<1e4&&(ae[e]=t,se++),t}(e)(t,{pretty:!0})}function ce(e){var t=e.computedMatch,n=e.to,i=void 0!==(e=e.push)&&e;return r.createElement(re.Consumer,null,(function(e){e||F(!1);var o=e.history,a=(e=e.staticContext,i?o.push:o.replace),s=B(t?"string"==typeof n?ue(n,t.params):g({},n,{pathname:ue(n.pathname,t.params)}):n);return e?(a(s),null):r.createElement(oe,{onMount:function(){a(s)},onUpdate:function(e,t){var n=B(t.to);n=g({},s,{key:(t=n).key}),t.pathname===n.pathname&&t.search===n.search&&t.hash===n.hash&&t.key===n.key&&L(t.state,n.state)||a(s)},to:n})}))}var le={},he=0;function fe(e,t){var n,r=(n=t="string"==typeof(t=void 0===t?{}:t)||Array.isArray(t)?{path:t}:t).path,i=void 0!==(t=n.exact)&&t,o=void 0!==(t=n.strict)&&t,a=void 0!==(n=n.sensitive)&&n;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r,s=(t=(s=n,u=""+(r={end:i,strict:o,sensitive:a}).end+r.strict+r.sensitive,(t=le[u]||(le[u]={}))[s]||(u=[],u={regexp:ee()(s,u,r),keys:u},he<1e4&&(t[s]=u,he++),u))).regexp,u=t.keys;if(!(t=s.exec(e)))return null;s=t[0];var c=t.slice(1);t=e===s;return i&&!t?null:{path:n,url:"/"===n&&""===s?"/":s,isExact:t,params:u.reduce((function(e,t,n){return e[t.name]=c[n],e}),{})}}),null)}var pe=function(e){function t(){return e.apply(this,arguments)||this}return A(t,e),t.prototype.render=function(){var e=this;return r.createElement(re.Consumer,null,(function(t){t||F(!1);var n=g({},t,{location:i=e.props.location||t.location,match:e.props.computedMatch||(e.props.path?fe(i.pathname,e.props):t.match)}),i=(o=e.props).children,o=(t=o.component,o.render);return Array.isArray(i)&&0===i.length&&(i=null),r.createElement(re.Provider,{value:n},n.match?i?"function"==typeof i?i(n):i:t?r.createElement(t,n):o?o(n):null:"function"==typeof i?i(n):null)}))},t}(r.Component);r.Component;var de=function(e){function t(){return e.apply(this,arguments)||this}return A(t,e),t.prototype.render=function(){var e=this;return r.createElement(re.Consumer,null,(function(t){t||F(!1);var n,i,o=e.props.location||t.location;return r.Children.forEach(e.props.children,(function(e){var a;null==i&&r.isValidElement(e)&&(a=(n=e).props.path||e.props.from,i=a?fe(o.pathname,g({},e.props,{path:a})):t.match)})),i?r.cloneElement(n,{location:o,computedMatch:i}):null}))},t}(r.Component),me=r.useContext;function ve(){return me(ne)}var ge=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Y(t.props),t}return A(t,e),t.prototype.render=function(){return r.createElement(ie,{history:this.history,children:this.props.children})},t}(r.Component);function ye(e,t){return"function"==typeof e?e(t):e}function be(e,t){return"string"==typeof e?B(e,null,null,t):e}function we(e){return e}r.Component;var _e=r.forwardRef,Ee=(_e=void 0===_e?we:_e)((function(e,t){var n=e.innerRef,i=e.navigate,o=e.onClick,a=(e=te(e,["innerRef","navigate","onClick"])).target;return(e=g({},e,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}var t;e.defaultPrevented||0!==e.button||a&&"_self"!==a||(t=e).metaKey||t.altKey||t.ctrlKey||t.shiftKey||(e.preventDefault(),i())}})).ref=we!==_e&&t||n,r.createElement("a",e)}));function Ce(e){return e}var Te=_e((function(e,t){var n=e.component,i=void 0===n?Ee:n,o=e.replace,a=e.to,s=e.innerRef,u=te(e,["component","replace","to","innerRef"]);return r.createElement(re.Consumer,null,(function(e){e||F(!1);var n=e.history,c=(c=be(ye(a,e.location),e.location))?n.createHref(c):"";c=g({},u,{href:c,navigate:function(){var t=ye(a,e.location);(o?n.replace:n.push)(t)}});return we!==_e?c.ref=t||s:c.innerRef=s,r.createElement(i,c)}))})),Ie=r.forwardRef;(Ie=void 0===Ie?Ce:Ie)((function(e,t){var n,i=void 0===(n=e["aria-current"])?"page":n,o=void 0===(n=e.activeClassName)?"active":n,a=e.activeStyle,s=e.className,u=e.exact,c=e.isActive,l=e.location,h=e.sensitive,f=e.strict,p=e.style,d=e.to,m=e.innerRef,v=te(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return r.createElement(re.Consumer,null,(function(e){e||F(!1);var n=l||e.location,y=(e=(y=(b=be(ye(d,n),n)).pathname)&&y.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"))?fe(n.pathname,{path:e,exact:u,sensitive:h,strict:f}):null,b=(n=(e=!!(c?c(y,n):y))?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(s,o):s,y=e?g({},p,{},a):p,g({"aria-current":e&&i||null,className:n,style:y,to:b},v));return Ce!==Ie?b.ref=t||m:b.innerRef=m,r.createElement(Te,b)}))}));const Se=function(){return r.createElement(r.Fragment,null,r.createElement("h1",null,"Home"))},xe=function(){return r.createElement(r.Fragment,null,r.createElement("h1",null,"Blog"))};function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e){if(Array.isArray(e))return e}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pe(e,t){if(e){if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(e,t):void 0}}function Ae(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Re(e,t){return Ne(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||Pe(e,t)||Ae()}var De=n(6156),Me=n(4184),Le=n.n(Me);function Fe(e,t){if(null==e)return{};var n,r=te(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}var je=n(8991);function Ue(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ve(e){return function(e){if(Array.isArray(e))return Oe(e)}(e)||Ue(e)||Pe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t,n){return t&&Be(e.prototype,t),n&&Be(e,n),e}function He(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function We(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ge(e);return n=t?(n=Ge(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||"object"!==ke(n)&&"function"!=typeof n?He(r):n}}function Ze(e,t){var n=1<arguments.length&&void 0!==t?t:{},i=[];return r.Children.forEach(e,(function(e){null==e&&!n.keepEmpty||(Array.isArray(e)?i=i.concat(Ze(e)):(0,v.isFragment)(e)&&e.props?i=i.concat(Ze(e.props.children,n)):i.push(e))})),i}var Ye={};function $e(e,t){}const Qe=function(e,t){!function(e,t,n){t||Ye[n]||(e(!1,n),Ye[n]=!0)}($e,e,t)};function Je(){Qe(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")}var Xe="RC_FORM_INTERNAL_HOOKS";const et=r.createContext({getFieldValue:Je,getFieldsValue:Je,getFieldError:Je,getFieldsError:Je,isFieldsTouched:Je,isFieldTouched:Je,isFieldValidating:Je,isFieldsValidating:Je,resetFields:Je,setFields:Je,setFieldsValue:Je,validateFields:Je,submit:Je,getInternalHooks:function(){return Je(),{dispatch:Je,initEntityValue:Je,registerField:Je,useSubscribe:Je,setInitialValues:Je,setCallbacks:Je,getFields:Je,setValidateMessages:Je,setPreserve:Je}}});function tt(e){return null==e?[]:Array.isArray(e)?e:[e]}function nt(){return(nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function it(e,t){return(it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ot(e,t,n){return(ot=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),1}catch(e){return}}}()?Reflect.construct:function(e,t,n){var r=[null];return r.push.apply(r,t),r=new(Function.bind.apply(e,r)),n&&it(r,n.prototype),r}).apply(null,arguments)}function at(e){var t="function"==typeof Map?new Map:void 0;return(at=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ot(e,arguments,rt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),it(n,e)})(e)}var st=/%[sdj%]/g,ut=function(){};function ct(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function lt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=1,i=t[0],o=t.length;return"function"==typeof i?i.apply(null,t.slice(1)):"string"!=typeof i?i:String(i).replace(st,(function(e){if("%%"===e)return"%";if(o<=r)return e;switch(e){case"%s":return String(t[r++]);case"%d":return Number(t[r++]);case"%j":try{return JSON.stringify(t[r++])}catch(e){return"[Circular]"}break;default:return e}}))}function ht(e,t){return null==e||"array"===t&&Array.isArray(e)&&!e.length||!("string"!==(t=t)&&"url"!==t&&"hex"!==t&&"email"!==t&&"date"!==t&&"pattern"!==t||"string"!=typeof e||e)}function ft(e,t,n){var r=0,i=e.length;!function o(a){a&&a.length?n(a):(a=r,r+=1,a<i?t(e[a],o):n([]))}([])}var pt=function(e){var t,n;function r(t,n){var r=e.call(this,"Async Validation Error")||this;return r.errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),it(t.prototype.constructor=t,n),r}(at(Error));function dt(e){return function(t){return t&&t.message?(t.field=t.field||e.fullField,t):{message:"function"==typeof t?t():t,field:t.field||e.fullField}}}function mt(e,t){if(t)for(var n in t){var r;t.hasOwnProperty(n)&&("object"==typeof(r=t[n])&&"object"==typeof e[n]?e[n]=nt({},e[n],r):e[n]=r)}return e}function vt(e,t,n,r,i,o){!e.required||n.hasOwnProperty(e.field)&&!ht(t,o||e.type)||r.push(lt(i.messages.required,e.fullField))}var gt={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},yt={integer:function(e){return yt.number(e)&&parseInt(e,10)===e},float:function(e){return yt.number(e)&&!yt.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(e){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"==typeof e&&!yt.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&!!e.match(gt.email)&&e.length<255},url:function(e){return"string"==typeof e&&!!e.match(gt.url)},hex:function(e){return"string"==typeof e&&!!e.match(gt.hex)}},bt={required:vt,whitespace:function(e,t,n,r,i){!/^\s+$/.test(t)&&""!==t||r.push(lt(i.messages.whitespace,e.fullField))},type:function(e,t,n,r,i){e.required&&void 0===t?vt(e,t,n,r,i):(n=e.type,-1<["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(n)?yt[n](t)||r.push(lt(i.messages.types[n],e.fullField,e.type)):n&&typeof t!==e.type&&r.push(lt(i.messages.types[n],e.fullField,e.type)))},range:function(e,t,n,r,i){var o="number"==typeof e.len,a="number"==typeof e.min,s="number"==typeof e.max,u=t,c=null,l="number"==typeof t,h="string"==typeof t,f=Array.isArray(t);if(l?c="number":h?c="string":f&&(c="array"),!c)return!1;f&&(u=t.length),h&&(u=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?u!==e.len&&r.push(lt(i.messages[c].len,e.fullField,e.len)):a&&!s&&u<e.min?r.push(lt(i.messages[c].min,e.fullField,e.min)):s&&!a&&u>e.max?r.push(lt(i.messages[c].max,e.fullField,e.max)):a&&s&&(u<e.min||u>e.max)&&r.push(lt(i.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,i){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(lt(i.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,r,i){e.pattern&&(e.pattern instanceof RegExp?(e.pattern.lastIndex=0,e.pattern.test(t)||r.push(lt(i.messages.pattern.mismatch,e.fullField,t,e.pattern))):"string"==typeof e.pattern&&(new RegExp(e.pattern).test(t)||r.push(lt(i.messages.pattern.mismatch,e.fullField,t,e.pattern))))}};function wt(e,t,n,r,i){var o=e.type,a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(ht(t,o)&&!e.required)return n();bt.required(e,t,r,a,i,o),ht(t,o)||bt.type(e,t,r,a,i)}n(a)}var _t={string:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(ht(t,"string")&&!e.required)return n();bt.required(e,t,r,o,i,"string"),ht(t,"string")||(bt.type(e,t,r,o,i),bt.range(e,t,r,o,i),bt.pattern(e,t,r,o,i),!0===e.whitespace&&bt.whitespace(e,t,r,o,i))}n(o)},method:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(ht(t)&&!e.required)return n();bt.required(e,t,r,o,i),void 0!==t&&bt.type(e,t,r,o,i)}n(o)},number:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(ht(t=""===t?void 0:t)&&!e.required)return n();bt.required(e,t,r,o,i),void 0!==t&&(bt.type(e,t,r,o,i),bt.range(e,t,r,o,i))}n(o)},boolean:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(ht(t)&&!e.required)return n();bt.required(e,t,r,o,i),void 0!==t&&bt.type(e,t,r,o,i)}n(o)},regexp:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(ht(t)&&!e.required)return n();bt.required(e,t,r,o,i),ht(t)||bt.type(e,t,r,o,i)}n(o)},integer:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(ht(t)&&!e.required)return n();bt.required(e,t,r,o,i),void 0!==t&&(bt.type(e,t,r,o,i),bt.range(e,t,r,o,i))}n(o)},float:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(ht(t)&&!e.required)return n();bt.required(e,t,r,o,i),void 0!==t&&(bt.type(e,t,r,o,i),bt.range(e,t,r,o,i))}n(o)},array:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(null==t&&!e.required)return n();bt.required(e,t,r,o,i,"array"),null!=t&&(bt.type(e,t,r,o,i),bt.range(e,t,r,o,i))}n(o)},object:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(ht(t)&&!e.required)return n();bt.required(e,t,r,o,i),void 0!==t&&bt.type(e,t,r,o,i)}n(o)},enum:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(ht(t)&&!e.required)return n();bt.required(e,t,r,o,i),void 0!==t&&bt.enum(e,t,r,o,i)}n(o)},pattern:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(ht(t,"string")&&!e.required)return n();bt.required(e,t,r,o,i),ht(t,"string")||bt.pattern(e,t,r,o,i)}n(o)},date:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(ht(t,"date")&&!e.required)return n();bt.required(e,t,r,o,i),ht(t,"date")||(t=t instanceof Date?t:new Date(t),bt.type(e,t,r,o,i),t&&bt.range(e,t.getTime(),r,o,i))}n(o)},url:wt,hex:wt,email:wt,required:function(e,t,n,r,i){var o=[],a=Array.isArray(t)?"array":typeof t;bt.required(e,t,r,o,i,a),n(o)},any:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(ht(t)&&!e.required)return n();bt.required(e,t,r,o,i)}n(o)}};function Et(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Ct=Et();function Tt(e){this.rules=null,this._messages=Ct,this.define(e)}function It(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null==n)return;n=n[t[r]]}return n}function St(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function xt(e,t,n,r){if(!t.length)return n;var i=(t=Ne(i=t)||Ue(i)||Pe(i)||Ae())[0];t=t.slice(1),e=e||"number"!=typeof i?Array.isArray(e)?Ve(e):function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){(0,De.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e):[];return r&&void 0===n&&1===t.length?delete e[i][t[0]]:e[i]=xt(e[i],t,n,r),e}function kt(e){return tt(e)}function Nt(e,t){return It(e,t)}function Ot(e,t,n,r){return function(e,t,n,r){return r=3<arguments.length&&void 0!==r&&r,t.length&&r&&void 0===n&&!It(e,t.slice(0,-1))?e:xt(e,t,n,r)}(e,t,n,3<arguments.length&&void 0!==r&&r)}function Pt(e,t){var n={};return t.forEach((function(t){var r=Nt(e,t);n=Ot(n,t,r)})),n}function At(e,t){return e&&e.some((function(e){return Mt(e,t)}))}function Rt(e){return"object"===ke(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function Dt(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function e(t,n){var r=Array.isArray(t)?Ve(t):(0,je.Z)({},t);return n&&Object.keys(n).forEach((function(t){var i=r[t],o=n[t],a=Rt(i)&&Rt(o);r[t]=a?e(i,o||{}):o})),r}),e)}function Mt(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function Lt(e,t,n){var r=e.length;if(t<0||r<=t||n<0||r<=n)return e;var i=e[t],o=t-n;return 0<o?[].concat(Ve(e.slice(0,n)),[i],Ve(e.slice(n,t)),Ve(e.slice(t+1,r))):o<0?[].concat(Ve(e.slice(0,t)),Ve(e.slice(t+1,n+1)),[i],Ve(e.slice(n+1,r))):e}Tt.prototype={messages:function(e){return e&&(this._messages=mt(Et(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!=typeof e||Array.isArray(e))throw new Error("Rules must be an object");var t,n;for(t in this.rules={},e)e.hasOwnProperty(t)&&(n=e[t],this.rules[t]=Array.isArray(n)?n:[n])},validate:function(e,t,n){var r,i,o=this,a=e,s=t=void 0===t?{}:t,u=n=void 0===n?function(){}:n;if("function"==typeof s&&(u=s,s={}),!this.rules||0===Object.keys(this.rules).length)return u&&u(),Promise.resolve();s.messages?(mt(n=(n=this.messages())===Ct?Et():n,s.messages),s.messages=n):s.messages=this.messages();var c={};(s.keys||Object.keys(this.rules)).forEach((function(t){r=o.rules[t],i=a[t],r.forEach((function(n){"function"==typeof n.transform&&(a===e&&(a=nt({},a)),i=a[t]=n.transform(i)),(n="function"==typeof n?{validator:n}:nt({},n)).validator=o.getValidationMethod(n),n.field=t,n.fullField=n.fullField||t,n.type=o.getType(n),n.validator&&(c[t]=c[t]||[],c[t].push({rule:n,value:i,source:a,field:t}))}))}));var l={};return function(e,t,n,r){if(t.first){var i=new Promise((function(t,i){var o,a;ft((o=e,a=[],Object.keys(o).forEach((function(e){a.push.apply(a,o[e])})),a),n,(function(e){return r(e),e.length?i(new pt(e,ct(e))):t()}))}));return i.catch((function(e){return e})),i}var o=t.firstFields||[];!0===o&&(o=Object.keys(e));var a=Object.keys(e),s=a.length,u=0,c=[];return(t=new Promise((function(t,i){function l(e){if(c.push.apply(c,e),++u===s)return r(c),c.length?i(new pt(c,ct(c))):t()}a.length||(r(c),t()),a.forEach((function(t){var r,i,a,s,u,c=e[t];function h(e){a.push.apply(a,e),++s===u&&i(a)}-1!==o.indexOf(t)?ft(c,n,l):(r=n,i=l,a=[],s=0,u=c.length,c.forEach((function(e){r(e,h)})))}))}))).catch((function(e){return e})),t}(c,s,(function(e,t){var n,r,i=e.rule;function o(e,t){return nt({},t,{fullField:i.fullField+"."+e})}function a(r){var a=r=void 0===r?[]:r;if(Array.isArray(a)||(a=[a]),!s.suppressWarning&&a.length&&Tt.warning("async-validator:",a),a=(a=a.length&&void 0!==i.message?[].concat(i.message):a).map(dt(i)),s.first&&a.length)return l[i.field]=1,t(a);if(n){if(i.required&&!e.value)return void 0!==i.message?a=[].concat(i.message).map(dt(i)):s.error&&(a=[s.error(i,lt(s.messages.required,i.field))]),t(a);var u,c,h={};if(i.defaultField)for(var f in e.value)e.value.hasOwnProperty(f)&&(h[f]=i.defaultField);for(u in h=nt({},h,e.rule.fields))h.hasOwnProperty(u)&&(c=Array.isArray(h[u])?h[u]:[h[u]],h[u]=c.map(o.bind(null,u)));(r=new Tt(h)).messages(s.messages),e.rule.options&&(e.rule.options.messages=s.messages,e.rule.options.error=s.error),r.validate(e.value,e.rule.options||s,(function(e){var n=[];a&&a.length&&n.push.apply(n,a),e&&e.length&&n.push.apply(n,e),t(n.length?n:null)}))}else t(a)}n=(n=!("object"!==i.type&&"array"!==i.type||"object"!=typeof i.fields&&"object"!=typeof i.defaultField))&&(i.required||!i.required&&e.value),i.field=e.field,i.asyncValidator?r=i.asyncValidator(i,e.value,a,e.source,s):i.validator&&(!0===(r=i.validator(i,e.value,a,e.source,s))?a():!1===r?a(i.message||i.field+" fails"):r instanceof Array?a(r):r instanceof Error&&a(r.message)),r&&r.then&&r.then((function(){return a()}),a)}),(function(e){!function(e){var t,n,r,i=[];for(t=0;t<e.length;t++)n=e[t],Array.isArray(n)?i=i.concat.apply(i,n):i.push(n);r=i.length?ct(i):i=null,u(i,r)}(e)}))},getType:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!_t.hasOwnProperty(e.type))throw new Error(lt("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?_t.required:_t[this.getType(e)]||!1}},Tt.register=function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");_t[e]=t},Tt.warning=ut,Tt.messages=Ct,Tt.validators=_t;var Ft={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:cn="'${name}' is not a valid ${type}",method:cn,array:cn,object:cn,number:cn,date:cn,boolean:cn,integer:cn,float:cn,regexp:cn,email:cn,url:cn,hex:cn},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},jt=Tt;function Ut(e,t,n,r){var i=(0,je.Z)((0,je.Z)({},n),{},{name:t,enum:(n.enum||[]).join(", ")}),o=function(e,t){return function(){return n=e,r=(0,je.Z)((0,je.Z)({},i),t),n.replace(/\$\{\w+\}/g,(function(e){return e=e.slice(2,-1),r[e]}));var n,r}};return function e(t,n){var i=1<arguments.length&&void 0!==n?n:{};return Object.keys(t).forEach((function(n){var a=t[n];"string"==typeof a?i[n]=o(a,r):a&&"object"===ke(a)?(i[n]={},e(a,i[n])):i[n]=a})),i}(Dt({},Ft,e))}function Vt(){return qt.apply(this,arguments)}function qt(){return(qt=a(u().mark((function e(t,n,i,o,a){var s,c,l,h;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=(0,je.Z)({},i),s=null,l&&"array"===l.type&&l.defaultField&&(s=l.defaultField,delete l.defaultField),h=new jt((0,De.Z)({},t,[l])),c=Ut(o.validateMessages,t,l,a),h.messages(c),l=[],e.prev=7,e.next=10,Promise.resolve(h.validate((0,De.Z)({},t,n),(0,je.Z)({},o)));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),l=e.t0.errors?e.t0.errors.map((function(e,t){return e=e.message,r.isValidElement(e)?r.cloneElement(e,{key:"error_".concat(t)}):e})):(console.error(e.t0),[c.default()]);case 15:if(!l.length&&s)return e.next=18,Promise.all(n.map((function(e,n){return Vt("".concat(t,".").concat(n),e,s,o,a)})));e.next=20;break;case 18:return h=e.sent,e.abrupt("return",h.reduce((function(e,t){return[].concat(Ve(e),Ve(t))}),[]));case 20:return e.abrupt("return",l);case 21:case"end":return e.stop()}}),e,null,[[7,12]])})))).apply(this,arguments)}function Bt(){return(Bt=a(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,Ve(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zt(){return(zt=a(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.length&&e(r),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ht(e,t,n,r,i,o){return"function"==typeof e?e(t,n,"source"in o?{source:o.source}:{}):r!==i}var Wt=function(){We(t,r.Component);var e=Ke(t);function t(n){var i;return qe(this,t),(i=e.call(this,n)).state={resetCount:0},i.cancelRegisterFunc=null,i.mounted=!1,i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=[],i.cancelRegister=function(){var e=(n=i.props).preserve,t=n.isListField,n=n.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(t,e,kt(n)),i.cancelRegisterFunc=null},i.getNamePath=function(){var e=(t=i.props).name,t=t.fieldContext.prefixName;return void 0!==e?[].concat(Ve(void 0===t?[]:t),Ve(e)):[]},i.getRules=function(){var e=i.props,t=void 0===(t=e.rules)?[]:t,n=e.fieldContext;return t.map((function(e){return"function"==typeof e?e(n):e}))},i.refresh=function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))},i.onStoreChange=function(e,t,n){var r=i.props,o=r.shouldUpdate,a=r.dependencies,s=void 0===a?[]:a,u=r.onReset,c=n.store,l=i.getNamePath(),h=i.getValue(e),f=i.getValue(c),p=t&&At(t,l);switch("valueUpdate"===n.type&&"external"===n.source&&h!==f&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=[]),n.type){case"reset":if(!t||p)return i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=[],u&&u(),void i.refresh();break;case"setField":if(p){var d=n.data;return"touched"in d&&(i.touched=d.touched),"validating"in d&&!("originRCField"in d)&&(i.validatePromise=d.validating?Promise.resolve([]):null),"errors"in d&&(i.errors=d.errors||[]),i.dirty=!0,void i.reRender()}if(o&&!l.length&&Ht(o,e,c,h,f,n))return void i.reRender();break;case"dependenciesUpdate":if(s.map(kt).some((function(e){return At(n.relatedFields,e)})))return void i.reRender();break;default:if(p||(!s.length||l.length||o)&&Ht(o,e,c,h,f,n))return void i.reRender()}!0===o&&i.reRender()},i.validateRules=function(e){var t=i.getNamePath(),n=i.getValue(),r=Promise.resolve().then((function(){if(!i.mounted)return[];var o=void 0!==(s=(l=i.props).validateFirst)&&s,s=l.messageVariables,c=(e||{}).triggerName,l=i.getRules();return c&&(l=l.filter((function(e){return!(e=e.validateTrigger)||tt(e).includes(c)}))),(s=function(e,t,n,r,i,o){var s=e.join("."),c=n.map((function(e){var t=e.validator;return t?(0,je.Z)((0,je.Z)({},e),{},{validator:function(e,n,r){var i=!1;i=(n=t(e,n,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){Qe(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))})))&&"function"==typeof n.then&&"function"==typeof n.catch,Qe(i,"`callback` is deprecated. Please return a promise instead."),i&&n.then((function(){r()})).catch((function(e){r(e||" ")}))}}):e}));return(i=!0===i?new Promise(function(){var e=a(u().mark((function e(n,i){var a,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(a<c.length)return e.next=4,Vt(s,t,c[a],r,o);e.next=11;break;case 4:if((l=e.sent).length)return i(l),e.abrupt("return");e.next=8;break;case 8:a+=1,e.next=1;break;case 11:n([]);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()):(i?function(e){return zt.apply(this,arguments)}:function(e){return Bt.apply(this,arguments)})(c.map((function(e){return Vt(s,t,e,r,o)}))).then((function(e){return e.length?Promise.reject(e):[]}))).catch((function(e){return e})),i}(t,n,l,e,o,s)).catch((function(e){return e})).then((function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];i.validatePromise===r&&(i.validatePromise=null,i.errors=e,i.reRender())})),s}));return i.validatePromise=r,i.dirty=!0,i.errors=[],i.reRender(),r},i.isFieldValidating=function(){return!!i.validatePromise},i.isFieldTouched=function(){return i.touched},i.isFieldDirty=function(){return i.dirty},i.getErrors=function(){return i.errors},i.isListField=function(){return i.props.isListField},i.isList=function(){return i.props.isList},i.isPreserve=function(){return i.props.preserve},i.getMeta=function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,name:i.getNamePath()}},i.getOnlyChild=function(e){if("function"==typeof e){var t=i.getMeta();return(0,je.Z)((0,je.Z)({},i.getOnlyChild(e(i.getControlled(),t,i.props.fieldContext))),{},{isFunction:!0})}return 1===(e=Ze(e)).length&&r.isValidElement(e[0])?{child:e[0],isFunction:!1}:{child:e,isFunction:!1}},i.getValue=function(e){var t=i.props.fieldContext.getFieldsValue,n=i.getNamePath();return Nt(e||t(!0),n)},i.getControlled=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=(c=i.props).trigger,n=c.validateTrigger,r=c.getValueFromEvent,o=c.normalize,a=c.valuePropName,s=c.getValueProps,u=c.fieldContext,c=void 0!==n?n:u.validateTrigger,l=i.getNamePath(),h=(n=u.getInternalHooks,u.getFieldsValue),f=n(Xe).dispatch,p=i.getValue(),d=(s=s||function(e){return(0,De.Z)({},a,e)},e[t]),m=(0,je.Z)((0,je.Z)({},e),s(p));return m[t]=function(){var e;i.touched=!0,i.dirty=!0;for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];e=r?r.apply(void 0,n):function(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&e in t.target?t.target[e]:t}.apply(void 0,[a].concat(n)),o&&(e=o(e,p,h(!0))),f({type:"updateValue",namePath:l,value:e}),d&&d.apply(void 0,n)},tt(c||[]).forEach((function(e){var t=m[e];m[e]=function(){t&&t.apply(void 0,arguments);var n=i.props.rules;n&&n.length&&f({type:"validateField",namePath:l,triggerName:e})}})),m},n.fieldContext&&(0,(0,n.fieldContext.getInternalHooks)(Xe).initEntityValue)(He(i)),i}return ze(t,[{key:"componentDidMount",value:function(){var e=(t=this.props).shouldUpdate,t=t.fieldContext;this.mounted=!0,t&&(t=(0,t.getInternalHooks)(Xe).registerField,this.cancelRegisterFunc=t(this)),!0===e&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e=this.state.resetCount,t=this.props.children,n=this.getOnlyChild(t);t=n.child,t=n.isFunction?t:r.isValidElement(t)?r.cloneElement(t,this.getControlled(t.props)):(Qe(!t,"`children` of Field is not validate ReactElement."),t);return r.createElement(r.Fragment,{key:e},t)}}]),t}();Wt.contextType=et,Wt.defaultProps={trigger:"onChange",valuePropName:"value"};const Gt=function(e){var t=e.name,n=Fe(e,["name"]),i=r.useContext(et);e=void 0!==t?kt(t):void 0,t="keep";return n.isListField||(t="_".concat((e||[]).join("_"))),r.createElement(Wt,g({key:t,name:e},n,{fieldContext:i}))},Kt=function(e){var t=e.name,n=e.initialValue,i=e.children,o=e.rules,a=e.validateTrigger,s=r.useContext(et),u=r.useRef({keys:[],id:0}).current;if("function"!=typeof i)return Qe(!1,"Form.List only accepts function as children."),null;e=kt(s.prefixName)||[];var c=[].concat(Ve(e),Ve(kt(t)));return r.createElement(et.Provider,{value:(0,je.Z)((0,je.Z)({},s),{},{prefixName:c})},r.createElement(Gt,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:o,validateTrigger:a,initialValue:n,isList:!0},(function(e,t){function n(){return a(c||[])||[]}var r=e.value,o=e.onChange,a=s.getFieldValue;e={add:function(e,t){var r=n();0<=t&&t<=r.length?(u.keys=[].concat(Ve(u.keys.slice(0,t)),[u.id],Ve(u.keys.slice(t))),o([].concat(Ve(r.slice(0,t)),[e],Ve(r.slice(t))))):(u.keys=[].concat(Ve(u.keys),[u.id]),o([].concat(Ve(r),[e]))),u.id+=1},remove:function(e){var t=n(),r=new Set(Array.isArray(e)?e:[e]);r.size<=0||(u.keys=u.keys.filter((function(e,t){return!r.has(t)})),o(t.filter((function(e,t){return!r.has(t)}))))},move:function(e,t){var r;e!==t&&(r=n(),e<0||e>=r.length||t<0||t>=r.length||(u.keys=Lt(u.keys,e,t),o(Lt(r,e,t))))}},r=(void 0===r?[]:r)||[];return Array.isArray(r)||(r=[]),i(r.map((function(e,t){var n=u.keys[t];return void 0===n&&(u.keys[t]=u.id,n=u.keys[t],u.id+=1),{name:t,key:n,isListField:!0}})),e,t)})))};var Zt="__@field_split__";function Yt(e){return e.map((function(e){return"".concat(ke(e),":").concat(e)})).join(Zt)}const $t=function(){function e(){qe(this,e),this.kvs=new Map}return ze(e,[{key:"set",value:function(e,t){this.kvs.set(Yt(e),t)}},{key:"get",value:function(e){return this.kvs.get(Yt(e))}},{key:"update",value:function(e,t){(t=t(this.get(e)))?this.set(e,t):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(Yt(e))}},{key:"map",value:function(e){return Ve(this.kvs.entries()).map((function(t){t=(n=Re(t,2))[0];var n=n[1];t=t.split(Zt);return e({key:t.map((function(e){e=(t=Re(e.match(/^([^:]*):(.*)$/),3))[1];var t=t[2];return"number"===e?Number(t):t})),value:n})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key;t=t.value;return e[n.join(".")]=t,null})),e}}]),e}();function Qt(e){var t=this;qe(this,Qt),this.formHooked=!1,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:t.getFieldValue,getFieldsValue:t.getFieldsValue,getFieldError:t.getFieldError,getFieldsError:t.getFieldsError,isFieldsTouched:t.isFieldsTouched,isFieldTouched:t.isFieldTouched,isFieldValidating:t.isFieldValidating,isFieldsValidating:t.isFieldsValidating,resetFields:t.resetFields,setFields:t.setFields,setFieldsValue:t.setFieldsValue,validateFields:t.validateFields,submit:t.submit,getInternalHooks:t.getInternalHooks}},this.getInternalHooks=function(e){return e===Xe?(t.formHooked=!0,{dispatch:t.dispatch,initEntityValue:t.initEntityValue,registerField:t.registerField,useSubscribe:t.useSubscribe,setInitialValues:t.setInitialValues,setCallbacks:t.setCallbacks,setValidateMessages:t.setValidateMessages,getFields:t.getFields,setPreserve:t.setPreserve}):(Qe(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){t.subscribable=e},this.setInitialValues=function(e,n){t.initialValues=e||{},n&&(t.store=Dt({},e,t.store))},this.getInitialValue=function(e){return Nt(t.initialValues,e)},this.setCallbacks=function(e){t.callbacks=e},this.setValidateMessages=function(e){t.validateMessages=e},this.setPreserve=function(e){t.preserve=e},this.timeoutId=null,this.warningUnhooked=function(){},this.getFieldEntities=function(){return 0<arguments.length&&void 0!==arguments[0]&&arguments[0]?t.fieldEntities.filter((function(e){return e.getNamePath().length})):t.fieldEntities},this.getFieldsMap=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=new $t;return t.getFieldEntities(e).forEach((function(e){var t=e.getNamePath();n.set(t,e)})),n},this.getFieldEntitiesForNamePathList=function(e){if(!e)return t.getFieldEntities(!0);var n=t.getFieldsMap(!0);return e.map((function(e){var t=kt(e);return n.get(t)||{INVALIDATE_NAME_PATH:kt(e)}}))},this.getFieldsValue=function(e,n){if(t.warningUnhooked(),!0===e&&!n)return t.store;var r=t.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return r.forEach((function(t){var r,o="INVALIDATE_NAME_PATH"in t?t.INVALIDATE_NAME_PATH:t.getNamePath();!e&&null!==(r=t.isListField)&&void 0!==r&&r.call(t)||(n?(t="getMeta"in t?t.getMeta():null,n(t)&&i.push(o)):i.push(o))})),Pt(t.store,i.map(kt))},this.getFieldValue=function(e){return t.warningUnhooked(),e=kt(e),Nt(t.store,e)},this.getFieldsError=function(e){return t.warningUnhooked(),t.getFieldEntitiesForNamePathList(e).map((function(t,n){return!t||"INVALIDATE_NAME_PATH"in t?{name:kt(e[n]),errors:[]}:{name:t.getNamePath(),errors:t.getErrors()}}))},this.getFieldError=function(e){return t.warningUnhooked(),e=kt(e),t.getFieldsError([e])[0].errors},this.isFieldsTouched=function(){t.warningUnhooked();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i,o=n[0],a=n[1],s=!1;function u(e){return e.isFieldTouched()}if(0===n.length?i=null:s=1===n.length?Array.isArray(o)?(i=o.map(kt),!1):(i=null,o):(i=o.map(kt),a),o=t.getFieldEntities(!0),!i)return s?o.every(u):o.some(u);var c=new $t;return i.forEach((function(e){c.set(e,[])})),o.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&c.update(n,(function(t){return[].concat(Ve(t),[e])}))}))})),a=function(e){return e.some(u)},o=c.map((function(e){return e.value})),s?o.every(a):o.some(a)},this.isFieldTouched=function(e){return t.warningUnhooked(),t.isFieldsTouched([e])},this.isFieldsValidating=function(e){t.warningUnhooked();var n=t.getFieldEntities();if(!e)return n.some((function(e){return e.isFieldValidating()}));var r=e.map(kt);return n.some((function(e){var t=e.getNamePath();return At(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return t.warningUnhooked(),t.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=new $t,i=t.getFieldEntities(!0);i.forEach((function(e){var t,n=e.props.initialValue,i=e.getNamePath();void 0!==n&&((t=r.get(i)||new Set).add({entity:e,value:n}),r.set(i,t))})),n.entities?e=n.entities:n.namePathList?(e=[],n.namePathList.forEach((function(t){(t=r.get(t))&&e.push.apply(e,Ve(Ve(t).map((function(e){return e.entity}))))}))):e=i,e.forEach((function(e){var i,o;void 0!==e.props.initialValue&&(i=e.getNamePath(),void 0!==t.getInitialValue(i)?Qe(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it.")):(o=r.get(i))&&1<o.size?Qe(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick.")):o&&(e=t.getFieldValue(i),n.skipExist&&void 0!==e||(t.store=Ot(t.store,i,Ve(o)[0].value))))}))},this.resetFields=function(e){t.warningUnhooked();var n=t.store;if(!e)return t.store=Dt({},t.initialValues),t.resetWithFieldInitialValue(),void t.notifyObservers(n,null,{type:"reset"});(e=e.map(kt)).forEach((function(e){var n=t.getInitialValue(e);t.store=Ot(t.store,e,n)})),t.resetWithFieldInitialValue({namePathList:e}),t.notifyObservers(n,e,{type:"reset"})},this.setFields=function(e){t.warningUnhooked();var n=t.store;e.forEach((function(e){var r=e.name,i=(e.errors,Fe(e,["name","errors"]));r=kt(r);"value"in i&&(t.store=Ot(t.store,r,i.value)),t.notifyObservers(n,[r],{type:"setField",data:e})}))},this.getFields=function(){return t.getFieldEntities(!0).map((function(e){var n=e.getNamePath();e=e.getMeta(),n=(0,je.Z)((0,je.Z)({},e),{},{name:n,value:t.getFieldValue(n)});return Object.defineProperty(n,"originRCField",{value:!0}),n}))},this.initEntityValue=function(e){var n=e.props.initialValue;void 0!==n&&(e=e.getNamePath(),void 0===Nt(t.store,e)&&(t.store=Ot(t.store,e,n)))},this.registerField=function(e){var n;return t.fieldEntities.push(e),void 0!==e.props.initialValue&&(n=t.store,t.resetWithFieldInitialValue({entities:[e],skipExist:!0}),t.notifyObservers(n,[e.getNamePath()],{type:"valueUpdate",source:"internal"})),function(n,r){var i,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];t.fieldEntities=t.fieldEntities.filter((function(t){return t!==e})),!1===(void 0!==r?r:t.preserve)&&(!n||1<o.length)&&(i=e.getNamePath(),n=n?void 0:Nt(t.initialValues,i),i.length&&t.getFieldValue(i)!==n&&t.fieldEntities.every((function(e){return!Mt(e.getNamePath(),i)}))&&(t.store=Ot(t.store,i,n,!0)))}},this.dispatch=function(e){switch(e.type){case"updateValue":var n=e.namePath,r=e.value;t.updateValue(n,r);break;case"validateField":n=e.namePath,r=e.triggerName,t.validateFields([n],{triggerName:r})}},this.notifyObservers=function(e,n,r){var i;t.subscribable?(i=(0,je.Z)((0,je.Z)({},r),{},{store:t.getFieldsValue(!0)}),t.getFieldEntities().forEach((function(t){(0,t.onStoreChange)(e,n,i)}))):t.forceRootUpdate()},this.updateValue=function(e,n){var r=kt(e);e=t.store;t.store=Ot(t.store,r,n),t.notifyObservers(e,[r],{type:"valueUpdate",source:"internal"}),(n=t.getDependencyChildrenFields(r)).length&&t.validateFields(n),t.notifyObservers(e,n,{type:"dependenciesUpdate",relatedFields:[r].concat(Ve(n))}),(e=t.callbacks.onValuesChange)&&e(Pt(t.store,[r]),t.getFieldsValue()),t.triggerOnFieldsChange([r].concat(Ve(n)))},this.setFieldsValue=function(e){t.warningUnhooked();var n=t.store;e&&(t.store=Dt(t.store,e)),t.notifyObservers(n,null,{type:"valueUpdate",source:"external"})},this.getDependencyChildrenFields=function(e){var n=new Set,r=[],i=new $t;return t.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){t=kt(t),i.update(t,(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))})),function e(t){(i.get(t)||new Set).forEach((function(t){var i;n.has(t)||(n.add(t),i=t.getNamePath(),t.isFieldDirty()&&i.length&&(r.push(i),e(i)))}))}(e),r},this.triggerOnFieldsChange=function(e,n){var r,i,o=t.callbacks.onFieldsChange;o&&(r=t.getFields(),n&&(i=new $t,n.forEach((function(e){var t=e.name;e=e.errors;i.set(t,e)})),r.forEach((function(e){e.errors=i.get(e.name)||e.errors}))),o(r.filter((function(t){return t=t.name,At(e,t)})),r))},this.validateFields=function(e,n){t.warningUnhooked();var r=!!e,i=r?e.map(kt):[],o=[];t.getFieldEntities(!0).forEach((function(a){var s,u;r||i.push(a.getNamePath()),null!=n&&n.recursive&&r&&(s=a.getNamePath()).every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(s),a.props.rules&&a.props.rules.length&&(u=a.getNamePath(),r&&!At(i,u)||(a=a.validateRules((0,je.Z)({validateMessages:(0,je.Z)((0,je.Z)({},Ft),t.validateMessages)},n)),o.push(a.then((function(){return{name:u,errors:[]}})).catch((function(e){return Promise.reject({name:u,errors:e})})))))}));var a,s,u,c,l=(s=!1,u=(a=o).length,c=[],a.length?new Promise((function(e,t){a.forEach((function(n,r){n.catch((function(e){return s=!0,e})).then((function(n){--u,c[r]=n,0<u||(s&&t(c),e(c))}))}))})):Promise.resolve([]));(t.lastValidatePromise=l).catch((function(e){return e})).then((function(e){var n=e.map((function(e){return e.name}));t.notifyObservers(t.store,n,{type:"validateFinish"}),t.triggerOnFieldsChange(n,e)}));var h=l.then((function(){return t.lastValidatePromise===l?Promise.resolve(t.getFieldsValue(i)):Promise.reject([])})).catch((function(e){return e=e.filter((function(e){return e&&e.errors.length})),Promise.reject({values:t.getFieldsValue(i),errorFields:e,outOfDate:t.lastValidatePromise!==l})}));return h.catch((function(e){return e})),h},this.submit=function(){t.warningUnhooked(),t.validateFields().then((function(e){var n=t.callbacks.onFinish;if(n)try{n(e)}catch(e){console.error(e)}})).catch((function(e){var n=t.callbacks.onFinishFailed;n&&n(e)}))},this.forceRootUpdate=e}const Jt=function(e){var t=r.useRef(),n=Re(r.useState({}),2)[1];return t.current||(e?t.current=e:(e=new Qt((function(){n({})})),t.current=e.getForm())),[t.current]};function Xt(e){var t=e.validateMessages,n=e.onFormChange,i=e.onFormFinish,o=(e=e.children,r.useContext(en)),a=r.useRef({});return r.createElement(en.Provider,{value:(0,je.Z)((0,je.Z)({},o),{},{validateMessages:(0,je.Z)((0,je.Z)({},o.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:a.current}),o.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:a.current}),o.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(a.current=(0,je.Z)((0,je.Z)({},a.current),{},(0,De.Z)({},e,t))),o.registerForm(e,t)},unregisterForm:function(e){var t=(0,je.Z)({},a.current);delete t[e],a.current=t,o.unregisterForm(e)}})},e)}var en=r.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}});const tn=en;var nn=function(e,t){var n=e.name,i=e.initialValues,o=e.fields,a=e.form,s=e.preserve,u=e.children,c=void 0===(w=e.component)?"form":w,l=e.validateMessages,h=void 0===(_=e.validateTrigger)?"onChange":_,f=e.onValuesChange,p=e.onFieldsChange,d=e.onFinish,m=e.onFinishFailed,v=Fe(e,["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"]),y=r.useContext(tn),b=Re(Jt(a),1)[0],w=(E=b.getInternalHooks(Xe)).useSubscribe,_=E.setInitialValues,E=(e=E.setCallbacks,a=E.setValidateMessages,E.setPreserve);r.useImperativeHandle(t,(function(){return b})),r.useEffect((function(){return y.registerForm(n,b),function(){y.unregisterForm(n)}}),[y,b,n]),a((0,je.Z)((0,je.Z)({},y.validateMessages),l)),e({onValuesChange:f,onFieldsChange:function(e){if(y.triggerFormChange(n,e),p){for(var t=arguments.length,r=new Array(1<t?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];p.apply(void 0,[e].concat(r))}},onFinish:function(e){y.triggerFormFinish(n,e),d&&d(e)},onFinishFailed:m}),E(s),_(i,!(s=r.useRef(null)).current),s.current||(s.current=!0),i=u,(s="function"==typeof u)&&(i=u(b.getFieldsValue(!0),b)),w(!s);var C=r.useRef();return r.useEffect((function(){!function(e,t){if(e===t)return 1;if(!(!e&&t||e&&!t)&&e&&t&&"object"===ke(e)&&"object"===ke(t)){var n=Object.keys(e),r=Object.keys(t);r=new Set([].concat(Ve(n),Ve(r)));return Ve(r).every((function(n){var r=e[n];n=t[n];return"function"==typeof r&&"function"==typeof n||r===n}))}}(C.current||[],o||[])&&b.setFields(o||[]),C.current=o}),[o,b]),s=r.useMemo((function(){return(0,je.Z)((0,je.Z)({},b),{},{validateTrigger:h})}),[b,h]),i=r.createElement(et.Provider,{value:s},i),!1===c?i:r.createElement(c,g({},v,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),b.submit()},onReset:function(e){var t;e.preventDefault(),b.resetFields(),null!==(t=v.onReset)&&void 0!==t&&t.call(v,e)}}),i)};(s=r.forwardRef(nn)).FormProvider=Xt,s.Field=Gt,s.List=Kt,s.useForm=Jt;const rn=s;c={placeholder:"Select time",rangePlaceholder:["Start time","End time"]};const on={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"},DatePicker:X={lang:g({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),timePickerLocale:g({},c)},TimePicker:c,Calendar:X,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Me="${label} is not a valid ${type}",method:Me,array:Me,object:Me,number:Me,date:Me,boolean:Me,integer:Me,float:Me,regexp:Me,email:Me,url:Me,hex:Me},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},an=on,sn=(0,r.createContext)(void 0);var un=function(){We(t,r.Component);var e=Ke(t);function t(){return qe(this,t),e.apply(this,arguments)}return ze(t,[{key:"getLocale",value:function(){var e=(n=this.props).componentName,t=n.defaultLocale||an[e||"global"],n=this.context;e=e&&n?n[e]:{};return g(g({},"function"==typeof t?t():t),e||{})}},{key:"getLocaleCode",value:function(){var e=this.context,t=e&&e.locale;return e&&e.exist&&!t?an.locale:t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),t}();un.defaultProps={componentName:"global"},un.contextType=sn;ut=function(){var e=(0,r.useContext(pn).getPrefixCls)("empty-img-default");return r.createElement("svg",{className:e,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",{transform:"translate(24 31.67)"},r.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),r.createElement("path",{className:"".concat(e,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),r.createElement("path",{className:"".concat(e,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),r.createElement("path",{className:"".concat(e,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),r.createElement("path",{className:"".concat(e,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),r.createElement("path",{className:"".concat(e,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),r.createElement("g",{className:"".concat(e,"-g"),transform:"translate(149.65 15.383)"},r.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),r.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))};var cn=function(){var e=(0,r.useContext(pn).getPrefixCls)("empty-img-simple");return r.createElement("svg",{className:e,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},r.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),r.createElement("g",{className:"".concat(e,"-g"),fillRule:"nonzero"},r.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),r.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(e,"-path")}))))},ln=r.createElement(ut,null),hn=r.createElement(cn,null);(nn=function(e){var t=e.className,n=e.prefixCls,i=e.image,o=void 0===i?ln:i,a=e.description,s=e.children,u=e.imageStyle,c=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}(e,["className","prefixCls","image","description","children","imageStyle"]),l=(e=r.useContext(pn)).getPrefixCls,h=e.direction;return r.createElement(un,{componentName:"Empty"},(function(e){var i=l("empty",n),f=void 0!==a?a:e.description,p="string"==typeof o?r.createElement("img",{alt:"string"==typeof f?f:"empty",src:o}):o;return r.createElement("div",g({className:Le()(i,((0,De.Z)(e={},"".concat(i,"-normal"),o===hn),(0,De.Z)(e,"".concat(i,"-rtl"),"rtl"===h),e),t)},c),r.createElement("div",{className:"".concat(i,"-image"),style:u},p),f&&r.createElement("div",{className:"".concat(i,"-description")},f),s&&r.createElement("div",{className:"".concat(i,"-footer")},s))}))}).PRESENTED_IMAGE_DEFAULT=ln,nn.PRESENTED_IMAGE_SIMPLE=hn;const fn=nn;var pn=r.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")},renderEmpty:function(e){return r.createElement(dn,null,(function(t){var n=(0,t.getPrefixCls)("empty");switch(e){case"Table":case"List":return r.createElement(fn,{image:fn.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return r.createElement(fn,{image:fn.PRESENTED_IMAGE_SIMPLE,className:"".concat(n,"-small")});default:return r.createElement(fn,null)}}))}}),dn=pn.Consumer;function mn(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function vn(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach((function(t){(0,De.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var gn=r.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}}),yn=r.createContext({updateItemErrors:function(){}}),bn=r.createContext({prefixCls:""});function wn(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function _n(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function En(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return _n(n.overflowY,t)||_n(n.overflowX,t)||(e=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(t=e))&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)}}function Cn(e,t,n,r,i,o,a,s){return o<e&&t<a||e<o&&a<t?0:o<=e&&s<=n||t<=a&&n<=s?o-e-r:t<a&&s<n||o<e&&n<s?a-t+i:0}function Tn(e,t){var n=window,r=t.scrollMode,i=t.block,o=t.inline,a=t.boundary,s=t.skipOverflowHiddenElements,u="function"==typeof a?a:function(e){return e!==a};if(!wn(e))throw new TypeError("Invalid target");for(var c=document.scrollingElement||document.documentElement,l=[],h=e;wn(h)&&u(h);){if((h=h.parentElement)===c){l.push(h);break}null!=h&&h===document.body&&En(h)&&!En(document.documentElement)||null!=h&&En(h,s)&&l.push(h)}for(var f=n.visualViewport?n.visualViewport.width:innerWidth,p=n.visualViewport?n.visualViewport.height:innerHeight,d=window.scrollX||pageXOffset,m=window.scrollY||pageYOffset,v=(e=e.getBoundingClientRect()).height,g=e.width,y=e.top,b=e.right,w=e.bottom,_=e.left,E="start"===i||"nearest"===i?y:"end"===i?w:y+v/2,C="center"===o?_+g/2:"end"===o?b:_,T=[],I=0;I<l.length;I++){var S=l[I],x=(V=S.getBoundingClientRect()).height,k=V.width,N=V.top,O=V.right,P=V.bottom,A=V.left;if("if-needed"===r&&0<=y&&0<=_&&w<=p&&b<=f&&N<=y&&w<=P&&A<=_&&b<=O)return T;var R=getComputedStyle(S),D=parseInt(R.borderLeftWidth,10),M=parseInt(R.borderTopWidth,10),L=parseInt(R.borderRightWidth,10),F=parseInt(R.borderBottomWidth,10),j=0,U=0,V="offsetWidth"in S?S.offsetWidth-S.clientWidth-D-L:0;R="offsetHeight"in S?S.offsetHeight-S.clientHeight-M-F:0;c===S?(j="start"===i?E:"end"===i?E-p:"nearest"===i?Cn(m,m+p,p,M,F,m+E,m+E+v,v):E-p/2,U="start"===o?C:"center"===o?C-f/2:"end"===o?C-f:Cn(d,d+f,f,D,L,d+C,d+C+g,g),j=Math.max(0,j+m),U=Math.max(0,U+d)):(j="start"===i?E-N-M:"end"===i?E-P+F+R:"nearest"===i?Cn(N,P,x,M,F+R,E,E+v,v):E-(N+x/2)+R/2,U="start"===o?C-A-D:"center"===o?C-(A+k/2)+V/2:"end"===o?C-O+L+V:Cn(A,O,k,D,L+V,C,C+g,g),D=S.scrollLeft,E+=(L=S.scrollTop)-(j=Math.max(0,Math.min(L+j,S.scrollHeight-x+R))),C+=D-(U=Math.max(0,Math.min(D+U,S.scrollWidth-k+V)))),T.push({el:S,top:j,left:U})}return T}function In(e){return e===Object(e)&&0!==Object.keys(e).length}const Sn=function(e,t){var n=!e.ownerDocument.documentElement.contains(e);return In(t)&&"function"==typeof t.behavior?t.behavior(n?[]:Tn(e,t)):n?void 0:function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,i=e.top;e=e.left;r.scroll&&n?r.scroll({top:i,left:e,behavior:t}):(r.scrollTop=i,r.scrollLeft=e)}))}(Tn(e,t=!1===(t=t)?{block:"end",inline:"nearest"}:In(t)?t:{block:"start",inline:"nearest"}),t.behavior)};function xn(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function kn(e,t){if(e.length)return e=e.join("_"),t?"".concat(t,"_").concat(e):e}function Nn(e){return xn(e).join("_")}function On(e){var t=Re(Jt(),1)[0],n=r.useRef({}),i=r.useMemo((function(){return e||g(g({},t),{__INTERNAL__:{itemRef:function(e){return function(t){var r=Nn(e);t?n.current[r]=t:delete n.current[r]}}},scrollToField:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(e=(e=kn(xn(e),i.__INTERNAL__.name))?document.getElementById(e):null)&&Sn(e,g({scrollMode:"if-needed",block:"nearest"},t))},getFieldInstance:function(e){return e=Nn(e),n.current[e]}})}),[e,t]);return[i]}function Pn(e){var t=e.children,n=e.size;return r.createElement(An.Consumer,null,(function(e){return r.createElement(An.Provider,{value:n||e},t)}))}var An=r.createContext(void 0);const Rn=An;s=function(e,t){var n,i=r.useContext(Rn),o=(n=r.useContext(pn)).getPrefixCls,a=n.direction,s=n.form,u=e.prefixCls,c=void 0===(l=e.className)?"":l,l=void 0===(n=e.size)?i:n,h=(i=e.form,e.colon),f=e.labelAlign,p=e.labelCol,d=e.wrapperCol,m=e.hideRequiredMark,v=void 0===(n=e.layout)?"horizontal":n,y=e.scrollToFirstError,b=e.requiredMark,w=e.onFinishFailed,_=e.name,E=(e=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}(e,["prefixCls","className","size","form","colon","labelAlign","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),(0,r.useMemo)((function(){return void 0!==b?b:s&&void 0!==s.requiredMark?s.requiredMark:!m}),[m,b,s])),C=(o=o("form",u),c=Le()(o,((0,De.Z)(u={},"".concat(o,"-").concat(v),!0),(0,De.Z)(u,"".concat(o,"-hide-required-mark"),!1===E),(0,De.Z)(u,"".concat(o,"-rtl"),"rtl"===a),(0,De.Z)(u,"".concat(o,"-").concat(l),l),u),c),Re(On(i),1)[0]),T=C.__INTERNAL__;return T.name=_,i=(0,r.useMemo)((function(){return{name:_,labelAlign:f,labelCol:p,wrapperCol:d,vertical:"vertical"===v,colon:h,requiredMark:E,itemRef:T.itemRef}}),[_,f,p,d,v,h,E]),r.useImperativeHandle(t,(function(){return C})),r.createElement(Pn,{size:l},r.createElement(gn.Provider,{value:i},r.createElement(rn,g({id:_},e,{name:_,onFinishFailed:function(e){null!=w&&w(e);var t={block:"nearest"};y&&e.errorFields.length&&("object"===ke(y)&&(t=y),C.scrollToField(e.errorFields[0].name,t))},form:C,className:c}))))},c=r.forwardRef(s),X=n(8446);var Dn=n.n(X);function Mn(e,t){"function"==typeof e?e(t):"object"===ke(e)&&e&&"current"in e&&(e.current=t)}function Ln(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){Mn(t,e)}))}}function Fn(e){var t=((0,v.isMemo)(e)?e.type:e).type;return("function"!=typeof t||null!==(t=t.prototype)&&void 0!==t&&t.render)&&!!("function"!=typeof e||null!==(e=e.prototype)&&void 0!==e&&e.render)}const jn=(0,r.createContext)({});Me=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t};var Un=["xxl","xl","lg","md","sm","xs"],Vn={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},qn=new Map,Bn=-1,zn={};const Hn={matchHandlers:{},dispatch:function(e){return zn=e,qn.forEach((function(e){return e(zn)})),1<=qn.size},subscribe:function(e){return qn.size||this.register(),Bn+=1,qn.set(Bn,e),e(zn),Bn},unsubscribe:function(e){qn.delete(e),qn.size||this.unregister()},unregister:function(){var e=this;Object.keys(Vn).forEach((function(t){null!=(t=e.matchHandlers[Vn[t]])&&t.mql.removeListener(null==t?void 0:t.listener)})),qn.clear()},register:function(){var e=this;Object.keys(Vn).forEach((function(t){function n(n){n=n.matches,e.dispatch(g(g({},zn),(0,De.Z)({},t,n)))}var r=Vn[t],i=window.matchMedia(r);i.addListener(n),e.matchHandlers[r]={mql:i,listener:n},n(i)}))}};function Wn(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}function Gn(){return Wn()&&window.document.documentElement}var Kn;ut=function(e){if(Gn()){e=Array.isArray(e)?e:[e];var t=window.document.documentElement;return e.some((function(e){return e in t.style}))}return!1};const Zn=function(){var e=Re(r.useState(!1),2),t=e[0],n=e[1];return r.useEffect((function(){n(function(){if(!Gn())return!1;if(void 0!==Kn)return Kn;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),Kn=1===e.scrollHeight,document.body.removeChild(e),Kn}())}),[]),t};(cn=(Me("top","middle","bottom","stretch"),Me("start","end","center","space-around","space-between"),r.forwardRef((function(e,t){var n,i=e.prefixCls,o=e.justify,a=e.align,s=e.className,u=e.style,c=e.children,l=void 0===(p=e.gutter)?0:p,h=e.wrap,f=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),p=(n=r.useContext(pn)).getPrefixCls,d=(e=n.direction,(n=Re(r.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),2))[0]),m=n[1],v=Zn(),y=r.useRef(l);r.useEffect((function(){var e=Hn.subscribe((function(e){var t=y.current||0;(!Array.isArray(t)&&"object"===ke(t)||Array.isArray(t)&&("object"===ke(t[0])||"object"===ke(t[1])))&&m(e)}));return function(){return Hn.unsubscribe(e)}}),[]);p=p("row",i);var b,w=(b=[0,0],(Array.isArray(l)?l:[l,0]).forEach((function(e,t){if("object"===ke(e))for(var n=0;n<Un.length;n++){var r=Un[n];if(d[r]&&void 0!==e[r]){b[t]=e[r];break}}else b[t]=e||0})),b);p=Le()(p,((0,De.Z)(i={},"".concat(p,"-no-wrap"),!1===h),(0,De.Z)(i,"".concat(p,"-").concat(o),o),(0,De.Z)(i,"".concat(p,"-").concat(a),a),(0,De.Z)(i,"".concat(p,"-rtl"),"rtl"===e),i),s),e={},i=0<w[0]?w[0]/-2:void 0,s=0<w[1]?w[1]/-2:void 0;return i&&(e.marginLeft=i,e.marginRight=i),v?(i=Re(w,2),e.rowGap=i[1]):s&&(e.marginTop=s,e.marginBottom=s),s=r.useMemo((function(){return{gutter:w,wrap:h,supportFlexGap:v}}),[w,h,v]),r.createElement(jn.Provider,{value:s},r.createElement("div",g({},f,{className:p,style:g(g({},e),u),ref:t}),c))})))).displayName="Row";const Yn=cn,$n=function(e,t,n){Qe(e,"[antd: ".concat(t,"] ").concat(n))},Qn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},Jn=(0,r.createContext)({});function Xn(e,t){"string"==typeof(n=e)&&-1!==n.indexOf(".")&&1===parseFloat(n)&&(e="100%");var n="string"==typeof(n=e)&&-1!==n.indexOf("%");return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function er(e){return e<=1?100*Number(e)+"%":e}function tr(e){return 1===e.length?"0"+e:String(e)}function nr(e,t,n){return n<0&&(n+=1),1<n&&--n,n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function rr(e){return ir(e)/255}function ir(e){return parseInt(e,16)}var or={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function ar(e){var t,n,r,i,o,a,s={r:0,g:0,b:0},u=1,c=null,l=null,h=null,f=!1,p=!1;return"object"==typeof(e="string"==typeof e?function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(or[e])e=or[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=sr.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=sr.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=sr.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=sr.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=sr.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=sr.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=sr.hex8.exec(e))?{r:ir(n[1]),g:ir(n[2]),b:ir(n[3]),a:rr(n[4]),format:t?"name":"hex8"}:(n=sr.hex6.exec(e))?{r:ir(n[1]),g:ir(n[2]),b:ir(n[3]),format:t?"name":"hex"}:(n=sr.hex4.exec(e))?{r:ir(n[1]+n[1]),g:ir(n[2]+n[2]),b:ir(n[3]+n[3]),a:rr(n[4]+n[4]),format:t?"name":"hex8"}:!!(n=sr.hex3.exec(e))&&{r:ir(n[1]+n[1]),g:ir(n[2]+n[2]),b:ir(n[3]+n[3]),format:t?"name":"hex"}}(e):e)&&(ur(e.r)&&ur(e.g)&&ur(e.b)?(r=e.r,i=e.g,o=e.b,s={r:255*Xn(r,255),g:255*Xn(i,255),b:255*Xn(o,255)},f=!0,p="%"===String(e.r).substr(-1)?"prgb":"rgb"):ur(e.h)&&ur(e.s)&&ur(e.v)?(c=er(e.s),l=er(e.v),s=function(e,t,n){e=6*Xn(e,360),t=Xn(t,100),n=Xn(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t);return{r:255*[n,e=n*(1-i*t),o,o,t=n*(1-(1-i)*t),n][r%=6],g:255*[t,n,n,e,o,o][r],b:255*[o,o,t,n,n,e][r]}}(e.h,c,l),f=!0,p="hsv"):ur(e.h)&&ur(e.s)&&ur(e.l)&&(c=c=er(e.s),h=h=er(e.l),l=Xn(l=e.h,360),c=Xn(c,100),h=Xn(h,100),0===c?t=a=n=h:(t=nr(c=2*h-(h=h<.5?h*(1+c):h+c-h*c),h,l+1/3),n=nr(c,h,l),a=nr(c,h,l-1/3)),s={r:255*t,g:255*n,b:255*a},f=!0,p="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(u=e.a)),a=u,a=parseFloat(a),u=a=isNaN(a)||a<0||1<a?1:a,{ok:f,format:e.format||p,r:Math.min(255,Math.max(s.r,0)),g:Math.min(255,Math.max(s.g,0)),b:Math.min(255,Math.max(s.b,0)),a:u}}s="[\\s|\\(]+("+(nn="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+nn+")[,|\\s]+("+nn+")\\s*\\)?",X="[\\s|\\(]+("+nn+")[,|\\s]+("+nn+")[,|\\s]+("+nn+")[,|\\s]+("+nn+")\\s*\\)?";var sr={CSS_UNIT:new RegExp(nn),rgb:new RegExp("rgb"+s),rgba:new RegExp("rgba"+X),hsl:new RegExp("hsl"+s),hsla:new RegExp("hsla"+X),hsv:new RegExp("hsv"+s),hsva:new RegExp("hsva"+X),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function ur(e){return Boolean(sr.CSS_UNIT.exec(String(e)))}var cr=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function lr(e){return{h:360*(e=function(e,t,n){e=Xn(e,255),t=Xn(t,255),n=Xn(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,a=r,s=r-i,u=0===r?0:s/r;if(r===i)o=0;else{switch(r){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4}o/=6}return{h:o,s:u,v:a}}(e.r,e.g,e.b)).h,s:e.s,v:e.v}}function hr(e){var t=e.r,n=e.g,r=e.b;return"#".concat((e=n,n=r,r=!1,n=[tr(Math.round(t).toString(16)),tr(Math.round(e).toString(16)),tr(Math.round(n).toString(16))],r&&n[0].startsWith(n[0].charAt(1))&&n[1].startsWith(n[1].charAt(1))&&n[2].startsWith(n[2].charAt(1))?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")))}function fr(e,t,n){return(t=60<=Math.round(e.h)&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?t+=360:360<=t&&(t-=360),t}function pr(e,t,n){return 0===e.h&&0===e.s?e.s:(1<(e=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)&&(e=1),(e=n&&5===t&&.1<e?.1:e)<.06&&(e=.06),Number(e.toFixed(2)))}function dr(e,t,n){return 1<(t=n?e.v+.05*t:e.v-.15*t)&&(t=1),Number(t.toFixed(2))}function mr(e,t){for(var n=1<arguments.length&&void 0!==t?t:{},r=[],i=ar(e),o=5;0<o;--o){var a=hr(ar({h:fr(a=lr(i),o,!0),s:pr(a,o,!0),v:dr(a,o,!0)}));r.push(a)}r.push(hr(i));for(var s=1;s<=4;s+=1){var u=hr(ar({h:fr(u=lr(i),s),s:pr(u,s),v:dr(u,s)}));r.push(u)}return"dark"===n.theme?cr.map((function(e){var t=e.index,i=e.opacity;return hr((e=ar(n.backgroundColor||"#141414"),i*=100,i/=100,{r:((t=ar(r[t])).r-e.r)*i+e.r,g:(t.g-e.g)*i+e.g,b:(t.b-e.b)*i+e.b}))})):r}var vr={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},gr={},yr={};Object.keys(vr).forEach((function(e){gr[e]=mr(vr[e]),gr[e].primary=gr[e][5],yr[e]=mr(vr[e],{theme:"dark",backgroundColor:"#141414"}),yr[e].primary=yr[e][5]})),gr.red,gr.volcano,gr.gold,gr.orange,gr.yellow,gr.lime,gr.green,gr.cyan,gr.blue,gr.geekblue,gr.purple,gr.magenta,gr.grey;var br="rc-util-key";function wr(e){return e.attachTo||document.querySelector("head")||document.body}function _r(e,t){var n=1<arguments.length&&void 0!==t?t:{};if(!Wn())return null;var r=document.createElement("style");null!==(t=n.csp)&&void 0!==t&&t.nonce&&(r.nonce=null===(i=n.csp)||void 0===i?void 0:i.nonce),r.innerHTML=e;var i=wr(n);e=i.firstChild;return n.prepend&&i.prepend?i.prepend(r):n.prepend&&e?i.insertBefore(r,e):i.appendChild(r),r}var Er=new Map;function Cr(e,t,n){var r=2<arguments.length&&void 0!==n?n:{},i=wr(r);Er.has(i)||(n=(a=_r("",r)).parentNode,Er.set(i,n),n.removeChild(a));var o,a=Array.from(Er.get(i).children).find((function(e){return"STYLE"===e.tagName&&e[br]===t}));return a?(null!==(i=r.csp)&&void 0!==i&&i.nonce&&a.nonce!==(null===(o=r.csp)||void 0===o?void 0:o.nonce)&&(a.nonce=null===(o=r.csp)||void 0===o?void 0:o.nonce),a.innerHTML!==e&&(a.innerHTML=e),a):((r=_r(e,r))[br]=t,r)}function Tr(e){return"object"===ke(e)&&"string"==typeof e.name&&"string"==typeof e.theme&&("object"===ke(e.icon)||"function"==typeof e.icon)}function Ir(e){var t=0<arguments.length&&void 0!==e?e:{};return Object.keys(t).reduce((function(e,n){var r=t[n];return"class"===n?(e.className=r,delete e.class):e[n]=r,e}),{})}function Sr(e){return mr(e)[0]}function xr(e){return e?Array.isArray(e)?e:[e]:[]}var kr={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};(cn=function(e){var t=e.icon,n=e.className,i=e.onClick,o=e.style,a=e.primaryColor,s=e.secondaryColor,u=Fe(e,["icon","className","onClick","style","primaryColor","secondaryColor"]);e=kr;return a&&(e={primaryColor:a,secondaryColor:s||Sr(a)}),function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",t=(0,r.useContext)(Jn).csp;(0,r.useEffect)((function(){Cr(e,"@ant-design-icons",{prepend:!0,csp:t})}),[])}(),s=Tr(t),a="icon should be icon definiton, but got ".concat(t),Qe(s,"[@ant-design/icons] ".concat(a)),Tr(t)?function e(t,n,i){return i?r.createElement(t.tag,(0,je.Z)((0,je.Z)({key:n},Ir(t.attrs)),i),(t.children||[]).map((function(r,i){return e(r,"".concat(n,"-").concat(t.tag,"-").concat(i))}))):r.createElement(t.tag,(0,je.Z)({key:n},Ir(t.attrs)),(t.children||[]).map((function(r,i){return e(r,"".concat(n,"-").concat(t.tag,"-").concat(i))})))}((t=t&&"function"==typeof t.icon?(0,je.Z)((0,je.Z)({},t),{},{icon:t.icon(e.primaryColor,e.secondaryColor)}):t).icon,"svg-".concat(t.name),(0,je.Z)({className:n,onClick:i,style:o,"data-icon":t.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u)):null}).displayName="IconReact",cn.getTwoToneColors=function(){return(0,je.Z)({},kr)},cn.setTwoToneColors=function(e){var t=e.primaryColor;e=e.secondaryColor;kr.primaryColor=t,kr.secondaryColor=e||Sr(t),kr.calculated=!!e};const Nr=cn;function Or(e){e=(t=Re(xr(e),2))[0];var t=t[1];return Nr.setTwoToneColors({primaryColor:e,secondaryColor:t})}Or("#1890ff"),(nn=r.forwardRef((function(e,t){var n=e.className,i=e.icon,o=e.spin,a=e.rotate,s=e.tabIndex,u=e.onClick,c=e.twoToneColor,l=Fe(e,["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"]),h=(e=void 0===(h=r.useContext(Jn).prefixCls)?"anticon":h,Le()(e,((0,De.Z)(h={},"".concat(e,"-").concat(i.name),!!i.name),(0,De.Z)(h,"".concat(e,"-spin"),!!o||"loading"===i.name),h),n));n=s;return void 0===s&&u&&(n=-1),s=a?{msTransform:"rotate(".concat(a,"deg)"),transform:"rotate(".concat(a,"deg)")}:void 0,c=(a=Re(xr(c),2))[0],a=a[1],r.createElement("span",Object.assign({role:"img","aria-label":i.name},l,{ref:t,tabIndex:n,onClick:u,className:h}),r.createElement(Nr,{icon:i,primaryColor:c,secondaryColor:a,style:s}))}))).displayName="AntdIcon",nn.getTwoToneColor=function(){var e=Nr.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},nn.setTwoToneColor=Or;const Pr=nn;(s=function(e,t){return r.createElement(Pr,Object.assign({},e,{ref:t,icon:Qn}))}).displayName="QuestionCircleOutlined";const Ar=r.forwardRef(s);var Rr=["xs","sm","md","lg","xl","xxl"];(X=r.forwardRef((function(e,t){var n=(v=r.useContext(pn)).getPrefixCls,i=v.direction,o=(y=r.useContext(jn)).gutter,a=y.wrap,s=y.supportFlexGap,u=e.prefixCls,c=e.span,l=e.order,h=e.offset,f=e.push,p=e.pull,d=e.className,m=e.children,v=e.flex,y=e.style,b=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),w=n("col",u),_={};Rr.forEach((function(t){var n={},r=e[t];"number"==typeof r?n.span=r:"object"===ke(r)&&(n=r||{}),delete b[t],_=g(g({},_),((0,De.Z)(r={},"".concat(w,"-").concat(t,"-").concat(n.span),void 0!==n.span),(0,De.Z)(r,"".concat(w,"-").concat(t,"-order-").concat(n.order),n.order||0===n.order),(0,De.Z)(r,"".concat(w,"-").concat(t,"-offset-").concat(n.offset),n.offset||0===n.offset),(0,De.Z)(r,"".concat(w,"-").concat(t,"-push-").concat(n.push),n.push||0===n.push),(0,De.Z)(r,"".concat(w,"-").concat(t,"-pull-").concat(n.pull),n.pull||0===n.pull),(0,De.Z)(r,"".concat(w,"-rtl"),"rtl"===i),r))}));var E;p=Le()(w,((0,De.Z)(u={},"".concat(w,"-").concat(c),void 0!==c),(0,De.Z)(u,"".concat(w,"-order-").concat(l),l),(0,De.Z)(u,"".concat(w,"-offset-").concat(h),h),(0,De.Z)(u,"".concat(w,"-push-").concat(f),f),(0,De.Z)(u,"".concat(w,"-pull-").concat(p),p),u),d,_),u={};return o&&0<o[0]&&(d=o[0]/2,u.paddingLeft=d,u.paddingRight=d),o&&0<o[1]&&!s&&(E=o[1]/2,u.paddingTop=E,u.paddingBottom=E),v&&(u.flex="number"==typeof(E=v)?"".concat(E," ").concat(E," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(E)?"0 0 ".concat(E):E,"auto"!==v||!1!==a||u.minWidth||(u.minWidth=0)),r.createElement("div",g({},b,{style:g(g({},u),y),className:p,ref:t}),m)}))).displayName="Col";const Dr=X;var Mr=function(e){return+setTimeout(e,16)},Lr=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(Mr=function(e){return window.requestAnimationFrame(e)},Lr=function(e){return window.cancelAnimationFrame(e)});var Fr=0,jr=new Map;function Ur(e){jr.delete(e)}function Vr(e){var t=Fr+=1;return function n(r){var i;0===r?(Ur(t),e()):(i=Mr((function(){n(r-1)})),jr.set(t,i))}(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1),t}function qr(e,t){return e&&e.contains(t)}function Br(e){return e instanceof HTMLElement?e:i.findDOMNode(e)}function zr(e,t,n,r){var o=i.unstable_batchedUpdates?function(e){i.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,o,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,o)}}}function Hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}Vr.cancel=function(e){return Ur(e=jr.get(e)),Lr(e)},cn=(0,r.forwardRef)((function(e,t){var n=e.didUpdate,o=e.getContainer,a=e.children,s=(0,r.useRef)();return(0,r.useImperativeHandle)(t,(function(){return{}})),!(t=(0,r.useRef)(!1)).current&&Wn()&&(s.current=o(),t.current=!0),(0,r.useEffect)((function(){null!=n&&n(e)})),(0,r.useEffect)((function(){return function(){var e;null===(e=s.current)||void 0===e||null!==(e=e.parentNode)&&void 0!==e&&e.removeChild(s.current)}}),[]),s.current?i.createPortal(a,s.current):null}));var Wr,Gr,Kr,Zr=(Wr=Wn(),Gr="undefined"!=typeof window?window:{},Kr={animationend:Hr("Animation","AnimationEnd"),transitionend:Hr("Transition","TransitionEnd")},Wr&&("AnimationEvent"in Gr||delete Kr.animationend.animation,"TransitionEvent"in Gr||delete Kr.transitionend.transition),Kr),Yr={};Wn()&&(Yr=document.createElement("div").style);var $r={};function Qr(e){if($r[e])return $r[e];var t=Zr[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in Yr)return $r[e]=t[o],$r[e]}return""}nn=Qr("animationend"),s=Qr("transitionend");var Jr=!(!nn||!s),Xr=nn||"animationend",ei=s||"transitionend";function ti(e,t){return e?"object"!==ke(e)?"".concat(e,"-").concat(t):e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:null}var ni="none",ri="appear",ii="enter",oi="leave",ai="prepare",si="start",ui="active",ci="end";function li(e){var t=(0,r.useRef)(!1),n=Re((0,r.useState)(e),2),i=(e=n[0],n[1]);return(0,r.useEffect)((function(){return function(){t.current=!0}}),[]),[e,function(e){t.current||i(e)}]}const hi=Wn()?r.useLayoutEffect:r.useEffect;var fi,pi,di=[ai,si,ui,ci];function mi(e){return e===ui||e===ci}const vi=function(e,t){var n,i=(n=Re(r.useState("none"),2))[0],o=n[1],a=(n=Re(function(){var e=r.useRef(null);function t(){Vr.cancel(e.current)}return r.useEffect((function(){return function(){t()}}),[]),[function n(r){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2;t();var o=Vr((function(){i<=1?r({isCanceled:function(){return o!==e.current}}):n(r,i-1)}));e.current=o},t]}(),2))[0],s=n[1];return hi((function(){var e,n,r;"none"!==i&&i!==ci&&(e=di.indexOf(i),n=di[e+1],false===(r=t(i))?o(n):a((function(e){function t(){e.isCanceled()||o(n)}!0===r?t():Promise.resolve(r).then(t)})))}),[e,i]),r.useEffect((function(){return function(){s()}}),[]),[function(){o(ai)},i]},gi=function(){We(t,r.Component);var e=Ke(t);function t(){return qe(this,t),e.apply(this,arguments)}return ze(t,[{key:"render",value:function(){return this.props.children}}]),t}(),yi=("object"===ke(pi=fi=Jr)&&(pi=fi.transitionSupport),(fi=r.forwardRef((function(e,t){var n,i,o,a,s,u,c,l,h,f,p,d,m,v,g,y,b,w,_,E,C,T,I,S,x,k,N,O,P,A,R,D,M,L,F,j,U=void 0===(Y=e.visible)||Y,V=void 0===(j=e.removeOnLeave)||j,q=e.forceRender,B=e.children,z=e.motionName,H=e.leavedClassName,W=e.eventProps,G=bi(e),K=(0,r.useRef)(),Z=(0,r.useRef)(),Y=(n=G,i=U,o=function(){try{return Br(K.current||Z.current)}catch(e){return null}},a=void 0===($=(Q=e).motionEnter)||$,s=void 0===($=Q.motionAppear)||$,u=void 0===($=Q.motionLeave)||$,c=Q.motionDeadline,l=Q.motionLeaveImmediately,h=Q.onAppearPrepare,f=Q.onEnterPrepare,p=Q.onLeavePrepare,d=Q.onAppearStart,m=Q.onEnterStart,v=Q.onLeaveStart,g=Q.onAppearActive,y=Q.onEnterActive,b=Q.onLeaveActive,w=Q.onAppearEnd,_=Q.onEnterEnd,E=Q.onLeaveEnd,C=Q.onVisibleChanged,T=($=Re(li(),2))[0],I=$[1],S=(Q=Re(li(ni),2))[0],x=Q[1],Q=($=Re(li(null),2))[0],k=$[1],N=(0,r.useRef)(!1),O=(0,r.useRef)(null),P=(0,r.useRef)(!1),A=(0,r.useRef)(null),R=(0,r.useRef)(!1),D=Re(function(e){var t=(0,r.useRef)(),n=(0,r.useRef)(e);n.current=e;var i=r.useCallback((function(e){n.current(e)}),[]);function o(e){e&&(e.removeEventListener(ei,i),e.removeEventListener(Xr,i))}return r.useEffect((function(){return function(){o(t.current)}}),[]),[function(e){t.current&&t.current!==e&&o(t.current),e&&e!==t.current&&(e.addEventListener(ei,i),e.addEventListener(Xr,i),t.current=e)},o]}(X),1)[0],M=r.useMemo((function(){var e,t;switch(S){case"appear":return(0,De.Z)(e={},ai,h),(0,De.Z)(e,si,d),(0,De.Z)(e,ui,g),e;case"enter":return(0,De.Z)(t={},ai,f),(0,De.Z)(t,si,m),(0,De.Z)(t,ui,y),t;case"leave":return(0,De.Z)(t={},ai,p),(0,De.Z)(t,si,v),(0,De.Z)(t,ui,b),t;default:return{}}}),[S]),L=($=Re(vi(S,(function(e){if(e!==ai)return F in M&&k((null===(t=M[F])||void 0===t?void 0:t.call(M,J(),null))||null),F===ui&&(D(J()),0<c&&(clearTimeout(O.current),O.current=setTimeout((function(){X({deadline:!0})}),c))),true;var t=M[ai];return!!t&&t(J())})),2))[0],$=mi(F=$[1]),R.current=$,hi((function(){I(i);var e,t=N.current;N.current=!0,n&&(!t&&i&&s&&(e=ri),t&&i&&a&&(e=ii),(e=t&&!i&&u||!t&&l&&!i&&u?oi:e)&&(x(e),L()))}),[i]),(0,r.useEffect)((function(){(S===ri&&!s||S===ii&&!a||S===oi&&!u)&&x(ni)}),[s,a,u]),(0,r.useEffect)((function(){return function(){clearTimeout(O.current),P.current=!0}}),[]),(0,r.useEffect)((function(){void 0!==T&&S===ni&&null!=C&&C(T)}),[T,S]),M[ai]&&F===si&&(Q=(0,je.Z)({transition:"none"},Q)),[S,F,Q,null!=T?T:i]),$=(G=(j=Re(Y,4))[0],j[1]),Q=j[2];Y=j[3];function J(){return o()||A.current}function X(e){var t,n=J();e&&!e.deadline&&e.target!==n||(S===ri&&R.current?t=null==w?void 0:w(n,e):S===ii&&R.current?t=null==_?void 0:_(n,e):S===oi&&R.current&&(t=null==E?void 0:E(n,e)),!1===t||P.current||(x(ni),k(null)))}j=r.useRef(Y),Y&&(j.current=!0);var ee=(0,r.useRef)(t);ee.current=t;var te;t=r.useCallback((function(e){K.current=e,Mn(ee.current,e)}),[]),U=(0,je.Z)((0,je.Z)({},W),{},{visible:U}),t=B?G!==ni&&bi(e)?($===ai?te="prepare":mi($)?te="active":$===si&&(te="start"),B((0,je.Z)((0,je.Z)({},U),{},{className:Le()(ti(z,G),((0,De.Z)($={},ti(z,"".concat(G,"-").concat(te)),te),(0,De.Z)($,z,"string"==typeof z),$)),style:Q}),t)):Y?B((0,je.Z)({},U),t):!V&&j.current?B((0,je.Z)((0,je.Z)({},U),{},{className:H}),t):q?B((0,je.Z)((0,je.Z)({},U),{},{style:{display:"none"}}),t):null:null;return r.createElement(gi,{ref:Z},t)}))).displayName="CSSMotion",fi);function bi(e){return!(!e.motionName||!pi)}var wi="add",_i="keep",Ei="remove";function Ci(e){return e=e&&"object"===ke(e)&&"key"in e?e:{key:e},(0,je.Z)((0,je.Z)({},e),{},{key:String(e.key)})}function Ti(e){return(0<arguments.length&&void 0!==e?e:[]).map(Ci)}var Ii,Si=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];const xi=function(e,t){var n=1<arguments.length&&void 0!==t?t:yi;return(t=function(){We(t,r.Component);var e=Ke(t);function t(){var n;return qe(this,t),(n=e.apply(this,arguments)).state={keyEntities:[]},n.removeKey=function(e){n.setState((function(t){return{keyEntities:t.keyEntities.map((function(t){return t.key!==e?t:(0,je.Z)((0,je.Z)({},t),{},{status:"removed"})}))}}))},n}return ze(t,[{key:"render",value:function(){var e=this,t=this.state.keyEntities,i=this.props,o=i.component,a=i.children,s=i.onVisibleChanged,u=Fe(i,["component","children","onVisibleChanged"]),c=(o=o||r.Fragment,{});return Si.forEach((function(e){c[e]=u[e],delete u[e]})),delete u.keys,r.createElement(o,u,t.map((function(t){var i=t.status,o=Fe(t,["status"]);return r.createElement(n,g({},c,{key:o.key,visible:i===wi||i===_i,eventProps:o,onVisibleChanged:function(t){null!=s&&s(t,{key:o.key}),t||e.removeKey(o.key)}}),a)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){e=e.keys;var n=t.keyEntities;e=Ti(e);return{keyEntities:function(e,t){e=0<arguments.length&&void 0!==e?e:[];var n=[],r=0,i=(t=1<arguments.length&&void 0!==t?t:[]).length,o=(e=Ti(e),Ti(t));e.forEach((function(e){for(var t=!1,a=r;a<i;a+=1){var s=o[a];if(s.key===e.key){r<a&&(n=n.concat(o.slice(r,a).map((function(e){return(0,je.Z)((0,je.Z)({},e),{},{status:wi})}))),r=a),n.push((0,je.Z)((0,je.Z)({},s),{},{status:_i})),r+=1,t=!0;break}}t||n.push((0,je.Z)((0,je.Z)({},e),{},{status:Ei}))})),r<i&&(n=n.concat(o.slice(r).map((function(e){return(0,je.Z)((0,je.Z)({},e),{},{status:wi})}))));var a={};return n.forEach((function(e){e=e.key,a[e]=(a[e]||0)+1})),Object.keys(a).filter((function(e){return 1<a[e]})).forEach((function(e){(n=n.filter((function(t){var n=t.key;t=t.status;return n!==e||t!==Ei}))).forEach((function(t){t.key===e&&(t.status=_i)}))})),n}(n,e).filter((function(e){var t=n.find((function(t){return t=t.key,e.key===t}));return!t||"removed"!==t.status||e.status!==Ei}))}}}]),t}()).defaultProps={component:"div"},t}(Jr),ki=yi;function Ni(e){var t=e.prefixCls,n=e.motion,r=e.animation;e=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:e?{motionName:e}:null)}function Oi(e){var t=e.prefixCls,n=e.visible,i=e.zIndex,o=e.mask,a=e.maskMotion,s=e.maskAnimation;e=e.maskTransitionName;return o?(o={},(a||e||s)&&(o=(0,je.Z)({motionAppear:!0},Ni({motion:a,prefixCls:t,transitionName:e,animation:s}))),r.createElement(ki,g({},o,{visible:n,removeOnLeave:!0}),(function(e){return e=e.className,r.createElement("div",{style:{zIndex:i},className:Le()("".concat(t,"-mask"),e)})}))):null}const Pi=function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}return!(!e.getBoundingClientRect||!(e=e.getBoundingClientRect()).width&&!e.height)};function Ai(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function Ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ai(Object(n),!0).forEach((function(t){var r,i;r=e,t=n[i=t],i in r?Object.defineProperty(r,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[i]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ai(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Di(e){return(Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Mi={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function Li(){if(void 0!==Ii)return Ii;Ii="";var e,t=document.createElement("p").style;for(e in Mi)e+"Transform"in t&&(Ii=e);return Ii}function Fi(){return Li()?"".concat(Li(),"TransitionProperty"):"transitionProperty"}function ji(){return Li()?"".concat(Li(),"Transform"):"transform"}function Ui(e,t){var n=Fi();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function Vi(e,t){var n=ji();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var qi,Bi=/matrix\((.*)\)/,zi=/matrix3d\((.*)\)/;function Hi(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function Wi(e,t,n){var r;n=n;if("object"!==Di(t))return void 0!==n?("number"==typeof n&&(n="".concat(n,"px")),void(e.style[t]=n)):qi(e,t);for(r in t)t.hasOwnProperty(r)&&Wi(e,r,t[r])}function Gi(e,t){var n=e["page".concat(t?"Y":"X","Offset")];t="scroll".concat(t?"Top":"Left");return"number"==typeof n||"number"!=typeof(n=(e=e.document).documentElement[t])&&(n=e.body[t]),n}function Ki(e){return Gi(e)}function Zi(e){return Gi(e,!0)}function Yi(e){var t,n,r,i=(n=(i=(t=e).ownerDocument).body,r=i&&i.documentElement,t=(i=t.getBoundingClientRect()).left,i=i.top,{left:t-=r.clientLeft||n.clientLeft||0,top:i-=r.clientTop||n.clientTop||0});e=(e=e.ownerDocument).defaultView||e.parentWindow;return i.left+=Ki(e),i.top+=Zi(e),i}function $i(e){return null!=e&&e==e.window}function Qi(e){return $i(e)?e.document:9===e.nodeType?e:e.ownerDocument}var Ji=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),Xi=/^(top|right|bottom|left)$/,eo="currentStyle",to="runtimeStyle";function no(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function ro(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function io(e,t){for(var n=0;n<e.length;n++)t(e[n])}function oo(e){return"border-box"===qi(e,"boxSizing")}"undefined"!=typeof window&&(qi=window.getComputedStyle?function(e,t,n){var r=n,i="";n=Qi(e);return(r=r||n.defaultView.getComputedStyle(e,null))?r.getPropertyValue(t)||r[t]:i}:function(e,t){var n,r,i,o=e[eo]&&e[eo][t];return Ji.test(o)&&!Xi.test(t)&&(r=(n=e.style).left,i=e[to].left,e[to].left=e[eo].left,n.left="fontSize"===t?"1em":o||0,o=n.pixelLeft+"px",n.left=r,e[to].left=i),""===o?"auto":o});var ao=["margin","border","padding"];function so(e,t,n){for(var r,i,o=0,a=0;a<t.length;a++)if(r=t[a])for(i=0;i<n.length;i++){var s="border"===r?"".concat(r).concat(n[i],"Width"):r+n[i];o+=parseFloat(qi(e,s))||0}return o}var uo={getParent:function(e){for(var t=e;(t=11===t.nodeType&&t.host?t.host:t.parentNode)&&1!==t.nodeType&&9!==t.nodeType;);return t}};function co(e,t,n){var r=n;if($i(e))return"width"===t?uo.viewportWidth(e):uo.viewportHeight(e);if(9===e.nodeType)return"width"===t?uo.docWidth(e):uo.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?e.getBoundingClientRect().width:e.getBoundingClientRect().height,a=oo(e);n=0;return(null==o||o<=0)&&(o=void 0,(null==(n=qi(e,t))||Number(n)<0)&&(n=e.style[t]||0),n=parseFloat(n)||0),t=void 0!==o||a,o=o||n,-1===(r=void 0===r?a?1:-1:r)?t?o-so(e,["border","padding"],i):n:t?1===r?o:o+(2===r?-so(e,["border"],i):so(e,["margin"],i)):n+so(e,ao.slice(r),i)}io(["Width","Height"],(function(e){uo["doc".concat(e)]=function(t){return t=t.document,Math.max(t.documentElement["scroll".concat(e)],t.body["scroll".concat(e)],uo["viewport".concat(e)](t))},uo["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body;t=r.documentElement[n];return"CSS1Compat"===r.compatMode&&t||i&&i[n]||t}}));var lo={position:"absolute",visibility:"hidden",display:"block"};function ho(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];return 0!==i.offsetWidth?e=co.apply(void 0,n):function(e,t,n){var r,i={},o=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=o[r],o[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(o[r]=i[r])}(i,lo,(function(){e=co.apply(void 0,n)})),e}function fo(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}io(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);uo["outer".concat(t)]=function(t,n){return t&&ho(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];uo[e]=function(t,r){return void 0===r?t&&ho(t,e,-1):t?(oo(t)&&(r+=so(t,["padding","border"],n)),Wi(t,e,r)):void 0}}));var po={getWindow:function(e){return e&&e.document&&e.setTimeout?e:(e=e.ownerDocument||e).defaultView||e.parentWindow},getDocument:Qi,offset:function(e,t,n){if(void 0===t)return Yi(e);!function(e,t,n){if(n.ignoreShake){var r=(a=Yi(e)).left.toFixed(0),i=a.top.toFixed(0),o=t.left.toFixed(0),a=t.top.toFixed(0);if(r===o&&i===a)return}!n.useCssRight&&!n.useCssBottom&&n.useCssTransform&&ji()in document.body.style?function(e,t){var n,r=Yi(e),i=function(e){return(e=(e=window.getComputedStyle(e,null)).getPropertyValue("transform")||e.getPropertyValue(ji()))&&"none"!==e?(e=e.replace(/[^0-9\-.,]/g,"").split(","),{x:parseFloat(e[12]||e[4],0),y:parseFloat(e[13]||e[5],0)}):{x:0,y:0}}(e),o={x:i.x,y:i.y};"left"in t&&(o.x=i.x+t.left-r.left),"top"in t&&(o.y=i.y+t.top-r.top),t=e,r=o,(o=(e=window.getComputedStyle(t,null)).getPropertyValue("transform")||e.getPropertyValue(ji()))&&"none"!==o?(e=o.match(Bi))?((n=(e=e[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=r.x,n[5]=r.y,Vi(t,"matrix(".concat(n.join(","),")"))):((n=o.match(zi)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=r.x,n[13]=r.y,Vi(t,"matrix3d(".concat(n.join(","),")"))):Vi(t,"translateX(".concat(r.x,"px) translateY(").concat(r.y,"px) translateZ(0)"))}(e,t):function(e,t,n){"static"===Wi(e,"position")&&(e.style.position="relative");var r=-999,i=-999,o=no("left",n),a=no("top",n),s=ro(o),u=ro(a);"left"!==o&&(r=999),"top"!==a&&(i=999);var c,l="",h=Yi(e);("left"in t||"top"in t)&&(l=(c=e).style.transitionProperty||c.style[Fi()]||"",Ui(e,"none")),"left"in t&&(e.style[s]="",e.style[o]="".concat(r,"px")),"top"in t&&(e.style[u]="",e.style[a]="".concat(i,"px")),Hi(e);var f,p,d,m,v=Yi(e),g={};for(f in t)t.hasOwnProperty(f)&&(p=no(f,n),d="left"===f?r:i,m=h[f]-v[f],g[p]=p===f?d+m:d-m);Wi(e,g),Hi(e),("left"in t||"top"in t)&&Ui(e,l);var y,b,w,_={};for(y in t)t.hasOwnProperty(y)&&(b=no(y,n),w=t[y]-h[y],_[b]=y===b?g[b]+w:g[b]-w);Wi(e,_)}(e,t,n)}(e,t,n||{})},isWindow:$i,each:io,css:Wi,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:fo,getWindowScrollLeft:Ki,getWindowScrollTop:Zi,merge:function(){for(var e={},t=0;t<arguments.length;t++)po.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};fo(po,uo);var mo=po.getParent;function vo(e){if(po.isWindow(e)||9===e.nodeType)return null;var t,n=po.getDocument(e).body,r=po.css(e,"position");if("fixed"!==r&&"absolute"!==r)return"html"===e.nodeName.toLowerCase()?null:mo(e);for(t=mo(e);t&&t!==n&&9!==t.nodeType;t=mo(t))if("static"!==(r=po.css(t,"position")))return t;return null}var go=po.getParent;function yo(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=vo(e),i=(c=po.getDocument(e)).defaultView||c.parentWindow,o=c.body,a=c.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===o||r===a||"visible"===po.css(r,"overflow")){if(r===o||r===a)break}else{var s=po.offset(r);s.left+=r.clientLeft,s.top+=r.clientTop,n.top=Math.max(n.top,s.top),n.right=Math.min(n.right,s.left+r.clientWidth),n.bottom=Math.min(n.bottom,s.top+r.clientHeight),n.left=Math.max(n.left,s.left)}r=vo(r)}var u=null;po.isWindow(e)||9===e.nodeType||(u=e.style.position,"absolute"===po.css(e,"position")&&(e.style.position="fixed"));var c,l=po.getWindowScrollLeft(i),h=po.getWindowScrollTop(i),f=po.viewportWidth(i),p=po.viewportHeight(i),d=a.scrollWidth,m=a.scrollHeight;return"hidden"===(c=window.getComputedStyle(o)).overflowX&&(d=i.innerWidth),"hidden"===c.overflowY&&(m=i.innerHeight),e.style&&(e.style.position=u),t||function(e){if(!po.isWindow(e)&&9!==e.nodeType){var t=po.getDocument(e),n=t.body,r=null;for(r=go(e);r&&r!==n&&r!==t;r=go(r))if("fixed"===po.css(r,"position"))return 1}}(e)?(n.left=Math.max(n.left,l),n.top=Math.max(n.top,h),n.right=Math.min(n.right,l+f),n.bottom=Math.min(n.bottom,h+p)):(f=Math.max(d,l+f),n.right=Math.min(n.right,f),p=Math.max(m,h+p),n.bottom=Math.min(n.bottom,p)),0<=n.top&&0<=n.left&&n.bottom>n.top&&n.right>n.left?n:null}function bo(e){var t,n,r;return e=po.isWindow(e)||9===e.nodeType?(t=po.getWindow(e),n={left:po.getWindowScrollLeft(t),top:po.getWindowScrollTop(t)},r=po.viewportWidth(t),po.viewportHeight(t)):(n=po.offset(e),r=po.outerWidth(e),po.outerHeight(e)),n.width=r,n.height=e,n}function wo(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,o=e.height;t=e.left,e=e.top;return"c"===n?e+=o/2:"b"===n&&(e+=o),"c"===r?t+=i/2:"r"===r&&(t+=i),{left:t,top:e}}function _o(e,t,n,r,i){return t=wo(t,n[1]),t=[(n=wo(e,n[0])).left-t.left,n.top-t.top],{left:Math.round(e.left-t[0]+r[0]-i[0]),top:Math.round(e.top-t[1]+r[1]-i[1])}}function Eo(e,t,n){return e.left<n.left||e.left+t.width>n.right}function Co(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function To(e,t,n){var r=[];return po.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function Io(e,t){return e[t]=-e[t],e}function So(e,t){return(e=/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function xo(e,t){e[0]=So(e[0],t.width),e[1]=So(e[1],t.height)}function ko(e,t,n,r){var i=n.points,o=n.offset||[0,0],a=n.targetOffset||[0,0],s=n.overflow,u=n.source||e,c=(o=[].concat(o),a=[].concat(a),{}),l=0,h=yo(u,!(!(s=s||{})||!s.alwaysByViewport)),f=bo(u);xo(o,f),xo(a,t);var p,d,m,v,g,y,b=_o(f,t,i,o,a);e=po.merge(f,b);return h&&(s.adjustX||s.adjustY)&&r&&(s.adjustX&&Eo(b,f,h)&&(g=f,y=h,(r=r=_o(f,t,d=To(i,/[lr]/gi,{l:"r",r:"l"}),m=Io(o,0),v=Io(a,0))).left>y.right||r.left+g.width<y.left||(l=1,i=d,o=m,a=v)),s.adjustY&&Co(b,f,h)&&(m=f,v=h,(d=d=_o(f,t,g=To(i,/[tb]/gi,{t:"b",b:"t"}),y=Io(o,1),p=Io(a,1))).top>v.bottom||d.top+m.height<v.top||(l=1,i=g,o=y,a=p)),l&&(b=_o(f,t,i,o,a),po.mix(e,b)),p=Eo(b,f,h),l=Co(b,f,h),(p||l)&&(t=i,p&&(t=To(i,/[lr]/gi,{l:"r",r:"l"})),i=t=l?To(i,/[tb]/gi,{t:"b",b:"t"}):t,o=n.offset||[0,0],a=n.targetOffset||[0,0]),c.adjustX=s.adjustX&&p,c.adjustY=s.adjustY&&l,(c.adjustX||c.adjustY)&&(s=b,l=f,b=h,h=c,s=po.clone(s),l={width:l.width,height:l.height},h.adjustX&&s.left<b.left&&(s.left=b.left),h.resizeWidth&&s.left>=b.left&&s.left+l.width>b.right&&(l.width-=s.left+l.width-b.right),h.adjustX&&s.left+l.width>b.right&&(s.left=Math.max(b.right-l.width,b.left)),h.adjustY&&s.top<b.top&&(s.top=b.top),h.resizeHeight&&s.top>=b.top&&s.top+l.height>b.bottom&&(l.height-=s.top+l.height-b.bottom),h.adjustY&&s.top+l.height>b.bottom&&(s.top=Math.max(b.bottom-l.height,b.top)),e=po.mix(s,l))),e.width!==f.width&&po.css(u,"width",po.width(u)+e.width-f.width),e.height!==f.height&&po.css(u,"height",po.height(u)+e.height-f.height),po.offset(u,{left:e.left,top:e.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:o,targetOffset:a,overflow:c}}function No(e,t,n){return ko(e,bo(t=n.target||t),n,(n=yo(t=t,n=n.overflow&&n.overflow.alwaysByViewport),t=bo(t),!(!n||t.left+t.width<=n.left||t.top+t.height<=n.top||t.left>=n.right||t.top>=n.bottom)))}No.__getOffsetParent=vo,No.__getVisibleRectForElement=yo;var Oo="undefined"!=typeof Map?Map:(Object.defineProperty(Ao.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),Ao.prototype.get=function(e){return e=Po(this.__entries__,e),(e=this.__entries__[e])&&e[1]},Ao.prototype.set=function(e,t){var n=Po(this.__entries__,e);~n?this.__entries__[n][1]=t:this.__entries__.push([e,t])},Ao.prototype.delete=function(e){var t=this.__entries__;~(e=Po(t,e))&&t.splice(e,1)},Ao.prototype.has=function(e){return!!~Po(this.__entries__,e)},Ao.prototype.clear=function(){this.__entries__.splice(0)},Ao.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},Ao);function Po(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}function Ao(){this.__entries__=[]}var Ro="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Do=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Mo="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Do):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},Lo=["top","right","bottom","left","width","height","size","weight"],Fo="undefined"!=typeof MutationObserver,jo=(Uo.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},Uo.prototype.removeObserver=function(e){var t=this.observers_;~(e=t.indexOf(e))&&t.splice(e,1),!t.length&&this.connected_&&this.disconnect_()},Uo.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},Uo.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),0<e.length},Uo.prototype.connect_=function(){Ro&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Fo?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},Uo.prototype.disconnect_=function(){Ro&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},Uo.prototype.onTransitionEnd_=function(e){var t=void 0===(e=e.propertyName)?"":e;Lo.some((function(e){return!!~t.indexOf(e)}))&&this.refresh()},Uo.getInstance=function(){return this.instance_||(this.instance_=new Uo),this.instance_},Uo.instance_=null,Uo);function Uo(){function e(){o&&(o=!1,r()),a&&n()}function t(){Mo(e)}function n(){var e=Date.now();if(o){if(e-s<2)return;a=!0}else a=!(o=!0),setTimeout(t,i);s=e}var r,i,o,a,s;this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=(r=this.refresh.bind(this),a=o=!(i=20),s=0,n)}var Vo=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},qo=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Do},Bo=Ko(0,0,0,0);function zo(e){return parseFloat(e)||0}function Ho(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+zo(e["border-"+n+"-width"])}),0)}var Wo="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof qo(e).SVGGraphicsElement}:function(e){return e instanceof qo(e).SVGElement&&"function"==typeof e.getBBox};function Go(e){return Ro?Wo(e)?Ko(0,0,(t=(t=e).getBBox()).width,t.height):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Bo;var r=qo(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=zo(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=zo(r.width),u=zo(r.height);return"border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=Ho(r,"left","right")+o),Math.round(u+a)!==n&&(u-=Ho(r,"top","bottom")+a)),e!==qo(e).document.documentElement&&(t=Math.round(s+o)-t,n=Math.round(u+a)-n,1!==Math.abs(t)&&(s-=t),1!==Math.abs(n)&&(u-=n)),Ko(i.left,i.top,s,u)}(e):Bo;var t}function Ko(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Zo=(Yo.prototype.isActive=function(){var e=Go(this.target);return(this.contentRect_=e).width!==this.broadcastWidth||e.height!==this.broadcastHeight},Yo.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},Yo);function Yo(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ko(0,0,0,0),this.target=e}var $o=function(e,t){var n,r,i,o=(n=(o=t).x,r=o.y,i=o.width,t=o.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(o.prototype),Vo(o,{x:n,y:r,width:i,height:t,top:r,right:n+i,bottom:t+r,left:n}),o);Vo(this,{target:e,contentRect:o})},Qo=(Jo.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof qo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Zo(e)),this.controller_.addObserver(this),this.controller_.refresh())}},Jo.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof qo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},Jo.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},Jo.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},Jo.prototype.broadcastActive=function(){var e,t;this.hasActive()&&(e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new $o(e.target,e.broadcastRect())})),this.callback_.call(e,t,e),this.clearActive())},Jo.prototype.clearActive=function(){this.activeObservations_.splice(0)},Jo.prototype.hasActive=function(){return 0<this.activeObservations_.length},Jo);function Jo(e,t,n){if(this.activeObservations_=[],this.observations_=new Oo,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}var Xo=new("undefined"!=typeof WeakMap?WeakMap:Oo),ea=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=jo.getInstance();n=new Qo(t,n,this);Xo.set(this,n)};["observe","unobserve","disconnect"].forEach((function(e){ea.prototype[e]=function(){var t;return(t=Xo.get(this))[e].apply(t,arguments)}}));const ta=void 0!==Do.ResizeObserver?Do.ResizeObserver:ea;function na(e,t){var n=null,r=null,i=new ta((function(e){var i,o,a=Re(e,1)[0].target;document.documentElement.contains(a)&&(a=(e=a.getBoundingClientRect()).width,e=e.height,i=Math.floor(a),o=Math.floor(e),n===i&&r===o||Promise.resolve().then((function(){t({width:i,height:o})})),n=i,r=o)}));return e&&i.observe(e),function(){i.disconnect()}}function ra(e){return"function"!=typeof e?null:e()}function ia(e){return"object"===ke(e)&&e?e:null}(X=r.forwardRef((function(e,t){var n=e.children,i=e.disabled,o=e.target,a=e.align,s=e.onAlign,u=e.monitorWindowResize,c=(e=void 0===(e=e.monitorBufferTime)?0:e,r.useRef({})),l=r.useRef(),h=(n=r.Children.only(n),r.useRef({}));h.current.disabled=i,h.current.target=o,h.current.onAlign=s;var f=(e=Re(function(e,t){var n=r.useRef(!1),i=r.useRef(null);function o(){window.clearTimeout(i.current)}return[function r(a){n.current&&!0!==a?(o(),i.current=window.setTimeout((function(){n.current=!1,r()}),t)):!1!==e()&&(n.current=!0,o(),i.current=window.setTimeout((function(){n.current=!1}),t))},function(){n.current=!1,o()}]}((function(){var e,t,n,r=h.current,i=r.disabled,o=r.target,s=r.onAlign;if(i||!o)return!1;var u,f=l.current,p=ra(o),d=ia(o);c.current.element=p,c.current.point=d;var m=document.activeElement;return p&&Pi(p)?u=No(f,p,a):d&&(e=f,t=d,r=a,o=(i=po.getDocument(e)).defaultView||i.parentWindow,p=po.getWindowScrollLeft(o),n=po.getWindowScrollTop(o),d=po.viewportWidth(o),i=po.viewportHeight(o),o="pageX"in t?t.pageX:p+t.clientX,t="pageY"in t?t.pageY:n+t.clientY,n=0<=o&&o<=p+d&&0<=t&&t<=n+i,i=[r.points[0],"cc"],u=ko(e,{left:o,top:t,width:0,height:0},Ri(Ri({},r),{},{points:i}),n)),n=f,(m=m)!==document.activeElement&&qr(n,m)&&"function"==typeof m.focus&&m.focus(),s&&u&&s(f,u),!0}),e),2))[0],p=e[1],d=r.useRef({cancel:function(){}}),m=r.useRef({cancel:function(){}});r.useEffect((function(){var e,t=ra(o),n=ia(o);l.current!==m.current.element&&(m.current.cancel(),m.current.element=l.current,m.current.cancel=na(l.current,f)),c.current.element===t&&((e=c.current.point)===(n=n)||e&&n&&("pageX"in n&&"pageY"in n?e.pageX===n.pageX&&e.pageY===n.pageY:"clientX"in n&&"clientY"in n&&e.clientX===n.clientX&&e.clientY===n.clientY))||(f(),d.current.element!==t&&(d.current.cancel(),d.current.element=t,d.current.cancel=na(t,f)))})),r.useEffect((function(){(i?p:f)()}),[i]);var v=r.useRef(null);return r.useEffect((function(){u?v.current||(v.current=zr(window,"resize",f)):v.current&&(v.current.remove(),v.current=null)}),[u]),r.useEffect((function(){return function(){d.current.cancel(),m.current.cancel(),v.current&&v.current.remove(),p()}}),[]),r.useImperativeHandle(t,(function(){return{forceAlign:function(){return f(!0)}}})),r.isValidElement(n)?r.cloneElement(n,{ref:Ln(n.ref,l)}):n}))).displayName="Align";const oa=X;var aa=["measure","align",null,"motion"];const sa=function(e,t){var n=Re((0,r.useState)(null),2),i=n[0],o=n[1],s=(0,r.useRef)(),c=(0,r.useRef)(!1);function l(e){c.current||o(e)}function h(){Vr.cancel(s.current)}return(0,r.useEffect)((function(){l("measure")}),[e]),(0,r.useEffect)((function(){"measure"===i&&t(),i&&(s.current=Vr(a(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=aa.indexOf(i),(n=aa[t+1])&&-1!==t&&l(n);case 3:case"end":return e.stop()}}),e)})))))}),[i]),(0,r.useEffect)((function(){return function(){c.current=!0,h()}}),[]),[i,function(e){h(),s.current=Vr((function(){l((function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e})),null!=e&&e()}))}]};(nn=r.forwardRef((function(e,t){var n,i=e.visible,o=e.prefixCls,a=e.className,s=e.style,u=e.children,c=e.zIndex,l=e.stretch,h=e.destroyPopupOnHide,f=e.forceRender,p=e.align,d=e.point,m=e.getRootDomNode,v=e.getClassNameFromAlign,y=e.onAlign,b=e.onMouseEnter,w=e.onMouseLeave,_=e.onMouseDown,E=e.onTouchStart,C=(0,r.useRef)(),T=(0,r.useRef)(),I=(x=Re((0,r.useState)(),2))[0],S=x[1],x=(n=Re(function(e){var t=Re(r.useState({width:0,height:0}),2),n=t[0],i=t[1];return[r.useMemo((function(){var t,r,i={};return e&&(t=n.width,r=n.height,-1!==e.indexOf("height")&&r?i.height=r:-1!==e.indexOf("minHeight")&&r&&(i.minHeight=r),-1!==e.indexOf("width")&&t?i.width=t:-1!==e.indexOf("minWidth")&&t&&(i.minWidth=t)),i}),[e,n]),function(e){i({width:e.offsetWidth,height:e.offsetHeight})}]}(l),2))[0],k=n[1],N=(n=Re(sa(i,(function(){l&&k(m())})),2))[0],O=n[1],P=(0,r.useRef)();function A(){var e;null!==(e=C.current)&&void 0!==e&&e.forceAlign()}function R(e,t){var n;"align"===N&&(n=v(t),S(n),I!==n?Promise.resolve().then((function(){A()})):O((function(){var e;null!==(e=P.current)&&void 0!==e&&e.call(P)})),null!=y&&y(e,t))}var D=(0,je.Z)({},Ni(e));function M(){return new Promise((function(e){P.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=D[e];D[e]=function(e,n){return O(),null==t?void 0:t(e,n)}})),r.useEffect((function(){D.motionName||"motion"!==N||O()}),[D.motionName,N]),r.useImperativeHandle(t,(function(){return{forceAlign:A,getElement:function(){return T.current}}}));var L=(0,je.Z)((0,je.Z)({},x),{},{zIndex:c,opacity:"motion"!==N&&"stable"!==N&&i?0:void 0,pointerEvents:"stable"===N?void 0:"none"},s),F=!0;null==p||!p.points||"align"!==N&&"stable"!==N||(F=!1);var j=u;return 1<r.Children.count(u)&&(j=r.createElement("div",{className:"".concat(o,"-content")},u)),r.createElement(ki,g({visible:i,ref:T,leavedClassName:"".concat(o,"-hidden")},D,{onAppearPrepare:M,onEnterPrepare:M,removeOnLeave:h,forceRender:f}),(function(e,t){var n=e.className;e=e.style,n=Le()(o,a,I,n);return r.createElement(oa,{target:d||m,key:"popup",ref:C,monitorWindowResize:!0,disabled:F,align:p,onAlign:R},r.createElement("div",{ref:t,className:n,onMouseEnter:b,onMouseLeave:w,onMouseDownCapture:_,onTouchStartCapture:E,style:(0,je.Z)((0,je.Z)({},e),L)},j))}))}))).displayName="PopupInner";const ua=nn;(s=r.forwardRef((function(e,t){var n=e.prefixCls,i=e.visible,o=e.zIndex,a=e.children,s=(c=void 0===(c=e.mobile)?{}:c).popupClassName,u=c.popupStyle,c=(e=void 0===(e=c.popupMotion)?{}:e,c.popupRender),l=r.useRef();r.useImperativeHandle(t,(function(){return{forceAlign:function(){},getElement:function(){return l.current}}}));var h=(0,je.Z)({zIndex:o},u),f=a;return 1<r.Children.count(a)&&(f=r.createElement("div",{className:"".concat(n,"-content")},a)),c&&(f=c(f)),r.createElement(ki,g({visible:i,ref:l,removeOnLeave:!0},e),(function(e,t){var i=e.className;e=e.style,i=Le()(n,s,i);return r.createElement("div",{ref:t,className:i,style:(0,je.Z)((0,je.Z)({},e),h)},f)}))}))).displayName="MobilePopupInner";const ca=s;(X=r.forwardRef((function(e,t){var n=e.visible,i=e.mobile,o=Fe(e,["visible","mobile"]),a=(u=Re((0,r.useState)(n),2))[0],s=u[1],u=(e=Re((0,r.useState)(!1),2))[0],c=e[1];a=(0,je.Z)((0,je.Z)({},o),{},{visible:a});return(0,r.useEffect)((function(){s(n),n&&i&&c(function(){if("undefined"==typeof navigator||"undefined"==typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null==e?void 0:e.substr(0,4)))}())}),[n,i]),t=u?r.createElement(ca,g({},a,{mobile:i,ref:t})):r.createElement(ua,g({},a,{ref:t})),r.createElement("div",null,r.createElement(Oi,a),t)}))).displayName="Popup";const la=X,ha=r.createContext(null);function fa(){}var pa,da,ma=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];const va=(pa=cn,(da=function(){We(t,r.Component);var e=Ke(t);function t(n){var o;return qe(this,t),(o=e.call(this,n)).popupRef=r.createRef(),o.triggerRef=r.createRef(),o.onMouseEnter=function(e){var t=o.props.mouseEnterDelay;o.fireEvents("onMouseEnter",e),o.delaySetPopupVisible(!0,t,t?null:e)},o.onMouseMove=function(e){o.fireEvents("onMouseMove",e),o.setPoint(e)},o.onMouseLeave=function(e){o.fireEvents("onMouseLeave",e),o.delaySetPopupVisible(!1,o.props.mouseLeaveDelay)},o.onPopupMouseEnter=function(){o.clearDelayTimer()},o.onPopupMouseLeave=function(e){var t;e.relatedTarget&&!e.relatedTarget.setTimeout&&qr(null===(t=o.popupRef.current)||void 0===t?void 0:t.getElement(),e.relatedTarget)||o.delaySetPopupVisible(!1,o.props.mouseLeaveDelay)},o.onFocus=function(e){o.fireEvents("onFocus",e),o.clearDelayTimer(),o.isFocusToShow()&&(o.focusTime=Date.now(),o.delaySetPopupVisible(!0,o.props.focusDelay))},o.onMouseDown=function(e){o.fireEvents("onMouseDown",e),o.preClickTime=Date.now()},o.onTouchStart=function(e){o.fireEvents("onTouchStart",e),o.preTouchTime=Date.now()},o.onBlur=function(e){o.fireEvents("onBlur",e),o.clearDelayTimer(),o.isBlurToHide()&&o.delaySetPopupVisible(!1,o.props.blurDelay)},o.onContextMenu=function(e){e.preventDefault(),o.fireEvents("onContextMenu",e),o.setPopupVisible(!0,e)},o.onContextMenuClose=function(){o.isContextMenuToShow()&&o.close()},o.onClick=function(e){if(o.fireEvents("onClick",e),o.focusTime){if(o.preClickTime&&o.preTouchTime?t=Math.min(o.preClickTime,o.preTouchTime):o.preClickTime?t=o.preClickTime:o.preTouchTime&&(t=o.preTouchTime),Math.abs(t-o.focusTime)<20)return;o.focusTime=0}o.preClickTime=0,o.preTouchTime=0,o.isClickToShow()&&(o.isClickToHide()||o.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var t=!o.state.popupVisible;(o.isClickToHide()&&!t||t&&o.isClickToShow())&&o.setPopupVisible(!o.state.popupVisible,e)},o.onPopupMouseDown=function(){var e;o.hasPopupMouseDown=!0,clearTimeout(o.mouseDownTimeout),o.mouseDownTimeout=window.setTimeout((function(){o.hasPopupMouseDown=!1}),0),o.context&&(e=o.context).onPopupMouseDown.apply(e,arguments)},o.onDocumentClick=function(e){var t,n;o.props.mask&&!o.props.maskClosable||(t=e.target,n=o.getRootDomNode(),e=o.getPopupDomNode(),qr(n,t)&&!o.isContextMenuOnly()||qr(e,t)||o.hasPopupMouseDown||o.close())},o.getRootDomNode=function(){var e=o.props.getTriggerDOMNode;if(e)return e(o.triggerRef.current);try{var t=Br(o.triggerRef.current);if(t)return t}catch(e){}return i.findDOMNode(He(o))},o.getPopupClassNameFromAlign=function(e){var t=[],n=(s=o.props).popupPlacement,r=s.builtinPlacements,i=s.prefixCls,a=s.alignPoint,s=s.getPopupClassNameFromAlign;return n&&r&&t.push(function(e,t,n,r){for(var i,o,a=n.points,s=Object.keys(e),u=0;u<s.length;u+=1){var c=s[u];if(i=e[c].points,o=a,r?i[0]===o[0]:i[0]===o[0]&&i[1]===o[1])return"".concat(t,"-placement-").concat(c)}return""}(r,i,e,a)),s&&t.push(s(e)),t.join(" ")},o.getComponent=function(){var e=(C=o.props).prefixCls,t=C.destroyPopupOnHide,n=C.popupClassName,i=C.onPopupAlign,a=C.popupMotion,s=C.popupAnimation,u=C.popupTransitionName,c=C.popupStyle,l=C.mask,h=C.maskAnimation,f=C.maskTransitionName,p=C.maskMotion,d=C.zIndex,m=C.popup,v=C.stretch,y=C.alignPoint,b=C.mobile,w=C.forceRender,_=(T=o.state).popupVisible,E=T.point,C=o.getPopupAlign(),T={};return o.isMouseEnterToShow()&&(T.onMouseEnter=o.onPopupMouseEnter),o.isMouseLeaveToHide()&&(T.onMouseLeave=o.onPopupMouseLeave),T.onMouseDown=o.onPopupMouseDown,T.onTouchStart=o.onPopupMouseDown,r.createElement(la,g({prefixCls:e,destroyPopupOnHide:t,visible:_,point:y&&E,className:n,align:C,onAlign:i,animation:s,getClassNameFromAlign:o.getPopupClassNameFromAlign},T,{stretch:v,getRootDomNode:o.getRootDomNode,style:c,mask:l,zIndex:d,transitionName:u,maskAnimation:h,maskTransitionName:f,maskMotion:p,ref:o.popupRef,motion:a,mobile:b,forceRender:w}),"function"==typeof m?m():m)},o.attachParent=function(e){Vr.cancel(o.attachId);var t,n=(i=o.props).getPopupContainer,r=i.getDocument,i=o.getRootDomNode();n?!i&&0!==n.length||(t=n(i)):t=r(o.getRootDomNode()).body,t?t.appendChild(e):o.attachId=Vr((function(){o.attachParent(e)}))},o.getContainer=function(){var e=(0,o.props.getDocument)(o.getRootDomNode()).createElement("div");return e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",o.attachParent(e),e},o.setPoint=function(e){o.props.alignPoint&&e&&o.setState({point:{pageX:e.pageX,pageY:e.pageY}})},o.handlePortalUpdate=function(){o.state.prevPopupVisible!==o.state.popupVisible&&o.props.afterPopupVisibleChange(o.state.popupVisible)},n="popupVisible"in n?!!n.popupVisible:!!n.defaultPopupVisible,o.state={prevPopupVisible:n,popupVisible:n},ma.forEach((function(e){o["fire".concat(e)]=function(t){o.fireEvents(e,t)}})),o}return ze(t,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=zr(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=zr(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=zr(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=zr(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),Vr.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e,t=this.props,n=t.popupPlacement,r=t.popupAlign,i=t.builtinPlacements;return n&&i?(n,t=r,e=i[n]||{},(0,je.Z)((0,je.Z)({},e),t)):r}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r,i=this;t*=1e3;this.clearDelayTimer(),t?(r=n?{pageX:n.pageX,pageY:n.pageY}:null,this.delayTimer=window.setTimeout((function(){i.setPopupVisible(e,r),i.clearDelayTimer()}),t)):this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=(t=this.props).action,t=t.showAction;return-1!==e.indexOf("click")||-1!==t.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=(t=this.props).action,t=t.showAction;return-1!==e.indexOf("contextMenu")||-1!==t.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=(t=this.props).action,t=t.hideAction;return-1!==e.indexOf("click")||-1!==t.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=(t=this.props).action,t=t.showAction;return-1!==e.indexOf("hover")||-1!==t.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=(t=this.props).action,t=t.hideAction;return-1!==e.indexOf("hover")||-1!==t.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=(t=this.props).action,t=t.showAction;return-1!==e.indexOf("focus")||-1!==t.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=(t=this.props).action,t=t.hideAction;return-1!==e.indexOf("focus")||-1!==t.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&null!==(e=this.popupRef.current)&&void 0!==e&&e.forceAlign()}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t),(e=this.props[e])&&e(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var e=this.state.popupVisible,t=(s=this.props).children,n=s.forceRender,i=s.alignPoint,o=s.className,a=s.autoDestroy,s=r.Children.only(t);t={key:"trigger"};this.isContextMenuToShow()?t.onContextMenu=this.onContextMenu:t.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(t.onClick=this.onClick,t.onMouseDown=this.onMouseDown,t.onTouchStart=this.onTouchStart):(t.onClick=this.createTwoChains("onClick"),t.onMouseDown=this.createTwoChains("onMouseDown"),t.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(t.onMouseEnter=this.onMouseEnter,i&&(t.onMouseMove=this.onMouseMove)):t.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?t.onMouseLeave=this.onMouseLeave:t.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(t.onFocus=this.onFocus,t.onBlur=this.onBlur):(t.onFocus=this.createTwoChains("onFocus"),t.onBlur=this.createTwoChains("onBlur")),(o=Le()(s&&s.props&&s.props.className,o))&&(t.className=o),t=(0,je.Z)({},t),Fn(s)&&(t.ref=Ln(this.triggerRef,s.ref));var u;t=r.cloneElement(s,t);return(e||this.popupRef.current||n)&&(u=r.createElement(pa,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!e&&a&&(u=null),r.createElement(ha.Provider,{value:{onPopupMouseDown:this.onPopupMouseDown}},t,u)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible;e={};return void 0!==n&&t.popupVisible!==n&&(e.popupVisible=n,e.prevPopupVisible=t.popupVisible),e}}]),t}()).contextType=ha,da.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:function(){return""},getDocument:function(e){return e?e.ownerDocument:window.document},onPopupVisibleChange:fa,afterPopupVisibleChange:fa,onPopupAlign:fa,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},da);var ga={left:{points:["cr","cl"],overflow:nn={adjustX:1,adjustY:1},offset:[-4,0],targetOffset:s=[0,0]},right:{points:["cl","cr"],overflow:nn,offset:[4,0],targetOffset:s},top:{points:["bc","tc"],overflow:nn,offset:[0,-4],targetOffset:s},bottom:{points:["tc","bc"],overflow:nn,offset:[0,4],targetOffset:s},topLeft:{points:["bl","tl"],overflow:nn,offset:[0,-4],targetOffset:s},leftTop:{points:["tr","tl"],overflow:nn,offset:[-4,0],targetOffset:s},topRight:{points:["br","tr"],overflow:nn,offset:[0,-4],targetOffset:s},rightTop:{points:["tl","tr"],overflow:nn,offset:[4,0],targetOffset:s},bottomRight:{points:["tr","br"],overflow:nn,offset:[0,4],targetOffset:s},rightBottom:{points:["bl","br"],overflow:nn,offset:[4,0],targetOffset:s},bottomLeft:{points:["tl","bl"],overflow:nn,offset:[0,4],targetOffset:s},leftBottom:{points:["br","bl"],overflow:nn,offset:[-4,0],targetOffset:s}};const ya=function(e){var t=e.overlay,n=e.prefixCls,i=e.id;e=e.overlayInnerStyle;return r.createElement("div",{className:"".concat(n,"-inner"),id:i,role:"tooltip",style:e},"function"==typeof t?t():t)};X=function(e,t){var n,i=e.overlayClassName,o=void 0===(y=e.trigger)?["hover"]:y,a=void 0===(n=e.mouseEnterDelay)?0:n,s=void 0===(b=e.mouseLeaveDelay)?.1:b,u=e.overlayStyle,c=void 0===(w=e.prefixCls)?"rc-tooltip":w,l=e.children,h=e.onVisibleChange,f=e.afterVisibleChange,p=e.transitionName,d=e.animation,m=e.motion,v=void 0===(_=e.placement)?"right":_,y=void 0===(C=e.align)?{}:C,b=void 0!==(n=e.destroyTooltipOnHide)&&n,w=e.defaultVisible,_=e.getTooltipContainer,E=e.overlayInnerStyle,C=Fe(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),T=(0,r.useRef)(null);return(0,r.useImperativeHandle)(t,(function(){return T.current})),n=(0,je.Z)({},C),"visible"in e&&(n.popupVisible=e.visible),t=!1,C=!1,"boolean"==typeof b?t=b:b&&"object"===ke(b)&&(t=!0===(b=b.keepParent),C=!1===b),r.createElement(va,g({popupClassName:i,prefixCls:c,popup:function(){var t=void 0===(i=e.arrowContent)?null:i,n=e.overlay,i=e.id;return[r.createElement("div",{className:"".concat(c,"-arrow"),key:"arrow"},t),r.createElement(ya,{key:"content",prefixCls:c,id:i,overlay:n,overlayInnerStyle:E})]},action:o,builtinPlacements:ga,popupPlacement:v,ref:T,popupAlign:y,getPopupContainer:_,onPopupVisibleChange:h,afterPopupVisibleChange:f,popupTransitionName:p,popupAnimation:d,popupMotion:m,defaultPopupVisible:w,destroyPopupOnHide:t,autoDestroy:C,mouseLeaveDelay:s,popupStyle:u,mouseEnterDelay:a},n),l)};const ba=(0,r.forwardRef)(X);function wa(e,t){var n=(s=t||{}).defaultValue,i=s.value,o=s.onChange,a=s.postState,s=(t=Re(r.useState((function(){return void 0!==i?i:void 0!==n?"function"==typeof n?n():n:"function"==typeof e?e():e})),2))[0],u=t[1],c=void 0!==i?i:s;a&&(c=a(c));var l=r.useRef(!0);return r.useEffect((function(){l.current?l.current=!1:void 0===i&&u(i)}),[i]),[c,function(e){u(e),c!==e&&o&&o(e,c)}]}var _a={adjustX:1,adjustY:1},Ea={adjustX:0,adjustY:0},Ca=[0,0];function Ta(e){return"boolean"==typeof e?e?_a:Ea:g(g({},Ea),e)}var Ia=r.isValidElement;function Sa(e,t){return e=n=e,t=t,Ia(n)?r.cloneElement(n,"function"==typeof t?t(n.props||{}):t):e;var n}Me("success","processing","error","default","warning"),cn=Me("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime");const xa={motionName:"ant-motion-collapse",onAppearStart:nn=function(){return{height:0,opacity:0}},onEnterStart:nn,onAppearActive:s=function(e){return{height:e.scrollHeight,opacity:1}},onEnterActive:s,onLeaveStart:function(e){return{height:e.offsetHeight}},onLeaveActive:nn,onAppearEnd:X=function(e,t){return!0===(null==t?void 0:t.deadline)||"height"===t.propertyName},onEnterEnd:X,onLeaveEnd:X,motionDeadline:500};var ka=new RegExp("^(".concat(cn.join("|"),")(-inverse)?$"));(s=r.forwardRef((function(e,t){function n(){var t=e.title,n=e.overlay;return!t&&!n&&0!==t}function i(){var t,n,r,i=e.builtinPlacements,o=e.arrowPointAtCenter,a=e.autoAdjustOverflow;return i||(o=void 0===(i=(t={arrowPointAtCenter:o,autoAdjustOverflow:a}).arrowWidth)?5:i,i=void 0===(a=t.horizontalArrowShift)?16:a,a=void 0===(a=t.verticalArrowShift)?8:a,n=t.autoAdjustOverflow,r={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(i+o),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(a+o)]},topRight:{points:["br","tc"],offset:[i+o,-4]},rightTop:{points:["tl","cr"],offset:[4,-(a+o)]},bottomRight:{points:["tr","bc"],offset:[i+o,4]},rightBottom:{points:["bl","cr"],offset:[4,a+o]},bottomLeft:{points:["tl","bc"],offset:[-(i+o),4]},leftBottom:{points:["br","cl"],offset:[-4,a+o]}},Object.keys(r).forEach((function(e){r[e]=t.arrowPointAtCenter?g(g({},r[e]),{overflow:Ta(n),targetOffset:Ca}):g(g({},ga[e]),{overflow:Ta(n)}),r[e].ignoreShake=!0})),r)}var o=(y=r.useContext(pn)).getPopupContainer,a=y.getPrefixCls,s=y.direction,u=(b=Re(wa(!1,{value:e.visible,defaultValue:e.defaultVisible}),2))[0],c=b[1],l=e.prefixCls,h=e.openClassName,f=e.getPopupContainer,p=e.getTooltipContainer,d=e.overlayClassName,m=e.color,v=e.overlayInnerStyle,y=e.children,b=a("tooltip",l);l=a(),a=u;"visible"in e||!n()||(a=!1);var w,_,E;y=(u=function(e,t){var n,i,o;if(!0!==(s=e.type).__ANT_BUTTON&&!0!==s.__ANT_SWITCH&&!0!==s.__ANT_CHECKBOX&&"button"!==e.type||!e.props.disabled)return e;var a=(n=e.props.style,a=["position","left","right","top","bottom","float","display","zIndex"],i={},o=g({},n),a.forEach((function(e){n&&e in n&&(i[e]=n[e],delete o[e])})),s={picked:i,omitted:o}).omitted,s=g(g({display:"inline-block"},s.picked),{cursor:"not-allowed",width:e.props.block?"100%":null});return a=Sa(e,{style:g(g({},a),{pointerEvents:"none"}),className:null}),r.createElement("span",{style:s,className:Le()(e.props.className,"".concat(t,"-disabled-compatible-wrapper"))},a)}(Ia(y)?y:r.createElement("span",null,y),b)).props,h=Le()(y.className,(0,De.Z)({},h||"".concat(b,"-open"),!0)),s=Le()(d,((0,De.Z)(d={},"".concat(b,"-rtl"),"rtl"===s),(0,De.Z)(d,"".concat(b,"-").concat(m),m&&ka.test(m)),d)),d=v;return m&&!ka.test(m)&&(d=g(g({},v),{background:m}),w={background:m}),r.createElement(ba,g({},e,{prefixCls:b,overlayClassName:s,getTooltipContainer:f||p||o,ref:t,builtinPlacements:i(),overlay:(_=e.title,E=e.overlay,0===_?_:E||_||""),visible:a,onVisibleChange:function(t){var r;c(!n()&&t),n()||null!==(r=e.onVisibleChange)&&void 0!==r&&r.call(e,t)},onPopupAlign:function(e,t){var n,r,o=i(),a=Object.keys(o).filter((function(e){return o[e].points[0]===t.points[0]&&o[e].points[1]===t.points[1]}))[0];a&&(n=e.getBoundingClientRect(),r={top:"50%",left:"50%"},0<=a.indexOf("top")||0<=a.indexOf("Bottom")?r.top="".concat(n.height-t.offset[1],"px"):(0<=a.indexOf("Top")||0<=a.indexOf("bottom"))&&(r.top="".concat(-t.offset[1],"px")),0<=a.indexOf("left")||0<=a.indexOf("Right")?r.left="".concat(n.width-t.offset[0],"px"):(0<=a.indexOf("right")||0<=a.indexOf("Left"))&&(r.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(r.left," ").concat(r.top))},overlayInnerStyle:d,arrowContent:r.createElement("span",{className:"".concat(b,"-arrow-content"),style:w}),motion:{motionName:(b=l,w="zoom-big-fast",void 0!==(l=e.transitionName)?l:"".concat(b,"-").concat(w)),motionDeadline:1e3}}),a?Sa(u,{className:h}):u)}))).displayName="Tooltip",s.defaultProps={placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0};const Na=s;const Oa=function(e){var t,n,i,o=e.prefixCls,a=e.label,s=e.htmlFor,u=e.labelCol,c=e.labelAlign,l=e.colon,h=e.required,f=e.requiredMark,p=e.tooltip,d=Re((t="Form",i=r.useContext(sn),[r.useMemo((function(){var e=an[t],n=i?i[t]:{};return g(g({},"function"==typeof e?e():e),n||{})}),[t,n,i])]),1)[0];return a?r.createElement(gn.Consumer,{key:"label"},(function(e){var t=e.vertical,n=e.labelAlign,i=e.labelCol,m=e.colon,v=u||i||{};e=c||n,i="".concat(o,"-item-label"),n=Le()(i,"left"===e&&"".concat(i,"-left"),v.className),e=a;(i=!0===l||!1!==m&&!1!==l)&&!t&&"string"==typeof a&&""!==a.trim()&&(e=a.replace(/[:|：]\s*$/,"")),(t=(m=p)?"object"!==ke(m)||r.isValidElement(m)?{title:m}:m:null)&&(m=void 0===(m=t.icon)?r.createElement(Ar,null):m,t=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}(t,["icon"]),m=r.createElement(Na,t,r.cloneElement(m,{className:"".concat(o,"-item-tooltip")})),e=r.createElement(r.Fragment,null,e,m)),"optional"!==f||h||(e=r.createElement(r.Fragment,null,e,r.createElement("span",{className:"".concat(o,"-item-optional")},(null==d?void 0:d.optional)||(null===(y=on.Form)||void 0===y?void 0:y.optional))));var y=Le()(((0,De.Z)(y={},"".concat(o,"-item-required"),h),(0,De.Z)(y,"".concat(o,"-item-required-mark-optional"),"optional"===f),(0,De.Z)(y,"".concat(o,"-item-no-colon"),!i),y));return r.createElement(Dr,g({},v,{className:n}),r.createElement("label",{htmlFor:s,className:y,title:"string"==typeof a?a:""},e))})):null},Pa={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};(nn=function(e,t){return r.createElement(Pr,Object.assign({},e,{ref:t,icon:Pa}))}).displayName="LoadingOutlined";const Aa=r.forwardRef(nn),Ra={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"};(X=function(e,t){return r.createElement(Pr,Object.assign({},e,{ref:t,icon:Ra}))}).displayName="CloseCircleFilled";const Da=r.forwardRef(X),Ma={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};(cn=function(e,t){return r.createElement(Pr,Object.assign({},e,{ref:t,icon:Ma}))}).displayName="CheckCircleFilled",s=r.forwardRef(cn);const La={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};function Fa(e,t,n){var i=r.useRef({});return"value"in i.current&&!n(i.current.condition,t)||(i.current.value=e(),i.current.condition=t),i.current.value}function ja(){return Re(r.useReducer((function(e){return e+1}),0),2)[1]}(nn=function(e,t){return r.createElement(Pr,Object.assign({},e,{ref:t,icon:La}))}).displayName="ExclamationCircleFilled",X=r.forwardRef(nn);var Ua=[];function Va(e){var t=void 0===(s=e.errors)?Ua:s,n=e.help,i=e.onDomErrorVisibleChange,o=ja(),a=(e=(s=r.useContext(bn)).prefixCls,s.status),s=r.useContext(pn).getPrefixCls,u=(n=Re(function(e,t,n){function i(){var n=o.current.visible,r=!!e.length,i=o.current.errors;o.current.errors=e,n!==(o.current.visible=r)?t(r):i.length===e.length&&!i.some((function(t,n){return t!==e[n]}))||a()}var o=r.useRef({errors:e,visible:!!e.length}),a=ja();return r.useEffect((function(){if(!n){var e=setTimeout(i,10);return function(){return clearTimeout(e)}}}),[e]),n&&i(),[o.current.visible,o.current.errors]}(t,(function(e){e&&Promise.resolve().then((function(){null!=i&&i(!0)})),o()}),!!n),2))[0],c=n[1],l=Fa((function(){return c}),u,(function(e,t){return t})),h=(n=Re(r.useState(a),2))[0],f=n[1];r.useEffect((function(){u&&a&&f(a)}),[u,a]);var p="".concat(e,"-item-explain");s=s();return r.createElement(ki,{motionDeadline:500,visible:u,motionName:"".concat(s,"-show-help"),onLeaveEnd:function(){null!=i&&i(!1)},motionAppear:!0,removeOnLeave:!0},(function(e){return e=e.className,r.createElement("div",{className:Le()(p,(0,De.Z)({},"".concat(p,"-").concat(h),h),e),key:"help"},l.map((function(e,t){return r.createElement("div",{key:t,role:"alert"},e)})))}))}var qa={success:s,warning:X,error:Da,validating:Aa};const Ba=function(e){var t=e.prefixCls,n=e.status,i=e.wrapperCol,o=e.children,a=e.help,s=e.errors,u=e.onDomErrorVisibleChange,c=e.hasFeedback,l=e._internalItemRender,h=e.validateStatus,f=e.extra,p="".concat(t,"-item"),d=r.useContext(gn),m=i||d.wrapperCol||{};i=Le()("".concat(p,"-control"),m.className);return r.useEffect((function(){return function(){u(!1)}}),[]),h=h&&qa[h],h=c&&h?r.createElement("span",{className:"".concat(p,"-children-icon")},r.createElement(h,null)):null,delete(d=g({},d)).labelCol,delete d.wrapperCol,h=r.createElement("div",{className:"".concat(p,"-control-input")},r.createElement("div",{className:"".concat(p,"-control-input-content")},o),h),a=r.createElement(bn.Provider,{value:{prefixCls:t,status:n}},r.createElement(Va,{errors:s,help:a,onDomErrorVisibleChange:u})),f=f?r.createElement("div",{className:"".concat(p,"-extra")},f):null,f=l&&"pro_table_render"===l.mark&&l.render?l.render(e,{input:h,errorList:a,extra:f}):r.createElement(r.Fragment,null,h,a,f),r.createElement(gn.Provider,{value:d},r.createElement(Dr,g({},m,{className:i}),f))};var za="__SPLIT__",Ha=(Me("success","warning","error","validating",""),r.memo((function(e){return e.children}),(function(e,t){return e.value===t.value&&e.update===t.update})));cn=function(e){var t=e.name,n=e.fieldKey,i=e.noStyle,o=e.dependencies,a=e.prefixCls,s=e.style,u=e.className,c=e.shouldUpdate,l=e.hasFeedback,h=e.help,f=e.rules,p=e.validateStatus,d=e.children,m=e.required,v=e.label,y=e.messageVariables,b=void 0===(A=e.trigger)?"onChange":A,w=e.validateTrigger,_=e.hidden,E=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}(e,["name","fieldKey","noStyle","dependencies","prefixCls","style","className","shouldUpdate","hasFeedback","help","rules","validateStatus","children","required","label","messageVariables","trigger","validateTrigger","hidden"]),C=(0,r.useRef)(!1),T=(0,r.useContext)(pn).getPrefixCls,I=(A=(0,r.useContext)(gn)).name,S=A.requiredMark,x=(0,r.useContext)(yn).updateItemErrors,k=(A=Re(r.useState(!!h),2))[0],N=A[1],O=(A=Re(function(e){var t=Re(r.useState(e),2),n=(e=t[0],t[1]),i=(0,r.useRef)(null),o=(0,r.useRef)([]),a=(0,r.useRef)(!1);return r.useEffect((function(){return function(){a.current=!0,Vr.cancel(i.current)}}),[]),[e,function(e){a.current||(null===i.current&&(o.current=[],i.current=Vr((function(){i.current=null,n((function(e){var t=e;return o.current.forEach((function(e){t=e(t)})),t}))}))),o.current.push(e))}]}({}),2))[0],P=A[1],A=(0,r.useContext)(et).validateTrigger,R=void 0!==w?w:A;function D(e){C.current||N(e)}var M=(null===(A=t)&&$n(!1,"Form.Item","`null` is passed as `name` property"),!(null==A)),L=(0,r.useRef)([]);r.useEffect((function(){return function(){C.current=!0,x(L.current.join(za),[])}}),[]);var F=T("form",a),j=i?x:function(e,t,n){P((function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return n!==e&&delete r[n],Dn()(r[e],t)?r:g(g({},r),(0,De.Z)({},e,t))}))},U=function(){var e=r.useContext(gn).itemRef,t=r.useRef({});return function(n,r){var i=r&&"object"===ke(r)&&r.ref;return r=n.join("_"),t.current.name===r&&t.current.originRef===i||(t.current.name=r,t.current.originRef=i,t.current.ref=Ln(e(n),i)),t.current.ref}}();function V(t,n,o,a){if(i&&!_)return t;var c=[];Object.keys(O).forEach((function(e){c=[].concat(Ve(c),Ve(O[e]||[]))}));var f=null!=h?xn(h):(f=o?o.errors:[],[].concat(Ve(f),Ve(c))),d="";void 0!==p?d=p:null!=o&&o.validating?d="validating":null!==(m=null==o?void 0:o.errors)&&void 0!==m&&m.length||c.length?d="error":null!=o&&o.touched&&(d="success");var m=((0,De.Z)(m={},"".concat(F,"-item"),!0),(0,De.Z)(m,"".concat(F,"-item-with-help"),k||!!h),(0,De.Z)(m,"".concat(u),!!u),(0,De.Z)(m,"".concat(F,"-item-has-feedback"),d&&l),(0,De.Z)(m,"".concat(F,"-item-has-success"),"success"===d),(0,De.Z)(m,"".concat(F,"-item-has-warning"),"warning"===d),(0,De.Z)(m,"".concat(F,"-item-has-error"),"error"===d),(0,De.Z)(m,"".concat(F,"-item-is-validating"),"validating"===d),(0,De.Z)(m,"".concat(F,"-item-hidden"),_),m);return r.createElement(Yn,g({className:Le()(m),style:s,key:"row"},vn(E,["colon","extra","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","labelAlign","labelCol","normalize","preserve","tooltip","validateFirst","valuePropName","wrapperCol","_internalItemRender"])),r.createElement(Oa,g({htmlFor:n,required:a,requiredMark:S},e,{prefixCls:F})),r.createElement(Ba,g({},e,o,{errors:f,prefixCls:F,status:d,onDomErrorVisibleChange:D,validateStatus:d}),r.createElement(yn.Provider,{value:{updateItemErrors:j}},t)))}var q="function"==typeof d,B=(0,r.useRef)(0);return B.current+=1,M||q||o?(a={},"string"==typeof v&&(a.label=v),y&&(a=g(g({},a),y)),r.createElement(Gt,g({},e,{messageVariables:a,trigger:b,validateTrigger:R,onReset:function(){D(!1)}}),(function(a,s,u){var l,h=s.errors,p=xn(t).length&&s?s.name:[],v=kn(p,I);i&&(w=L.current.join(za),L.current=Ve(p),n&&(l=Array.isArray(n)?n:[n],L.current=[].concat(Ve(p.slice(0,-1)),Ve(l))),x(L.current.join(za),h,w));var y,w=void 0!==m?m:!(!f||!f.some((function(e){return!(!e||"object"!==ke(e)||!e.required)||"function"==typeof e&&((e=e(u))&&e.required)}))),_=g({},a);a=null;return $n(!(c&&o),"Form.Item","`shouldUpdate` and `dependencies` shouldn't be used together. See https://ant.design/components/form/#dependencies."),Array.isArray(d)&&M?($n(!1,"Form.Item","`children` is array of render props cannot have `name`."),a=d):q&&(!c&&!o||M)?($n(!(!c&&!o),"Form.Item","`children` of render props only work with `shouldUpdate` or `dependencies`."),$n(!M,"Form.Item","Do not use `name` with `children` of render props since it's not a field.")):!o||q||M?a=Ia(d)?($n(void 0===d.props.defaultValue,"Form.Item","`defaultValue` will not work on controlled Field. You should use `initialValues` of Form instead."),(y=g(g({},d.props),_)).id||(y.id=v),Fn(d)&&(y.ref=U(p,d)),new Set([].concat(Ve(xn(b)),Ve(xn(R)))).forEach((function(e){y[e]=function(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];null!==(n=_[e])&&void 0!==n&&n.call.apply(n,[_].concat(i)),null!==(n=(t=d.props)[e])&&void 0!==n&&n.call.apply(n,[t].concat(i))}})),r.createElement(Ha,{value:_[e.valuePropName||"value"],update:B.current},Sa(d,y))):q&&(c||o)&&!M?d(u):($n(!p.length,"Form.Item","`name` is only used for validate React element. If you are using Form.Item as layout display, please remove `name` instead."),d):$n(!1,"Form.Item","Must set `name` or use render props when `dependencies` is set."),V(a,v,s,w)}))):V(d)},nn=function(e){var t=e.prefixCls,n=e.children;e=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}(e,["prefixCls","children"]);$n(!!e.name,"Form.List","Miss `name` prop.");var i=(0,r.useContext(pn).getPrefixCls)("form",t);return r.createElement(Kt,e,(function(e,t,o){return r.createElement(bn.Provider,{value:{prefixCls:i,status:"error"}},n(e.map((function(e){return g(g({},e),{fieldKey:e.key})})),t,{errors:o.errors}))}))};(c=c).Item=cn,c.List=nn,c.ErrorList=Va,c.useForm=On,c.Provider=function(e){return e=vn(e,["prefixCls"]),r.createElement(Xt,e)},c.create=function(){$n(!1,"Form","antd v4 removed `Form.create`. Please remove or use `@ant-design/compatible` instead.")};const Wa=c;var Ga=Me("text","input");function Ka(e){return!!(e.prefix||e.suffix||e.allowClear)}function Za(e){return e.addonBefore||e.addonAfter}const Ya=function(){We(t,r.Component);var e=Ke(t);function t(){var n;return qe(this,t),(n=e.apply(this,arguments)).containerRef=r.createRef(),n.onInputMouseUp=function(e){var t;null===(t=n.containerRef.current)||void 0===t||!t.contains(e.target)||null!=(e=n.props.triggerFocus)&&e()},n}return ze(t,[{key:"renderClearIcon",value:function(e){var t=(a=this.props).allowClear,n=a.value,i=a.disabled,o=a.readOnly,a=a.handleReset;return t?(n=!i&&!o&&n,e="".concat(e,"-clear-icon"),r.createElement(Da,{onClick:a,className:Le()((0,De.Z)({},"".concat(e,"-hidden"),!n),e),role:"button"})):null}},{key:"renderSuffix",value:function(e){var t=(n=this.props).suffix,n=n.allowClear;return t||n?r.createElement("span",{className:"".concat(e,"-suffix")},this.renderClearIcon(e),t):null}},{key:"renderLabeledIcon",value:function(e,t){var n=this.props,i=n.focused,o=n.value,a=n.prefix,s=n.className,u=n.size,c=n.suffix,l=n.disabled,h=n.allowClear,f=n.direction,p=n.style,d=n.readOnly,m=n.bordered,v=this.renderSuffix(e);return Ka(this.props)?(n=a?r.createElement("span",{className:"".concat(e,"-prefix")},a):null,a=Le()("".concat(e,"-affix-wrapper"),((0,De.Z)(a={},"".concat(e,"-affix-wrapper-focused"),i),(0,De.Z)(a,"".concat(e,"-affix-wrapper-disabled"),l),(0,De.Z)(a,"".concat(e,"-affix-wrapper-sm"),"small"===u),(0,De.Z)(a,"".concat(e,"-affix-wrapper-lg"),"large"===u),(0,De.Z)(a,"".concat(e,"-affix-wrapper-input-with-clear-btn"),c&&h&&o),(0,De.Z)(a,"".concat(e,"-affix-wrapper-rtl"),"rtl"===f),(0,De.Z)(a,"".concat(e,"-affix-wrapper-readonly"),d),(0,De.Z)(a,"".concat(e,"-affix-wrapper-borderless"),!m),(0,De.Z)(a,"".concat(s),!Za(this.props)&&s),a)),r.createElement("span",{ref:this.containerRef,className:a,style:p,onMouseUp:this.onInputMouseUp},n,Sa(t,{style:null,value:o,className:Ja(e,m,u,l)}),v)):Sa(t,{value:o})}},{key:"renderInputWithLabel",value:function(e,t){var n=(l=this.props).addonBefore,i=l.addonAfter,o=l.style,a=l.size,s=l.className,u=l.direction;if(!Za(this.props))return t;var c="".concat(e,"-group"),l="".concat(c,"-addon");n=n?r.createElement("span",{className:l},n):null,l=i?r.createElement("span",{className:l},i):null,i=Le()("".concat(e,"-wrapper"),c,(0,De.Z)({},"".concat(c,"-rtl"),"rtl"===u)),s=Le()("".concat(e,"-group-wrapper"),((0,De.Z)(c={},"".concat(e,"-group-wrapper-sm"),"small"===a),(0,De.Z)(c,"".concat(e,"-group-wrapper-lg"),"large"===a),(0,De.Z)(c,"".concat(e,"-group-wrapper-rtl"),"rtl"===u),c),s);return r.createElement("span",{className:s,style:o},r.createElement("span",{className:i},n,Sa(t,{style:null}),l))}},{key:"renderTextAreaWithClearIcon",value:function(e,t){var n=(u=this.props).value,i=u.allowClear,o=u.className,a=u.style,s=u.direction,u=u.bordered;return i?(i=Le()("".concat(e,"-affix-wrapper"),"".concat(e,"-affix-wrapper-textarea-with-clear-btn"),((0,De.Z)(i={},"".concat(e,"-affix-wrapper-rtl"),"rtl"===s),(0,De.Z)(i,"".concat(e,"-affix-wrapper-borderless"),!u),(0,De.Z)(i,"".concat(o),!Za(this.props)&&o),i)),r.createElement("span",{className:i,style:a},Sa(t,{style:null,value:n}),this.renderClearIcon(e))):Sa(t,{value:n})}},{key:"render",value:function(){var e=(n=this.props).prefixCls,t=n.inputType,n=n.element;return t===Ga[0]?this.renderTextAreaWithClearIcon(e,n):this.renderInputWithLabel(e,this.renderLabeledIcon(e,n))}}]),t}();function $a(e){return null==e?"":e}function Qa(e,t,n,r){if(n){var i=t,o=e.value;return"click"===t.type?((i=Object.create(t)).target=e,(i.currentTarget=e).value="",n(i),void(e.value=o)):(void 0!==r&&((i=Object.create(t)).target=e,(i.currentTarget=e).value=r),void n(i))}}function Ja(e,t,n,r,i){var o;return Le()(e,((0,De.Z)(o={},"".concat(e,"-sm"),"small"===n),(0,De.Z)(o,"".concat(e,"-lg"),"large"===n),(0,De.Z)(o,"".concat(e,"-disabled"),r),(0,De.Z)(o,"".concat(e,"-rtl"),"rtl"===i),(0,De.Z)(o,"".concat(e,"-borderless"),!t),o))}function Xa(e,t){if(e&&(e.focus(t),t=(t||{}).cursor)){var n=e.value.length;switch(t){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(n,n);break;default:e.setSelectionRange(0,n)}}}(cn=function(){We(t,r.Component);var e=Ke(t);function t(n){var i;qe(this,t),(i=e.call(this,n)).direction="ltr",i.focus=function(e){Xa(i.input,e)},i.saveClearableInput=function(e){i.clearableInput=e},i.saveInput=function(e){i.input=e},i.onFocus=function(e){var t=i.props.onFocus;i.setState({focused:!0},i.clearPasswordValueAttribute),null!=t&&t(e)},i.onBlur=function(e){var t=i.props.onBlur;i.setState({focused:!1},i.clearPasswordValueAttribute),null!=t&&t(e)},i.handleReset=function(e){i.setValue("",(function(){i.focus()})),Qa(i.input,e,i.props.onChange)},i.renderInput=function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},a=(h=i.props).className,s=h.addonBefore,u=h.addonAfter,c=h.size,l=h.disabled,h=vn(i.props,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","size","inputType","bordered"]);return r.createElement("input",g({autoComplete:o.autoComplete},h,{onChange:i.handleChange,onFocus:i.onFocus,onBlur:i.onBlur,onKeyDown:i.handleKeyDown,className:Le()(Ja(e,n,c||t,l,i.direction),(0,De.Z)({},a,a&&!s&&!u)),ref:i.saveInput}))},i.clearPasswordValueAttribute=function(){i.removePasswordTimeout=setTimeout((function(){i.input&&"password"===i.input.getAttribute("type")&&i.input.hasAttribute("value")&&i.input.removeAttribute("value")}))},i.handleChange=function(e){i.setValue(e.target.value,i.clearPasswordValueAttribute),Qa(i.input,e,i.props.onChange)},i.handleKeyDown=function(e){var t=(n=i.props).onPressEnter,n=n.onKeyDown;t&&13===e.keyCode&&t(e),null!=n&&n(e)},i.renderComponent=function(e){var t=e.getPrefixCls,n=e.direction,o=e.input,a=(u=i.state).value,s=u.focused,u=(e=i.props).prefixCls,c=void 0===(e=e.bordered)||e,l=t("input",u);return i.direction=n,r.createElement(Rn.Consumer,null,(function(e){return r.createElement(Ya,g({size:e},i.props,{prefixCls:l,inputType:"input",value:$a(a),element:i.renderInput(l,e,c,o),handleReset:i.handleReset,ref:i.saveClearableInput,direction:n,focused:s,triggerFocus:i.focus,bordered:c}))}))};var o=void 0===n.value?n.defaultValue:n.value;return i.state={value:o,focused:!1,prevValue:n.value},i}return ze(t,[{key:"componentDidMount",value:function(){this.clearPasswordValueAttribute()}},{key:"componentDidUpdate",value:function(){}},{key:"getSnapshotBeforeUpdate",value:function(e){return Ka(e)!==Ka(this.props)&&$n(this.input!==document.activeElement,"Input","When Input is focused, dynamic add or remove prefix / suffix will make it lose focus caused by dom structure change. Read more: https://ant.design/components/input/#FAQ"),null}},{key:"componentWillUnmount",value:function(){this.removePasswordTimeout&&clearTimeout(this.removePasswordTimeout)}},{key:"blur",value:function(){this.input.blur()}},{key:"setSelectionRange",value:function(e,t,n){this.input.setSelectionRange(e,t,n)}},{key:"select",value:function(){this.input.select()}},{key:"setValue",value:function(e,t){void 0===this.props.value?this.setState({value:e},t):null!=t&&t()}},{key:"render",value:function(){return r.createElement(dn,null,this.renderComponent)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevValue;t={prevValue:e.value};return void 0===e.value&&n===e.value||(t.value=e.value),t}}]),t}()).defaultProps={type:"text"};const es=cn;nn=function(e){return r.createElement(dn,null,(function(t){var n=t.getPrefixCls,i=t.direction,o=e.prefixCls;t=void 0===(t=e.className)?"":t,n=n("input-group",o),t=Le()(n,((0,De.Z)(o={},"".concat(n,"-lg"),"large"===e.size),(0,De.Z)(o,"".concat(n,"-sm"),"small"===e.size),(0,De.Z)(o,"".concat(n,"-compact"),e.compact),(0,De.Z)(o,"".concat(n,"-rtl"),"rtl"===i),o),t);return r.createElement("span",{className:t,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},e.children)}))};const ts={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};(c=function(e,t){return r.createElement(Pr,Object.assign({},e,{ref:t,icon:ts}))}).displayName="SearchOutlined";const ns=r.forwardRef(c);function rs(e){return qe(this,rs),new Error("unreachable case: ".concat(JSON.stringify(e)))}cn=function(e){return r.createElement(dn,null,(function(t){var n=t.getPrefixCls,i=t.direction,o=e.prefixCls,a=e.size,s=e.className,u=(t=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}(e,["prefixCls","size","className"]),n=n("btn-group",o),"");switch(a){case"large":u="lg";break;case"small":u="sm";break;case"middle":case void 0:break;default:console.warn(new rs(a))}return s=Le()(n,((0,De.Z)(o={},"".concat(n,"-").concat(u),u),(0,De.Z)(o,"".concat(n,"-rtl"),"rtl"===i),o),s),r.createElement("div",g({},t,{className:s}))}))};var is,os=0,as={};function ss(e){var t=os++,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return as[t]=Vr((function r(){--n<=0?(e(),delete as[t]):as[t]=Vr(r)})),t}function us(e){return!e||null===e.offsetParent||e.hidden}ss.cancel=function(e){void 0!==e&&(Vr.cancel(as[e]),delete as[e])},ss.ids=as;var cs=function(){We(t,r.Component);var e=Ke(t);function t(){var n;return qe(this,t),(n=e.apply(this,arguments)).containerRef=r.createRef(),n.animationStart=!1,n.destroyed=!1,n.onClick=function(e,t){var r,i,o,a,s;!e||us(e)||0<=e.className.indexOf("-leave")||(r=n.props.insertExtraNode,n.extraNode=document.createElement("div"),i=He(n).extraNode,o=n.context.getPrefixCls,i.className="".concat(o(""),"-click-animating-node"),a=n.getAttributeName(),e.setAttribute(a,"true"),!t||"#ffffff"===t||"rgb(255, 255, 255)"===t||(s=((s=t)||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/))&&s[1]&&s[2]&&s[3]&&s[1]===s[2]&&s[2]===s[3]||/rgba\((?:\d*, ){3}0\)/.test(t)||"transparent"===t||(i.style.borderColor=t,s=(s=(null===(a=e.getRootNode)||void 0===a?void 0:a.call(e))||e.ownerDocument)instanceof Document?s.body:null!==(a=s.firstChild)&&void 0!==a?a:s,is=Cr("\n      [".concat(o(""),"-click-animating-without-extra-node='true']::after, .").concat(o(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(t,";\n      }"),"antd-wave",{csp:n.csp,attachTo:s})),r&&e.appendChild(i),["transition","animation"].forEach((function(t){e.addEventListener("".concat(t,"start"),n.onTransitionStart),e.addEventListener("".concat(t,"end"),n.onTransitionEnd)})))},n.onTransitionStart=function(e){var t;n.destroyed||(t=n.containerRef.current,e&&e.target===t&&!n.animationStart&&n.resetEffect(t))},n.onTransitionEnd=function(e){e&&"fadeEffect"===e.animationName&&n.resetEffect(e.target)},n.bindAnimationEvent=function(e){if(e&&e.getAttribute&&!e.getAttribute("disabled")&&!(0<=e.className.indexOf("disabled"))){var t=function(t){var r;"INPUT"===t.target.tagName||us(t.target)||(n.resetEffect(e),r=getComputedStyle(e).getPropertyValue("border-top-color")||getComputedStyle(e).getPropertyValue("border-color")||getComputedStyle(e).getPropertyValue("background-color"),n.clickWaveTimeoutId=window.setTimeout((function(){return n.onClick(e,r)}),0),ss.cancel(n.animationStartId),n.animationStart=!0,n.animationStartId=ss((function(){n.animationStart=!1}),10))};return e.addEventListener("click",t,!0),{cancel:function(){e.removeEventListener("click",t,!0)}}}},n.renderWave=function(e){var t=e.csp;e=n.props.children;return n.csp=t,r.isValidElement(e)?(t=n.containerRef,Sa(e,{ref:t=Fn(e)?Ln(e.ref,n.containerRef):t})):e},n}return ze(t,[{key:"componentDidMount",value:function(){var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t,n,r=this;e&&e!==this.extraNode&&e instanceof Element&&(t=this.props.insertExtraNode,n=this.getAttributeName(),e.setAttribute(n,"false"),is&&(is.innerHTML=""),t&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(t){e.removeEventListener("".concat(t,"start"),r.onTransitionStart),e.removeEventListener("".concat(t,"end"),r.onTransitionEnd)})))}},{key:"render",value:function(){return r.createElement(dn,null,this.renderWave)}}]),t}();function ls(){return{width:0,opacity:0,transform:"scale(0)"}}function hs(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}}cs.contextType=pn;const fs=function(e){var t=e.prefixCls,n=!!e.loading;return e.existIcon?r.createElement("span",{className:"".concat(t,"-loading-icon")},r.createElement(Aa,null)):r.createElement(ki,{visible:n,motionName:"".concat(t,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:ls,onAppearActive:hs,onEnterStart:ls,onEnterActive:hs,onLeaveStart:hs,onLeaveActive:ls},(function(e,n){var i=e.className;e=e.style;return r.createElement("span",{className:"".concat(t,"-loading-icon"),style:e,ref:n},r.createElement(Aa,{className:i}))}))};var ps=(c=/^[\u4e00-\u9fa5]{2}$/).test.bind(c);function ds(e){return"text"===e||"link"===e}Me("default","primary","ghost","dashed","link","text"),Me("circle","round"),Me("submit","button","reset"),Me=function(e,t){function n(){return 1===r.Children.count(h)&&!f&&!ds(a)}var i=void 0!==(v=e.loading)&&v,o=e.prefixCls,a=e.type,s=e.danger,u=e.shape,c=e.size,l=e.className,h=e.children,f=e.icon,p=void 0!==(y=e.ghost)&&y,d=void 0!==(I=e.block)&&I,m=void 0===(C=e.htmlType)?"button":C,v=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}(e,["loading","prefixCls","type","danger","shape","size","className","children","icon","ghost","block","htmlType"]),y=r.useContext(Rn),b=(I=Re(r.useState(!!i),2))[0],w=I[1],_=(C=Re(r.useState(!1),2))[0],E=C[1],C=(I=r.useContext(pn)).getPrefixCls,T=I.autoInsertSpaceInButton,I=I.direction,S=t||r.createRef(),x=r.useRef(),k="object"===ke(i)&&i.delay?i.delay||!0:!!i;r.useEffect((function(){clearTimeout(x.current),"number"==typeof k?x.current=window.setTimeout((function(){w(k)}),k):w(k)}),[k]),r.useEffect((function(){var e;S&&S.current&&!1!==T&&(e=S.current.textContent,n()&&ps(e)?_||E(!0):_&&E(!1))}),[S]),i=function(t){var n=e.onClick,r=e.disabled;b||r?t.preventDefault():null!=n&&n(t)},$n(!("string"==typeof f&&2<f.length),"Button","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(f,"` at https://ant.design/components/icon")),$n(!(p&&ds(a)),"Button","`link` or `text` button can't be a `ghost` button.");C=C("btn",o),o=!1!==T;var N="";switch(c||y){case"large":N="lg";break;case"small":N="sm"}return c=b?"loading":f,y=Le()(C,((0,De.Z)(y={},"".concat(C,"-").concat(a),a),(0,De.Z)(y,"".concat(C,"-").concat(u),u),(0,De.Z)(y,"".concat(C,"-").concat(N),N),(0,De.Z)(y,"".concat(C,"-icon-only"),!h&&0!==h&&!!c),(0,De.Z)(y,"".concat(C,"-background-ghost"),p&&!ds(a)),(0,De.Z)(y,"".concat(C,"-loading"),b),(0,De.Z)(y,"".concat(C,"-two-chinese-chars"),_&&o),(0,De.Z)(y,"".concat(C,"-block"),d),(0,De.Z)(y,"".concat(C,"-dangerous"),!!s),(0,De.Z)(y,"".concat(C,"-rtl"),"rtl"===I),y),l),l=f&&!b?f:r.createElement(fs,{existIcon:!!f,prefixCls:C,loading:!!b}),C=h||0===h?function(e,t){var n=!1,i=[];return r.Children.forEach(e,(function(e){var t,r=ke(e),o="string"===r||"number"===r;n&&o?(t=i.length-1,r=i[t],i[t]="".concat(r).concat(e)):i.push(e),n=o})),r.Children.map(i,(function(e){return function(e,t){if(null!=e)return t=t?" ":"","string"!=typeof e&&"number"!=typeof e&&"string"==typeof e.type&&ps(e.props.children)?Sa(e,{children:e.props.children.split("").join(t)}):"string"==typeof e?(ps(e)&&(e=e.split("").join(t)),r.createElement("span",null,e)):e}(e,t)}))}(h,n()&&o):null,void 0!==(o=vn(v,["navigate"])).href?r.createElement("a",g({},o,{className:y,onClick:i,ref:S}),l,C):(C=r.createElement("button",g({},v,{type:m,className:y,onClick:i,ref:S}),l,C),ds(a)?C:r.createElement(cs,null,C))},(Me=r.forwardRef(Me)).displayName="Button",Me.Group=cn,Me.__ANT_BUTTON=!0;const ms=Me;(cn=r.forwardRef((function(e,t){var n=e.prefixCls,i=e.inputPrefixCls,o=e.className,a=e.size,s=e.suffix,u=void 0!==(_=e.enterButton)&&_,c=e.addonAfter,l=e.loading,h=e.disabled,f=e.onSearch,p=e.onChange,d=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange"]),m=(E=r.useContext(pn)).getPrefixCls,v=E.direction,y=r.useContext(Rn),b=a||y,w=r.useRef(null),_=function(e){var t;document.activeElement===(null===(t=w.current)||void 0===t?void 0:t.input)&&e.preventDefault()},E=(e=function(e){var t;f&&f(null===(t=w.current)||void 0===t?void 0:t.input.value,e)},m("input-search",n));a=m("input",i),y="boolean"==typeof u||void 0===u?r.createElement(ns,null):null,n="".concat(E,"-button"),y=(i=(m=u||{}).type&&!0===m.type.__ANT_BUTTON)||"button"===m.type?Sa(m,g({onMouseDown:_,onClick:e,key:"enterButton"},i?{className:n,size:b}:{})):r.createElement(ms,{className:n,type:u?"primary":void 0,size:b,disabled:h,key:"enterButton",onMouseDown:_,onClick:e,loading:l,icon:y},u);return c&&(y=[y,Sa(c,{key:"addonAfter"})]),o=Le()(E,((0,De.Z)(c={},"".concat(E,"-rtl"),"rtl"===v),(0,De.Z)(c,"".concat(E,"-").concat(b),!!b),(0,De.Z)(c,"".concat(E,"-with-button"),!!u),c),o),r.createElement(es,g({ref:Ln(w,t),onPressEnter:e},d,{size:b,prefixCls:a,addonAfter:y,suffix:s,onChange:function(e){e&&e.target&&"click"===e.type&&f&&f(e.target.value,e),p&&p(e)},className:o,disabled:h}))}))).displayName="Search",Me=cn,(cn=function(){We(t,r.Component);var e=Ke(t);function t(){var n;return qe(this,t),(n=e.apply(this,arguments)).resizeObserver=null,n.childNode=null,n.currentElement=null,n.state={width:0,height:0,offsetHeight:0,offsetWidth:0},n.onResize=function(e){var t,r=n.props.onResize,i=e[0].target,o=(e=(o=i.getBoundingClientRect()).width,o.height),a=i.offsetWidth,s=i.offsetHeight;e=Math.floor(e),o=Math.floor(o);n.state.width===e&&n.state.height===o&&n.state.offsetWidth===a&&n.state.offsetHeight===s||(n.setState(t={width:e,height:o,offsetWidth:a,offsetHeight:s}),r&&Promise.resolve().then((function(){r((0,je.Z)((0,je.Z)({},t),{},{offsetWidth:a,offsetHeight:s}),i)})))},n.setChildNode=function(e){n.childNode=e},n}return ze(t,[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"componentDidUpdate",value:function(){this.onComponentUpdated()}},{key:"componentWillUnmount",value:function(){this.destroyObserver()}},{key:"onComponentUpdated",value:function(){var e;this.props.disabled?this.destroyObserver():((e=Br(this.childNode||this))!==this.currentElement&&(this.destroyObserver(),this.currentElement=e),!this.resizeObserver&&e&&(this.resizeObserver=new ta(this.onResize),this.resizeObserver.observe(e)))}},{key:"destroyObserver",value:function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}},{key:"render",value:function(){var e=Ze(this.props.children);if(1<e.length)Qe(!1,"Find more than one child node with `children` in ResizeObserver. Will only observe first one.");else if(0===e.length)return Qe(!1,"`children` of ResizeObserver is empty. Nothing is in observe."),null;var t,n=e[0];return r.isValidElement(n)&&Fn(n)&&(t=n.ref,e[0]=r.cloneElement(n,{ref:Ln(t,this.setChildNode)})),1===e.length?e[0]:e.map((function(e,t){return!r.isValidElement(e)||"key"in e&&null!==e.key?e:r.cloneElement(e,{key:"".concat("rc-observer-key","-").concat(t)})}))}}]),t}()).displayName="ResizeObserver";const vs=cn;var gs,ys,bs="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",ws=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"],_s={};(cn=ys=ys||{})[cn.NONE=0]="NONE",cn[cn.RESIZING=1]="RESIZING",cn[cn.RESIZED=2]="RESIZED";const Es=function(){We(t,r.Component);var e=Ke(t);function t(n){var i;return qe(this,t),(i=e.call(this,n)).saveTextArea=function(e){i.textArea=e},i.handleResize=function(e){var t=i.state.resizeStatus,n=(r=i.props).autoSize,r=r.onResize;t===ys.NONE&&("function"==typeof r&&r(e),n&&i.resizeOnNextFrame())},i.resizeOnNextFrame=function(){cancelAnimationFrame(i.nextFrameActionId),i.nextFrameActionId=requestAnimationFrame(i.resizeTextarea)},i.resizeTextarea=function(){var e,t=i.props.autoSize;t&&i.textArea&&(e=t.minRows,t=t.maxRows,t=function(e,t,n,r){var i=1<arguments.length&&void 0!==t&&t,o=2<arguments.length&&void 0!==n?n:null,a=3<arguments.length&&void 0!==r?r:null;gs||((gs=document.createElement("textarea")).setAttribute("tab-index","-1"),gs.setAttribute("aria-hidden","true"),document.body.appendChild(gs)),e.getAttribute("wrap")?gs.setAttribute("wrap",e.getAttribute("wrap")):gs.removeAttribute("wrap");var s=(c=function(e,t){var n=1<arguments.length&&void 0!==t&&t,r=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(n&&_s[r])return _s[r];var i=window.getComputedStyle(e),o=i.getPropertyValue("box-sizing")||i.getPropertyValue("-moz-box-sizing")||i.getPropertyValue("-webkit-box-sizing");return t=parseFloat(i.getPropertyValue("padding-bottom"))+parseFloat(i.getPropertyValue("padding-top")),e=parseFloat(i.getPropertyValue("border-bottom-width"))+parseFloat(i.getPropertyValue("border-top-width")),o={sizingStyle:ws.map((function(e){return"".concat(e,":").concat(i.getPropertyValue(e))})).join(";"),paddingSize:t,borderSize:e,boxSizing:o},n&&r&&(_s[r]=o),o}(e,i)).paddingSize;t=c.borderSize,n=c.boxSizing,r=c.sizingStyle,gs.setAttribute("style","".concat(r,";").concat(bs)),gs.value=e.value||e.placeholder||"",i=Number.MIN_SAFE_INTEGER;var u,c=Number.MAX_SAFE_INTEGER;return r=gs.scrollHeight,"border-box"===n?r+=t:"content-box"===n&&(r-=s),null===o&&null===a||(gs.value=" ",e=gs.scrollHeight-s,null!==o&&(i=e*o,"border-box"===n&&(i=i+s+t),r=Math.max(i,r)),null!==a&&(c=e*a,u=(c="border-box"===n?c+s+t:c)<r?"":"hidden",r=Math.min(c,r))),{height:r,minHeight:i,maxHeight:c,overflowY:u,resize:"none"}}(i.textArea,!1,e,t),i.setState({textareaStyles:t,resizeStatus:ys.RESIZING},(function(){cancelAnimationFrame(i.resizeFrameId),i.resizeFrameId=requestAnimationFrame((function(){i.setState({resizeStatus:ys.RESIZED},(function(){i.resizeFrameId=requestAnimationFrame((function(){i.setState({resizeStatus:ys.NONE}),i.fixFirefoxAutoScroll()}))}))}))})))},i.renderTextArea=function(){var e=void 0===(s=(u=i.props).prefixCls)?"rc-textarea":s,t=u.autoSize,n=u.onResize,o=u.className,a=u.disabled,s=(c=i.state).textareaStyles,u=c.resizeStatus,c=vn(i.props,["prefixCls","onPressEnter","autoSize","defaultValue","onResize"]);a=Le()(e,o,(0,De.Z)({},"".concat(e,"-disabled"),a));return"value"in c&&(c.value=c.value||""),u=(0,je.Z)((0,je.Z)((0,je.Z)({},i.props.style),s),u===ys.RESIZING?{overflowX:"hidden",overflowY:"hidden"}:null),r.createElement(vs,{onResize:i.handleResize,disabled:!(t||n)},r.createElement("textarea",g({},c,{className:a,style:u,ref:i.saveTextArea})))},i.state={textareaStyles:{},resizeStatus:ys.NONE},i}return ze(t,[{key:"componentDidMount",value:function(){this.resizeTextarea()}},{key:"componentDidUpdate",value:function(e){e.value!==this.props.value&&this.resizeTextarea()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.nextFrameActionId),cancelAnimationFrame(this.resizeFrameId)}},{key:"fixFirefoxAutoScroll",value:function(){try{var e,t;document.activeElement===this.textArea&&(e=this.textArea.selectionStart,t=this.textArea.selectionEnd,this.textArea.setSelectionRange(e,t))}catch(e){}}},{key:"render",value:function(){return this.renderTextArea()}}]),t}(),Cs=function(){We(t,r.Component);var e=Ke(t);function t(n){var r;return qe(this,t),(r=e.call(this,n)).focus=function(){r.resizableTextArea.textArea.focus()},r.saveTextArea=function(e){r.resizableTextArea=e},r.handleChange=function(e){var t=r.props.onChange;r.setValue(e.target.value,(function(){r.resizableTextArea.resizeTextarea()})),t&&t(e)},r.handleKeyDown=function(e){var t=(n=r.props).onPressEnter,n=n.onKeyDown;13===e.keyCode&&t&&t(e),n&&n(e)},n=void 0===n.value||null===n.value?n.defaultValue:n.value,r.state={value:n},r}return ze(t,[{key:"setValue",value:function(e,t){"value"in this.props||this.setState({value:e},t)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return r.createElement(Es,g({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?{value:e.value}:null}}]),t}();function Ts(e,t){return Ve(e||"").slice(0,t).join("")}const Is=r.forwardRef((function(e,t){function n(e,t){void 0===m.value&&(T(e),null!=t&&t())}var i,o=e.prefixCls,a=void 0===(y=e.bordered)||y,s=void 0!==(b=e.showCount)&&b,u=e.maxLength,c=e.className,l=e.style,h=e.size,f=e.onCompositionStart,p=e.onCompositionEnd,d=e.onChange,m=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}(e,["prefixCls","bordered","showCount","maxLength","className","style","size","onCompositionStart","onCompositionEnd","onChange"]),v=(i=r.useContext(pn)).getPrefixCls,y=i.direction,b=r.useContext(Rn),w=r.useRef(null),_=(e=r.useRef(null),(i=Re(r.useState(!1),2))[0]),E=i[1],C=(i=Re(wa(m.defaultValue,{value:m.value}),2))[0],T=i[1],I=0<Number(u);o=v("input",o);return r.useImperativeHandle(t,(function(){var e;return{resizableTextArea:null===(e=w.current)||void 0===e?void 0:e.resizableTextArea,focus:function(e){var t;Xa(null===(t=null===(t=w.current)||void 0===t?void 0:t.resizableTextArea)||void 0===t?void 0:t.textArea,e)},blur:function(){var e;return null===(e=w.current)||void 0===e?void 0:e.blur()}}})),h=r.createElement(Cs,g({},vn(m,["allowClear"]),{className:Le()(((0,De.Z)(t={},"".concat(o,"-borderless"),!a),(0,De.Z)(t,c,c&&!s),(0,De.Z)(t,"".concat(o,"-sm"),"small"===b||"small"===h),(0,De.Z)(t,"".concat(o,"-lg"),"large"===b||"large"===h),t)),style:s?void 0:l,prefixCls:o,onCompositionStart:function(e){E(!0),null!=f&&f(e)},onChange:function(e){var t=e.target.value;!_&&I&&(t=Ts(t,u)),n(t),Qa(e.currentTarget,e,d,t)},onCompositionEnd:function(e){E(!1);var t=e.currentTarget.value;(t=I?Ts(t,u):t)!==C&&(n(t),Qa(e.currentTarget,e,d,t)),null!=p&&p(e)},ref:w})),t=$a(C),_||!I||null!==m.value&&void 0!==m.value||(t=Ts(t,u)),e=r.createElement(Ya,g({},m,{prefixCls:o,direction:y,inputType:"text",value:t,element:h,handleReset:function(e){var t;n("",(function(){var e;null!==(e=w.current)&&void 0!==e&&e.focus()})),Qa(null===(t=null===(t=w.current)||void 0===t?void 0:t.resizableTextArea)||void 0===t?void 0:t.textArea,e,d)},ref:e,bordered:a})),s?(a=Ve(t).length,t="",t="object"===ke(s)?s.formatter({count:a,maxLength:u}):"".concat(a).concat(I?" / ".concat(u):""),r.createElement("div",{className:Le()("".concat(o,"-textarea"),(0,De.Z)({},"".concat(o,"-textarea-rtl"),"rtl"===y),"".concat(o,"-textarea-show-count"),c),style:l,"data-count":t},e)):e})),Ss={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};(cn=function(e,t){return r.createElement(Pr,Object.assign({},e,{ref:t,icon:Ss}))}).displayName="EyeOutlined";const xs=r.forwardRef(cn),ks={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};(cn=function(e,t){return r.createElement(Pr,Object.assign({},e,{ref:t,icon:ks}))}).displayName="EyeInvisibleOutlined";const Ns=r.forwardRef(cn);var Os={click:"onClick",hover:"onMouseOver"};(cn=r.forwardRef((function(e,t){function n(){e.disabled||o(!i)}var i=(a=Re((0,r.useState)(!1),2))[0],o=a[1],a=function(o){var a=o.getPrefixCls,s=e.className,u=e.prefixCls,c=e.inputPrefixCls,l=e.size,h=e.visibilityToggle,f=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}(e,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),p=(o=a("input",c),c=a("input-password",u),h&&(a=c,u=e.action,p=void 0===(h=e.iconRender)?function(){return null}:h,h=Os[u]||"",u=p(i),(0,De.Z)(p={},h,n),(0,De.Z)(p,"className","".concat(a,"-icon")),(0,De.Z)(p,"key","passwordIcon"),(0,De.Z)(p,"onMouseDown",(function(e){e.preventDefault()})),(0,De.Z)(p,"onMouseUp",(function(e){e.preventDefault()})),r.cloneElement(r.isValidElement(u)?u:r.createElement("span",null,u),p)));c=Le()(c,s,(0,De.Z)({},"".concat(c,"-").concat(l),!!l)),p=g(g({},vn(f,["suffix","iconRender"])),{type:i?"text":"password",className:c,prefixCls:o,suffix:p});return l&&(p.size=l),r.createElement(es,g({ref:t},p))};return r.createElement(dn,null,a)}))).defaultProps={action:"click",visibilityToggle:!0,iconRender:function(e){return e?r.createElement(xs,null):r.createElement(Ns,null)}},cn.displayName="Password",es.Group=nn,es.Search=Me,es.TextArea=Is,es.Password=cn;const Ps=es;Me=function(e,t){var n=e.prefixCls,i=void 0===(s=e.component)?"article":s,o=e.className,a=e["aria-label"],s=e.setContentRef,u=e.children,c=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}(e,["prefixCls","component","className","aria-label","setContentRef","children"]),l=t;return s&&($n(!1,"Typography","`setContentRef` is deprecated. Please use `ref` instead."),l=Ln(t,s)),r.createElement(dn,null,(function(e){var t=e.getPrefixCls,s=e.direction;e=i,t=t("typography",n),s=Le()(t,(0,De.Z)({},"".concat(t,"-rtl"),"rtl"===s),o);return r.createElement(e,g({className:s,"aria-label":a,ref:l},c),u)}))};(cn=r.forwardRef(Me)).displayName="Typography";const As=cn;Me=n(640);var Rs=n.n(Me);const Ds={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};(cn=function(e,t){return r.createElement(Pr,Object.assign({},e,{ref:t,icon:Ds}))}).displayName="EditOutlined";const Ms=r.forwardRef(cn),Ls={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};(Me=function(e,t){return r.createElement(Pr,Object.assign({},e,{ref:t,icon:Ls}))}).displayName="CheckOutlined";const Fs=r.forwardRef(Me),js={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};(cn=function(e,t){return r.createElement(Pr,Object.assign({},e,{ref:t,icon:js}))}).displayName="CopyOutlined";const Us=r.forwardRef(cn);var Vs=g({},on.Modal);function qs(e){Vs=e?g(g({},Vs),e):g({},on.Modal)}var Bs="internalMark",zs=function(){We(t,r.Component);var e=Ke(t);function t(n){var r;return qe(this,t),r=e.call(this,n),qs(n.locale&&n.locale.Modal),$n(n._ANT_MARK__===Bs,"LocaleProvider","`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead: http://u.ant.design/locale"),r}return ze(t,[{key:"componentDidMount",value:function(){qs(this.props.locale&&this.props.locale.Modal)}},{key:"componentDidUpdate",value:function(e){var t=this.props.locale;e.locale!==t&&qs(t&&t.Modal)}},{key:"componentWillUnmount",value:function(){qs()}},{key:"render",value:function(){var e=(t=this.props).locale,t=t.children;return r.createElement(sn.Provider,{value:g(g({},e),{exist:!0})},t)}}]),t}();zs.defaultProps={locale:{}};var Hs=function(){We(t,r.Component);var e=Ke(t);function t(){var n;qe(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).closeTimer=null,n.close=function(e){e&&e.stopPropagation(),n.clearCloseTimer();e=(t=n.props).onClose;var t=t.noticeKey;e&&e(t)},n.startCloseTimer=function(){n.props.duration&&(n.closeTimer=window.setTimeout((function(){n.close()}),1e3*n.props.duration))},n.clearCloseTimer=function(){n.closeTimer&&(clearTimeout(n.closeTimer),n.closeTimer=null)},n}return ze(t,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=(h=this.props).prefixCls,n=h.className,o=h.closable,a=h.closeIcon,s=h.style,u=h.onClick,c=h.children,l=h.holder,h="".concat(t,"-notice");t=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),h=r.createElement("div",g({className:Le()(h,n,(0,De.Z)({},"".concat(h,"-closable"),o)),style:s,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:u},t),r.createElement("div",{className:"".concat(h,"-content")},c),o?r.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(h,"-close")},a||r.createElement("span",{className:"".concat(h,"-close-x")})):null);return l?i.createPortal(h,l):h}}]),t}();function Ws(e){var t=r.useRef({}),n=Re(r.useState([]),2),i=n[0],o=n[1];return[function(n){var i=!0;e.add(n,(function(e,n){var a,s=n.key;!e||t.current[s]&&!i||(a=r.createElement(Hs,g({},n,{holder:e})),t.current[s]=a,o((function(e){var t=e.findIndex((function(e){return e.key===n.key}));return-1===t?[].concat(Ve(e),[a]):((e=Ve(e))[t]=a,e)}))),i=!1}))},r.createElement(r.Fragment,null,i)]}Hs.defaultProps={onClose:function(){},duration:1.5};var Gs=0,Ks=Date.now();function Zs(){var e=Gs;return Gs+=1,"rcNotification_".concat(Ks,"_").concat(e)}var Ys=function(){We(t,r.Component);var e=Ke(t);function t(){var n;qe(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).state={notices:[]},n.hookRefs=new Map,n.add=function(e,t){var r=e.key||Zs(),i=(0,je.Z)((0,je.Z)({},e),{},{key:r}),o=n.props.maxCount;n.setState((function(e){var n=e.notices,a=n.map((function(e){return e.notice.key})).indexOf(r);e=n.concat();return-1!==a?e.splice(a,1,{notice:i,holderCallback:t}):(o&&n.length>=o&&(i.key=e[0].notice.key,i.updateMark=Zs(),i.userPassKey=r,e.shift()),e.push({notice:i,holderCallback:t})),{notices:e}}))},n.remove=function(e){n.setState((function(t){return{notices:t.notices.filter((function(t){var n=t.notice;t=n.key;return(n.userPassKey||t)!==e}))}}))},n.noticePropsMap={},n}return ze(t,[{key:"getTransitionName",value:function(){var e,t=(e=this.props).prefixCls,n=e.animation;return!(e=this.props.transitionName)&&n?"".concat(t,"-").concat(n):e}},{key:"render",value:function(){var e=this,t=this.state.notices,n=(a=this.props).prefixCls,i=a.className,o=a.closeIcon,a=a.style,s=[];return t.forEach((function(r,i){var a=r.notice,u=r.holderCallback,c=i===t.length-1?a.updateMark:void 0;r=a.key,i=a.userPassKey,c=(0,je.Z)((0,je.Z)((0,je.Z)({prefixCls:n,closeIcon:o},a),a.props),{},{key:r,noticeKey:i||r,updateMark:c,onClose:function(t){e.remove(t),null!==(t=a.onClose)&&void 0!==t&&t.call(a)},onClick:a.onClick,children:a.content});s.push(r),e.noticePropsMap[r]={props:c,holderCallback:u}})),r.createElement("div",{className:Le()(n,i),style:a},r.createElement(xi,{keys:s,motionName:this.getTransitionName(),onVisibleChanged:function(t,n){n=n.key,t||delete e.noticePropsMap[n]}},(function(t){var i=t.key,o=t.className,a=t.style,s=t.visible,u=(t=e.noticePropsMap[i]).props,c=t.holderCallback;return c?r.createElement("div",{key:i,className:Le()(o,"".concat(n,"-hook-holder")),style:(0,je.Z)({},a),ref:function(t){void 0!==i&&(t?(e.hookRefs.set(i,t),c(t,u)):e.hookRefs.delete(i))}}):r.createElement(Hs,g({},u,{className:Le()(o,null==u?void 0:u.className),style:(0,je.Z)((0,je.Z)({},a),null==u?void 0:u.style),visible:s}))})))}}]),t}();Ys.newInstance=void 0,Ys.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},Ys.newInstance=function(e,t){e=(n=e||{}).getContainer;var n=Fe(n,["getContainer"]),o=document.createElement("div");(e?e():document.body).appendChild(o);var a=!1;i.render(r.createElement(Ys,g({},n,{ref:function(e){a||(a=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){i.unmountComponentAtNode(o),o.parentNode&&o.parentNode.removeChild(o)},useNotification:function(){return Ws(e)}}))}})),o)};const $s=Ys,Qs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};var Js,Xs,eu,tu,nu=3,ru=1,iu="",ou="move-up",au=!((Me=function(e,t){return r.createElement(Pr,Object.assign({},e,{ref:t,icon:Qs}))}).displayName="InfoCircleFilled"),su=!1;function uu(e,t){var n=e.prefixCls,r=(i=zu()).getPrefixCls,i=i.getRootPrefixCls,o=r("message",n||iu),a=i(e.rootPrefixCls,o);Js?t({prefixCls:o,rootPrefixCls:a,instance:Js}):(e={prefixCls:o,transitionName:au?ou:"".concat(a,"-").concat(ou),style:{top:Xs},getContainer:eu,maxCount:tu},$s.newInstance(e,(function(e){t(Js?{prefixCls:o,rootPrefixCls:a,instance:Js}:{prefixCls:o,rootPrefixCls:a,instance:Js=e})})))}var cu={info:r.forwardRef(Me),success:s,error:Da,warning:X,loading:Aa};function lu(e,t){var n=void 0!==e.duration?e.duration:nu,i=cu[e.type],o=Le()("".concat(t,"-custom-content"),((0,De.Z)(o={},"".concat(t,"-").concat(e.type),e.type),(0,De.Z)(o,"".concat(t,"-rtl"),!0===su),o));return{key:e.key,duration:n,style:e.style||{},className:e.className,content:r.createElement("div",{className:o},e.icon||i&&r.createElement(i,null),r.createElement("span",null,e.content)),onClose:e.onClose,onClick:e.onClick}}var hu,fu,pu={open:function(e){function t(){Js&&Js.removeNotice(n)}var n=e.key||ru++,r=new Promise((function(t){function r(){return"function"==typeof e.onClose&&e.onClose(),t(!0)}uu(e,(function(t){var i=t.prefixCls;t.instance.notice(lu(g(g({},e),{key:n,onClose:r}),i))}))}));return t.then=function(e,t){return r.then(e,t)},t.promise=r,t},config:function(e){void 0!==e.top&&(Xs=e.top,Js=null),void 0!==e.duration&&(nu=e.duration),void 0!==e.prefixCls&&(iu=e.prefixCls),void 0!==e.getContainer&&(eu=e.getContainer),void 0!==e.transitionName&&(ou=e.transitionName,au=!(Js=null)),void 0!==e.maxCount&&(tu=e.maxCount,Js=null),void 0!==e.rtl&&(su=e.rtl)},destroy:function(e){Js&&(e?(0,Js.removeNotice)(e):((0,Js.destroy)(),Js=null))}};function du(e,t){e[t]=function(n,r,i){return o=n,"[object Object]"===Object.prototype.toString.call(o)&&o.content?e.open(g(g({},n),{type:t})):("function"==typeof r&&(i=r,r=void 0),e.open({content:n,duration:r,type:t,onClose:i}));var o}}["success","info","warning","error","loading"].forEach((function(e){return du(pu,e)})),pu.warn=pu.warning,pu.useMessage=(hu=uu,fu=lu,function(){var e,t=null,n=Re(Ws({add:function(e,n){null!=t&&t.component.add(e,n)}}),2),i=n[0],o=n[1],a=r.useRef({});return a.current.open=function(n){var r=n.prefixCls,o=e("message",r),a=e(),s=n.key||ru++,u=new Promise((function(e){function r(){return"function"==typeof n.onClose&&n.onClose(),e(!0)}hu(g(g({},n),{prefixCls:o,rootPrefixCls:a}),(function(e){var o=e.prefixCls;e=e.instance;t=e,i(fu(g(g({},n),{key:s,onClose:r}),o))}))}));return(r=function(){t&&t.removeNotice(s)}).then=function(e,t){return u.then(e,t)},r.promise=u,r},["success","info","warning","error","loading"].forEach((function(e){return du(a.current,e)})),[a.current,r.createElement(dn,{key:"holder"},(function(t){return e=t.getPrefixCls,o}))]});const mu=pu,vu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"};(cn=function(e,t){return r.createElement(Pr,Object.assign({},e,{ref:t,icon:vu}))}).displayName="CloseOutlined";const gu=r.forwardRef(cn),yu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};(Me=function(e,t){return r.createElement(Pr,Object.assign({},e,{ref:t,icon:yu}))}).displayName="CheckCircleOutlined",s=r.forwardRef(Me);const bu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"};(X=function(e,t){return r.createElement(Pr,Object.assign({},e,{ref:t,icon:bu}))}).displayName="CloseCircleOutlined",cn=r.forwardRef(X);const wu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};(Me=function(e,t){return r.createElement(Pr,Object.assign({},e,{ref:t,icon:wu}))}).displayName="ExclamationCircleOutlined",X=r.forwardRef(Me);const _u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};var Eu,Cu,Tu={},Iu=4.5,Su=24,xu=24,ku="",Nu="topRight",Ou=!((Me=function(e,t){return r.createElement(Pr,Object.assign({},e,{ref:t,icon:_u}))}).displayName="InfoCircleOutlined");function Pu(e,t){var n,i,o=void 0===(l=e.placement)?Nu:l,a=e.top,s=e.bottom,u=void 0===(c=e.getContainer)?Eu:c,c=void 0===(l=e.closeIcon)?Cu:l,l=e.prefixCls,h=(0,zu().getPrefixCls)("notification",l||ku);e="".concat(h,"-").concat(o);(l=Tu[e])?Promise.resolve(l).then((function(e){t({prefixCls:"".concat(h,"-notice"),instance:e})})):(n=r.createElement("span",{className:"".concat(h,"-close-x")},c||r.createElement(gu,{className:"".concat(h,"-close-icon")})),i=Le()("".concat(h,"-").concat(o),(0,De.Z)({},"".concat(h,"-rtl"),!0===Ou)),Tu[e]=new Promise((function(e){$s.newInstance({prefixCls:h,className:i,style:function(e,t,n){var r,i=1<arguments.length&&void 0!==t?t:Su,o=2<arguments.length&&void 0!==n?n:xu;switch(e){case"topLeft":r={left:0,top:i,bottom:"auto"};break;case"topRight":r={right:0,top:i,bottom:"auto"};break;case"bottomLeft":r={left:0,top:"auto",bottom:o};break;default:r={right:0,top:"auto",bottom:o}}return r}(o,a,s),getContainer:u,closeIcon:n},(function(n){e(n),t({prefixCls:"".concat(h,"-notice"),instance:n})}))})))}var Au={success:s,info:r.forwardRef(Me),error:cn,warning:X};function Ru(e,t){var n=e.duration,i=e.icon,o=e.type,a=e.description,s=e.message,u=e.btn,c=e.onClose,l=e.onClick,h=e.key,f=e.style,p=e.className,d=void 0===n?Iu:n;n=null;return i?n=r.createElement("span",{className:"".concat(t,"-icon")},e.icon):o&&(n=r.createElement(Au[o]||null,{className:"".concat(t,"-icon ").concat(t,"-icon-").concat(o)})),e=!a&&n?r.createElement("span",{className:"".concat(t,"-message-single-line-auto-margin")}):null,{content:r.createElement("div",{className:n?"".concat(t,"-with-icon"):"",role:"alert"},n,r.createElement("div",{className:"".concat(t,"-message")},e,s),r.createElement("div",{className:"".concat(t,"-description")},a),u?r.createElement("span",{className:"".concat(t,"-btn")},u):null),duration:d,closable:!0,onClose:c,onClick:l,key:h,style:f||{},className:Le()(p,(0,De.Z)({},"".concat(t,"-").concat(o),!!o))}}var Du,Mu,Lu={open:function(e){Pu(e,(function(t){var n=t.prefixCls;t.instance.notice(Ru(e,n))}))},close:function(e){Object.keys(Tu).forEach((function(t){return Promise.resolve(Tu[t]).then((function(t){t.removeNotice(e)}))}))},config:function(e){var t=e.duration,n=e.placement,r=e.bottom,i=e.top,o=e.getContainer,a=e.closeIcon,s=e.prefixCls;void 0!==s&&(ku=s),void 0!==t&&(Iu=t),void 0!==n?Nu=n:e.rtl&&(Nu="topLeft"),void 0!==r&&(xu=r),void 0!==i&&(Su=i),void 0!==o&&(Eu=o),void 0!==a&&(Cu=a),void 0!==e.rtl&&(Ou=e.rtl)},destroy:function(){Object.keys(Tu).forEach((function(e){Promise.resolve(Tu[e]).then((function(e){e.destroy()})),delete Tu[e]}))}};["success","info","warning","error"].forEach((function(e){Lu[e]=function(t){return Lu.open(g(g({},t),{type:e}))}})),Lu.warn=Lu.warning,Lu.useNotification=(Du=Pu,Mu=Ru,function(){var e,t=null,n=Re(Ws({add:function(e,n){null!=t&&t.component.add(e,n)}}),2),i=n[0],o=n[1],a=r.useRef({});return a.current.open=function(n){var r=n.prefixCls;r=e("notification",r);Du(g(g({},n),{prefixCls:r}),(function(e){var r=e.prefixCls;e=e.instance;t=e,i(Mu(n,r))}))},["success","info","warning","error"].forEach((function(e){a.current[e]=function(t){return a.current.open(g(g({},t),{type:e}))}})),[a.current,r.createElement(dn,{key:"holder"},(function(t){return e=t.getPrefixCls,o}))]});const Fu=Lu;var ju,Uu=["getTargetContainer","getPopupContainer","rootPrefixCls","getPrefixCls","renderEmpty","csp","autoInsertSpaceInButton","locale","pageHeader"],Vu=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","form"];function qu(){return ju||"ant"}function Bu(e){var t=e.children,n=e.csp,i=e.autoInsertSpaceInButton,o=e.form,a=e.locale,s=e.componentSize,u=e.direction,c=e.space,l=e.virtual,h=e.dropdownMatchSelectWidth,f=e.legacyLocale,p=e.parentContext,d=e.iconPrefixCls,m=r.useCallback((function(t,n){var r=e.prefixCls;return n||(r=r||p.getPrefixCls(""),t?"".concat(r,"-").concat(t):r)}),[p.getPrefixCls,e.prefixCls]),v=g(g({},p),{csp:n,autoInsertSpaceInButton:i,locale:a||f,direction:u,space:c,virtual:l,dropdownMatchSelectWidth:h,getPrefixCls:m});return Vu.forEach((function(t){var n=e[t];n&&(v[t]=n)})),c=Fa((function(){return v}),v,(function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some((function(n){return e[n]!==t[n]}))})),l=r.useMemo((function(){return{prefixCls:d,csp:n}}),[d]),h=t,m={},a&&a.Form&&a.Form.defaultValidateMessages&&(m=a.Form.defaultValidateMessages),o&&o.validateMessages&&(m=g(g({},m),o.validateMessages)),0<Object.keys(m).length&&(h=r.createElement(Xt,{validateMessages:m},t)),a&&(h=r.createElement(zs,{locale:a,_ANT_MARK__:Bs},h)),d&&(h=r.createElement(Jn.Provider,{value:l},h)),s&&(h=r.createElement(Pn,{size:s},h)),r.createElement(pn.Provider,{value:c},h)}var zu=function(){return{getPrefixCls:function(e,t){return t||(e?"".concat(qu(),"-").concat(e):qu())},getRootPrefixCls:function(e,t){return e||ju||(t&&t.includes("-")?t.replace(/^(.*)-[^-]*$/,"$1"):qu())}}};(s=function(e){return r.useEffect((function(){e.direction&&(mu.config({rtl:"rtl"===e.direction}),Fu.config({rtl:"rtl"===e.direction}))}),[e.direction]),r.createElement(un,null,(function(t,n,i){return r.createElement(dn,null,(function(t){return r.createElement(Bu,g({parentContext:t,legacyLocale:i},e))}))}))}).ConfigContext=pn,s.SizeContext=Rn,s.config=function(e){void 0!==e.prefixCls&&(ju=e.prefixCls)};var Hu={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=Hu.F1&&t<=Hu.F12)return!1;switch(t){case Hu.ALT:case Hu.CAPS_LOCK:case Hu.CONTEXT_MENU:case Hu.CTRL:case Hu.DOWN:case Hu.END:case Hu.ESC:case Hu.HOME:case Hu.INSERT:case Hu.LEFT:case Hu.MAC_FF_META:case Hu.META:case Hu.NUMLOCK:case Hu.NUM_CENTER:case Hu.PAGE_DOWN:case Hu.PAGE_UP:case Hu.PAUSE:case Hu.PRINT_SCREEN:case Hu.RIGHT:case Hu.SHIFT:case Hu.UP:case Hu.WIN_KEY:case Hu.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Hu.ZERO&&e<=Hu.NINE)return!0;if(e>=Hu.NUM_ZERO&&e<=Hu.NUM_MULTIPLY)return!0;if(e>=Hu.A&&e<=Hu.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case Hu.SPACE:case Hu.QUESTION_MARK:case Hu.NUM_PLUS:case Hu.NUM_MINUS:case Hu.NUM_PERIOD:case Hu.NUM_DIVISION:case Hu.SEMICOLON:case Hu.DASH:case Hu.EQUALS:case Hu.COMMA:case Hu.PERIOD:case Hu.SLASH:case Hu.APOSTROPHE:case Hu.SINGLE_QUOTE:case Hu.OPEN_SQUARE_BRACKET:case Hu.BACKSLASH:case Hu.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const Wu=Hu;var Gu={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"};const Ku=r.forwardRef((function(e,t){var n=e.style,i=e.noStyle,o=e.disabled,a=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}(e,["style","noStyle","disabled"]),s={};return i||(s=g({},Gu)),o&&(s.pointerEvents="none"),s=g(g({},s),n),r.createElement("div",g({role:"button",tabIndex:0,ref:t},a,{onKeyDown:function(e){e.keyCode===Wu.ENTER&&e.preventDefault()},onKeyUp:function(t){var n=t.keyCode;t=e.onClick;n===Wu.ENTER&&t&&t()},style:s}))})),Zu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"};(Me=function(e,t){return r.createElement(Pr,Object.assign({},e,{ref:t,icon:Zu}))}).displayName="EnterOutlined";const Yu=r.forwardRef(Me),$u=function(e){var t=e.prefixCls,n=e["aria-label"],i=e.className,o=e.style,a=e.direction,s=e.maxLength,u=void 0===(u=e.autoSize)||u,c=e.value,l=e.onSave,h=e.onCancel,f=e.onEnd,p=r.useRef(),d=r.useRef(!1),m=r.useRef(),v=(e=Re(r.useState(c),2))[0],g=e[1];function y(){l(v.trim())}return r.useEffect((function(){g(c)}),[c]),r.useEffect((function(){var e,t;p.current&&p.current.resizableTextArea&&((e=p.current.resizableTextArea.textArea).focus(),t=e.value.length,e.setSelectionRange(t,t))}),[]),i=Le()(t,"".concat(t,"-edit-content"),(0,De.Z)({},"".concat(t,"-rtl"),"rtl"===a),i),r.createElement("div",{className:i,style:o},r.createElement(Is,{ref:p,maxLength:s,value:v,onChange:function(e){e=e.target,g(e.value.replace(/[\n\r]/g,""))},onKeyDown:function(e){e=e.keyCode,d.current||(m.current=e)},onKeyUp:function(e){var t=e.keyCode,n=e.ctrlKey,r=e.altKey,i=e.metaKey;e=e.shiftKey;m.current!==t||d.current||n||r||i||e||(t===Wu.ENTER?(y(),null!=f&&f()):t===Wu.ESC&&h())},onCompositionStart:function(){d.current=!0},onCompositionEnd:function(){d.current=!1},onBlur:function(){y()},"aria-label":n,autoSize:u}),r.createElement(Yu,{className:"".concat(t,"-edit-content-confirm")}))};var Qu,Ju={padding:0,margin:0,display:"inline",lineHeight:"inherit"};function Xu(e){return e&&(e=e.match(/^\d*(\.\d*)?/))?Number(e[0]):0}const ec=function(e,t,n,o,a){Qu||(Qu=document.createElement("div")).setAttribute("aria-hidden","true"),Qu.parentNode||document.body.appendChild(Qu);var s,u=t.rows,c=void 0===(l=t.suffix)?"":l,l=(t=window.getComputedStyle(e),s=t,Array.prototype.slice.apply(s).map((function(e){return"".concat(e,": ").concat(s.getPropertyValue(e),";")})).join("")),h=(e=Xu(t.lineHeight),Math.round(e*(u+1)+Xu(t.paddingTop)+Xu(t.paddingBottom)));Qu.setAttribute("style",l),Qu.style.position="fixed",Qu.style.left="0",Qu.style.height="auto",Qu.style.minHeight="auto",Qu.style.maxHeight="auto",Qu.style.top="-999999px",Qu.style.zIndex="-1000",Qu.style.textOverflow="clip",Qu.style.whiteSpace="normal",Qu.style.webkitLineClamp="none";var f,p=(l=Ze(n),f=[],l.forEach((function(e){var t=f[f.length-1];"string"==typeof e&&"string"==typeof t?f[f.length-1]+=e:f.push(e)})),f);function d(){return Qu.offsetHeight<h}if((0,i.render)(r.createElement("div",{style:Ju},r.createElement("span",{style:Ju},p,c),r.createElement("span",{style:Ju},o)),Qu),d())return(0,i.unmountComponentAtNode)(Qu),{content:n,text:Qu.innerHTML,ellipsis:!1};o=Array.prototype.slice.apply(Qu.childNodes[0].childNodes[0].cloneNode(!0).childNodes).filter((function(e){return 8!==e.nodeType})),n=Array.prototype.slice.apply(Qu.childNodes[0].childNodes[1].cloneNode(!0).childNodes),(0,i.unmountComponentAtNode)(Qu);var m=[];Qu.innerHTML="";var v=document.createElement("span");Qu.appendChild(v);var g=document.createTextNode(a+c);function y(e){v.insertBefore(e,g)}return v.appendChild(g),n.forEach((function(e){Qu.appendChild(e)})),o.some((function(e,t){return e=function(e,t){var n=e.nodeType;return 1===n?(y(e),d()?{finished:!1,reactNode:p[t]}:(v.removeChild(e),{finished:!0,reactNode:null})):3!==n?{finished:!1,reactNode:null}:(n=e.textContent||"",y(e=document.createTextNode(n)),function e(t,n,r,i,o){var a=2<arguments.length&&void 0!==r?r:0,s=3<arguments.length&&void 0!==i?i:n.length;if(r=4<arguments.length&&void 0!==o?o:0,i=Math.floor((a+s)/2),o=n.slice(0,i),t.textContent=o,s-1<=a)for(var u=s;a<=u;--u){var c=n.slice(0,u);if(t.textContent=c,d()||!c)return u===n.length?{finished:!1,reactNode:n}:{finished:!0,reactNode:c}}return d()?e(t,n,i,s,i):e(t,n,a,i,r)}(e,n))}(e,t),t=e.finished,(e=e.reactNode)&&m.push(e),t})),{content:m,text:Qu.innerHTML,ellipsis:!0}};var tc=ut("webkitLineClamp"),nc=ut("textOverflow");(cn=function(){We(t,r.Component);var e=Ke(t);function t(){var n;return qe(this,t),(n=e.apply(this,arguments)).contentRef=r.createRef(),n.state={edit:!1,copied:!1,ellipsisText:"",ellipsisContent:null,isEllipsis:!1,expanded:!1,clientRendered:!1},n.getPrefixCls=function(){var e=n.props.prefixCls;return(0,n.context.getPrefixCls)("typography",e)},n.onExpandClick=function(e){var t=n.getEllipsis().onExpand;n.setState({expanded:!0}),null!=t&&t(e)},n.onEditClick=function(e){e.preventDefault(),n.triggerEdit(!0)},n.onEditChange=function(e){var t=n.getEditable().onChange;null!=t&&t(e),n.triggerEdit(!1)},n.onEditCancel=function(){var e,t;null!==(t=(e=n.getEditable()).onCancel)&&void 0!==t&&t.call(e),n.triggerEdit(!1)},n.onCopyClick=function(e){e.preventDefault();e=(t=n.props).children;var t,r=g({},"object"===ke(t=t.copyable)?t:null);void 0===r.text&&(r.text=String(e)),Rs()(r.text||""),n.setState({copied:!0},(function(){r.onCopy&&r.onCopy(),n.copyId=window.setTimeout((function(){n.setState({copied:!1})}),3e3)}))},n.setEditRef=function(e){n.editIcon=e},n.triggerEdit=function(e){var t=n.getEditable().onStart;e&&t&&t(),n.setState({edit:e},(function(){!e&&n.editIcon&&n.editIcon.focus()}))},n.resizeOnNextFrame=function(){ss.cancel(n.rafId),n.rafId=ss((function(){n.syncEllipsis()}))},n}return ze(t,[{key:"componentDidMount",value:function(){this.setState({clientRendered:!0}),this.resizeOnNextFrame()}},{key:"componentDidUpdate",value:function(e){var t=this.props.children,n=this.getEllipsis(),r=this.getEllipsis(e);t===e.children&&n.rows===r.rows||this.resizeOnNextFrame()}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.copyId),ss.cancel(this.rafId)}},{key:"getEditable",value:function(e){var t=this.state.edit;return(e=(e||this.props).editable)?g({editing:t},"object"===ke(e)?e:null):{editing:t}}},{key:"getEllipsis",value:function(e){return(e=(e||this.props).ellipsis)?g({rows:1,expandable:!1},"object"===ke(e)?e:null):{}}},{key:"canUseCSSEllipsis",value:function(){var e=this.state.clientRendered,t=(a=this.props).editable,n=a.copyable,r=(s=this.getEllipsis()).rows,i=s.expandable,o=s.suffix,a=s.onEllipsis,s=s.tooltip;return!o&&!s&&!(t||n||i||!e||a)&&(1===r?nc:tc)}},{key:"syncEllipsis",value:function(){var e=(o=this.state).ellipsisText,t=o.isEllipsis,n=o.expanded,r=(a=this.getEllipsis()).rows,i=a.suffix,o=a.onEllipsis,a=this.props.children;!r||r<0||!this.contentRef.current||n||this.canUseCSSEllipsis()||($n(Ze(a).every((function(e){return"string"==typeof e})),"Typography","`ellipsis` should use string as children only."),i=(r=ec(this.contentRef.current,{rows:r,suffix:i},a,this.renderOperations(!0),"...")).content,a=r.text,r=r.ellipsis,e===a&&t===r||(this.setState({ellipsisText:a,ellipsisContent:i,isEllipsis:r}),t!==r&&o&&o(r)))}},{key:"renderExpand",value:function(e){var t=(i=this.getEllipsis()).expandable,n=i.symbol,i=(o=this.state).expanded,o=o.isEllipsis;return t&&(e||!i&&o)?(n=n||this.expandStr,r.createElement("a",{key:"expand",className:"".concat(this.getPrefixCls(),"-expand"),onClick:this.onExpandClick,"aria-label":this.expandStr},n)):null}},{key:"renderEdit",value:function(){if(i=this.props.editable){var e=i.icon,t=i.tooltip,n=Ze(t)[0]||this.editStr,i="string"==typeof n?n:"";return r.createElement(Na,{key:"edit",title:!1===t?"":n},r.createElement(Ku,{ref:this.setEditRef,className:"".concat(this.getPrefixCls(),"-edit"),onClick:this.onEditClick,"aria-label":i},e||r.createElement(Ms,{role:"button"})))}}},{key:"renderCopy",value:function(){var e=this.state.copied;if(a=this.props.copyable){var t=this.getPrefixCls(),n=a.tooltips;0===(o=Ze(n)).length&&(o=[this.copyStr,this.copiedStr]);var i=e?o[1]:o[0],o="string"==typeof i?i:"",a=Ze(a.icon);return r.createElement(Na,{key:"copy",title:!1===n?"":i},r.createElement(Ku,{className:Le()("".concat(t,"-copy"),e&&"".concat(t,"-copy-success")),onClick:this.onCopyClick,"aria-label":o},e?a[1]||r.createElement(Fs,null):a[0]||r.createElement(Us,null)))}}},{key:"renderEditInput",value:function(){var e=(a=this.props).children,t=a.className,n=a.style,i=this.context.direction,o=(s=this.getEditable()).maxLength,a=s.autoSize,s=s.onEnd;return r.createElement($u,{value:"string"==typeof e?e:"",onSave:this.onEditChange,onCancel:this.onEditCancel,onEnd:s,prefixCls:this.getPrefixCls(),className:t,style:n,direction:i,maxLength:o,autoSize:a})}},{key:"renderOperations",value:function(e){return[this.renderExpand(e),this.renderEdit(),this.renderCopy()].filter((function(e){return e}))}},{key:"renderContent",value:function(){var e,t,n,i=this,o=(b=this.state).ellipsisContent,a=b.isEllipsis,s=b.expanded,u=(y=this.props).component,c=y.children,l=y.className,h=y.type,f=y.disabled,p=y.style,d=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}(y,["component","children","className","type","disabled","style"]),m=this.context.direction,v=(b=this.getEllipsis()).rows,y=b.suffix,b=b.tooltip,w=this.getPrefixCls(),_=vn(d,["prefixCls","editable","copyable","ellipsis","mark","code","delete","underline","strong","keyboard"].concat(Ve(Uu))),E=this.canUseCSSEllipsis(),C=1===v&&E,T=v&&1<v&&E,I=c;function S(e,t){e&&(n=r.createElement(t,{},n))}return v&&a&&!s&&!E?(t=(e=d.title)||"",t=(t=e||"string"!=typeof c&&"number"!=typeof c?t:String(c)).slice(String(o||"").length),I=r.createElement(r.Fragment,null,o,r.createElement("span",{title:t,"aria-hidden":"true"},"..."),y),b&&(I=r.createElement(Na,{title:!0===b?c:b},r.createElement("span",null,I)))):I=r.createElement(r.Fragment,null,c,y),s=this.props,d=I,e=s.mark,o=s.code,t=s.underline,b=s.delete,c=s.strong,y=s.keyboard,s=s.italic,n=d,S(c,"strong"),S(t,"u"),S(b,"del"),S(o,"code"),S(e,"mark"),S(y,"kbd"),S(s,"i"),I=n,r.createElement(un,{componentName:"Text"},(function(e){var t=e.edit,n=e.copy,o=e.copied;e=e.expand;return i.editStr=t,i.copyStr=n,i.copiedStr=o,i.expandStr=e,r.createElement(vs,{onResize:i.resizeOnNextFrame,disabled:E},r.createElement(As,g({className:Le()(((0,De.Z)(e={},"".concat(w,"-").concat(h),h),(0,De.Z)(e,"".concat(w,"-disabled"),f),(0,De.Z)(e,"".concat(w,"-ellipsis"),v),(0,De.Z)(e,"".concat(w,"-single-line"),1===v),(0,De.Z)(e,"".concat(w,"-ellipsis-single-line"),C),(0,De.Z)(e,"".concat(w,"-ellipsis-multiple-line"),T),e),l),style:g(g({},p),{WebkitLineClamp:T?v:void 0}),component:u,ref:i.contentRef,direction:m},_),I,i.renderOperations()))}))}},{key:"render",value:function(){return this.getEditable().editing?this.renderEditInput():this.renderContent()}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.children;e=e.editable;return $n(!e||"string"==typeof t,"Typography","When `editable` is enabled, the `children` should use string."),{}}}]),t}()).contextType=pn,cn.defaultProps={children:""};const rc=cn;X=function(e){var t=e.ellipsis,n=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}(e,["ellipsis"]);e=r.useMemo((function(){return t&&"object"===ke(t)?vn(t,["expandable","rows"]):t}),[t]);return $n(!("object"===ke(t)&&t&&("expandable"in t||"rows"in t)),"Typography.Text","`ellipsis` do not support `expandable` or `rows` props."),r.createElement(rc,g({},n,{ellipsis:e,component:"span"}))},s=function(e,t){var n=e.ellipsis,i=e.rel;e=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}(e,["ellipsis","rel"]);$n("object"!==ke(n),"Typography.Link","`ellipsis` only supports boolean value.");var o=r.useRef(null);return r.useImperativeHandle(t,(function(){var e;return null===(e=o.current)||void 0===e?void 0:e.contentRef.current})),delete(i=g(g({},e),{rel:void 0===i&&"_blank"===e.target?"noopener noreferrer":i})).navigate,r.createElement(rc,g({},i,{ref:o,ellipsis:!!n,component:"a"}))},Me=r.forwardRef(s);var ic=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}(1,2,3,4,5);ut=function(e){var t=void 0===(t=e.level)?1:t;e=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}(e,["level"]),t=-1!==ic.indexOf(t)?"h".concat(t):($n(!1,"Typography.Title","Title only accept `1 | 2 | 3 | 4 | 5` as `level` value. And `5` need 4.6.0+ version."),"h1");return r.createElement(rc,g({},e,{component:t}))},cn=function(e){return r.createElement(rc,g({},e,{component:"div"}))};function oc(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"success",t=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"topRight";Fu[e]({message:t,description:n,placement:r,duration:3})}(s=As).Text=X,s.Link=Me,s.Title=ut,s.Paragraph=cn;X=s;var ac=n(6099);ac.Z.registerVersion("firebase","8.7.0","app"),ac.Z.SDK_VERSION="8.7.0";var sc=n(655),uc=n(4589),cc=n(4594),lc=function(e,t){return(lc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function hc(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}Me="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};var fc={},pc=Me||self;function dc(){}function mc(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function vc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var gc="closure_uid_"+(1e9*Math.random()>>>0),yc=0;function bc(e,t,n){return e.call.apply(e.bind,arguments)}function wc(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _c(e,t,n){return(_c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bc:wc).apply(null,arguments)}function Ec(e){var t=Array.prototype.slice.call(arguments,1);return function(){var n=t.slice();return n.push.apply(n,arguments),e.apply(this,n)}}function Cc(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,(e.prototype.constructor=e).Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Tc(){this.s=this.s,this.o=this.o}var Ic={};Tc.prototype.s=!1,Tc.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,e=Object.prototype.hasOwnProperty.call(e,gc)&&e[gc]||(e[gc]=++yc),delete Ic[e])},Tc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Sc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},xc=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function kc(){return Array.prototype.concat.apply([],arguments)}function Nc(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Oc(e){return/^[\s\xa0]*$/.test(e)}var Pc,Ac=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Rc(e,t){return-1!=e.indexOf(t)}function Dc(e,t){return e<t?-1:t<e?1:0}var Mc=pc.navigator;function Lc(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Fc(e){var t,n={};for(t in e)n[t]=e[t];return n}Pc=Mc&&(Mc=Mc.userAgent)?Mc:"";var jc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Uc(e){for(var t,n,r=1;r<arguments.length;r++){for(t in n=arguments[r])e[t]=n[t];for(var i=0;i<jc.length;i++)t=jc[i],Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}}function Vc(e){return Vc[" "](e),e}Vc[" "]=dc;var qc,Bc=Rc(Pc,"Opera"),zc=Rc(Pc,"Trident")||Rc(Pc,"MSIE"),Hc=Rc(Pc,"Edge"),Wc=Hc||zc,Gc=Rc(Pc,"Gecko")&&!(Rc(Pc.toLowerCase(),"webkit")&&!Rc(Pc,"Edge"))&&!(Rc(Pc,"Trident")||Rc(Pc,"MSIE"))&&!Rc(Pc,"Edge"),Kc=Rc(Pc.toLowerCase(),"webkit")&&!Rc(Pc,"Edge");function Zc(){var e=pc.document;return e?e.documentMode:void 0}var Yc="",$c=($c=Pc,Gc?/rv:([^\);]+)(\)|;)/.exec($c):Hc?/Edge\/([\d\.]+)/.exec($c):zc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec($c):Kc?/WebKit\/(\S+)/.exec($c):Bc?/(?:Version)[ \/]?(\S+)/.exec($c):void 0);$c&&(Yc=$c?$c[1]:""),qc=zc&&null!=($c=Zc())&&$c>parseFloat(Yc)?String($c):Yc;var Qc={};var Jc=pc.document&&zc&&(Zc()||parseInt(qc,10))||void 0,Xc=function(){if(!pc.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{pc.addEventListener("test",dc,t),pc.removeEventListener("test",dc,t)}catch(e){}return e}();function el(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function tl(e,t){if(el.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Gc){e:{try{Vc(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:nl[e.pointerType]||"",this.state=e.state,(this.i=e).defaultPrevented&&tl.Z.h.call(this)}}el.prototype.h=function(){this.defaultPrevented=!0},Cc(tl,el);var nl={2:"touch",3:"pen",4:"mouse"};tl.prototype.h=function(){tl.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var rl="closure_listenable_"+(1e6*Math.random()|0),il=0;function ol(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++il,this.ca=this.fa=!1}function al(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function sl(e){this.src=e,this.g={},this.h=0}function ul(e,t){var n,r,i,o=t.type;o in e.g&&(n=e.g[o],(i=0<=(r=Sc(n,t)))&&Array.prototype.splice.call(n,r,1),i&&(al(t),0==e.g[o].length&&(delete e.g[o],e.h--)))}function cl(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}sl.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=cl(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new ol(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var ll="closure_lm_"+(1e6*Math.random()|0),hl={};function fl(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=bl(r),t&&t[rl]?t.O(n,r,vc(i)?!!i.capture:!!i,o):pl(t,n,r,!0,i,o)}(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)fl(e,t[o],n,r,i);return null}return n=bl(n),e&&e[rl]?e.N(t,n,vc(r)?!!r.capture:!!r,i):pl(e,t,n,!1,r,i)}function pl(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a,s=vc(i)?!!i.capture:!!i,u=gl(e);if(u||(e[ll]=u=new sl(e)),(n=u.add(t,n,r,s,o)).proxy)return n;if(a=vl,r=function e(t){return a.call(e.src,e.listener,t)},(n.proxy=r).src=e,r.listener=n,e.addEventListener)void 0===(i=Xc?i:s)&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ml(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function dl(e){var t,n,r;"number"!=typeof e&&e&&!e.ca&&((t=e.src)&&t[rl]?ul(t.i,e):(n=e.type,r=e.proxy,t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ml(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=gl(t))?(ul(n,e),0==n.h&&(n.src=null,t[ll]=null)):al(e)))}function ml(e){return e in hl?hl[e]:hl[e]="on"+e}function vl(e,t){var n,r;return!!e.ca||(t=new tl(t,this),n=e.listener,r=e.ia||e.src,e.fa&&dl(e),n.call(r,t))}function gl(e){return(e=e[ll])instanceof sl?e:null}var yl="__closure_events_fn_"+(1e9*Math.random()>>>0);function bl(e){return"function"==typeof e?e:(e[yl]||(e[yl]=function(t){return e.handleEvent(t)}),e[yl])}function wl(){Tc.call(this),this.i=new sl(this),(this.P=this).I=null}function _l(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t?t=new el(t,e):t instanceof el?t.target=t.target||e:(a=t,Uc(t=new el(r,e),a)),a=!0,n)for(var i=n.length-1;0<=i;i--)var o=t.g=n[i],a=El(o,r,!0,t)&&a;if(a=El(o=t.g=e,r,!0,t)&&a,a=El(o,r,!1,t)&&a,n)for(i=0;i<n.length;i++)a=El(o=t.g=n[i],r,!1,t)&&a}function El(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a,s,u=t[o];u&&!u.ca&&u.capture==n&&(a=u.listener,s=u.ia||u.src,u.fa&&ul(e.i,u),i=!1!==a.call(s,r)&&i)}return i&&!r.defaultPrevented}Cc(wl,Tc),wl.prototype[rl]=!0,wl.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=vc(i)?!!i.capture:!!i,r=bl(r),t&&t[rl]?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=cl(a=t.g[n],r,i,o))&&(al(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.g[n],t.h--))):(t=t&&gl(t))&&(n=t.g[n.toString()],(r=(t=-1)<(t=n?cl(n,r,i,o):t)?n[t]:null)&&dl(r))}(this,e,t,n,r)},wl.prototype.M=function(){if(wl.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)al(n[r]);delete t.g[e],t.h--}}this.I=null},wl.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},wl.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Cl=pc.JSON.stringify;function Tl(){this.h=this.g=null}Tl.prototype.add=function(e,t){var n=Il.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},ut=Tl;var Il=(Sl.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},new Sl((function(){return new kl}),(function(e){return e.reset()})));function Sl(e,t){this.i=e,this.j=t,this.h=0,this.g=null}var xl,kl=(Nl.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},Nl.prototype.reset=function(){this.next=this.g=this.h=null},Nl);function Nl(){this.next=this.g=this.h=null}function Ol(e,t){var n;xl||(n=pc.Promise.resolve(void 0),xl=function(){n.then(Rl)}),Pl||(xl(),Pl=!0),Al.add(e,t)}var Pl=!1,Al=new ut;function Rl(){for(var e;t=e=void 0,t=null,(e=Al).g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),e=t;){try{e.h.call(e.g)}catch(e){!function(e){pc.setTimeout((function(){throw e}),0)}(e)}var t=Il;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}Pl=!1}function Dl(e,t){wl.call(this),this.h=e||1,this.g=t||pc,this.j=_c(this.kb,this),this.l=Date.now()}function Ml(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ll(e,t,n){if("function"==typeof e)n&&(e=_c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_c(e.handleEvent,e)}return 2147483647<Number(t)?-1:pc.setTimeout(e,t||0)}Cc(Dl,wl),(cn=Dl.prototype).da=!1,cn.S=null,cn.kb=function(){var e;this.da&&(0<(e=Date.now()-this.l)&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),_l(this,"tick"),this.da&&(Ml(this),this.start())))},cn.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},cn.M=function(){Dl.Z.M.call(this),Ml(this),delete this.g};var Fl,jl=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}lc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(Ul,Fl=Tc),Ul.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=Ll((function(){t.g=null,t.i&&(t.i=!1,e(t))}),t.j);var n=t.h;t.h=null,t.m.apply(null,n)}(this)},Ul.prototype.M=function(){Fl.prototype.M.call(this),this.g&&(pc.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},Ul);function Ul(e,t){var n=Fl.call(this)||this;return n.m=e,n.j=t,n.h=null,n.i=!1,n.g=null,n}function Vl(e){Tc.call(this),this.h=e,this.g={}}Cc(Vl,Tc);var ql=[];function Bl(e,t,n,r){Array.isArray(n)||(n&&(ql[0]=n.toString()),n=ql);for(var i=0;i<n.length;i++){var o=fl(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function zl(e){Lc(e.g,(function(e,t){this.g.hasOwnProperty(t)&&dl(e)}),e),e.g={}}function Hl(){this.g=!0}function Wl(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(r.length<2)){var i=r[1];if(Array.isArray(i)&&!(i.length<1)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Cl(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Vl.prototype.M=function(){Vl.Z.M.call(this),zl(this)},Vl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hl.prototype.Aa=function(){this.g=!1},Hl.prototype.info=function(){};var Gl={},Kl=null;function Zl(){return Kl=Kl||new wl}function Yl(e){el.call(this,Gl.Ma,e)}function $l(){var e=Zl();_l(e,new Yl(e))}function Ql(e,t){el.call(this,Gl.STAT_EVENT,e),this.stat=t}function Jl(e){var t=Zl();_l(t,new Ql(t,e))}function Xl(e,t){el.call(this,Gl.Na,e),this.size=t}function eh(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return pc.setTimeout((function(){e()}),t)}function th(){}function nh(e){return e.h||(e.h=e.i())}function rh(){}function ih(){el.call(this,"d")}function oh(){el.call(this,"c")}function ah(){}function sh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Vl(this),this.P=lh,this.W=new Dl(e=Wc?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new uh}function uh(){this.i=null,this.g="",this.h=!1}Gl.Ma="serverreachability",Cc(Yl,el),Gl.STAT_EVENT="statevent",Cc(Ql,el),Gl.Na="timingevent",Cc(Xl,el),s={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Me={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"},th.prototype.h=null,ut={OPEN:"a",pb:"b",Ka:"c",Bb:"d"},Cc(ih,el),Cc(oh,el),Cc(ah,th),ah.prototype.g=function(){return new XMLHttpRequest},ah.prototype.i=function(){return{}};var ch=new ah,lh=45e3,hh={},fh={};function ph(e,t,n){e.K=1,e.v=Mh(Nh(t)),e.s=n,e.U=!0,dh(e,null)}function dh(e,t){e.F=Date.now(),gh(e),e.A=Nh(e.v);var n,r,i,o,a,s,u=e.A,c=e.X;Array.isArray(c)||(c=[String(c)]),Zh(u.h,"t",c),e.C=0,u=e.l.H,e.h=new uh,e.g=$f(e.l,u?t:null,!e.s),0<e.O&&(e.L=new jl(_c(e.Ia,e,e.g),e.O)),Bl(e.V,e.g,"readystatechange",e.gb),t=e.H?Fc(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),$l(),n=e.j,r=e.u,i=e.A,o=e.m,a=e.X,s=e.s,n.info((function(){if(n.g)if(s)for(var e="",t=s.split("&"),u=0;u<t.length;u++){var c,l,h=t[u].split("=");1<h.length&&(c=h[0],h=h[1],e=2<=(l=c.split("_")).length&&"type"==l[1]?e+(c+"=")+h+"&":e+(c+"=redacted&"))}else e=null;else e=s;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+r+"\n"+i+"\n"+e}))}function mh(e){return e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function vh(e,t,n){for(var r,i,o,a,s,u=!0;!e.I&&e.C<n.length;){if(o=n,s=a=void 0,a=(i=e).C,(r=-1==(s=o.indexOf("\n",a))?fh:(a=Number(o.substring(a,s)),isNaN(a)?hh:(s+=1)+a>o.length?fh:(o=o.substr(s,a),i.C=s+a,o)))==fh){4==t&&(e.o=4,Jl(14),u=!1),Wl(e.j,e.m,null,"[Incomplete Response]");break}if(r==hh){e.o=4,Jl(15),Wl(e.j,e.m,n,"[Invalid Chunk]"),u=!1;break}Wl(e.j,e.m,r,null),Eh(e,r)}mh(e)&&r!=fh&&r!=hh&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Jl(16),u=!1),e.i=e.i&&u,u?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Bf(t),t.L=!0,Jl(11))):(Wl(e.j,e.m,n,"[Invalid Chunked Response]"),_h(e),wh(e))}function gh(e){e.Y=Date.now()+e.P,yh(e,e.P)}function yh(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=eh(_c(e.eb,e),t)}function bh(e){e.B&&(pc.clearTimeout(e.B),e.B=null)}function wh(e){0==e.l.G||e.I||Wf(e.l,e)}function _h(e){bh(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ml(e.W),zl(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Eh(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||nf(n.i,e)))if(n.I=e.N,!e.J&&nf(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(m){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Hf(n),Rf(n)}qf(n),Jl(18)}}else n.ta=i[1],0<n.ta-n.U&&i[2]<37500&&n.N&&0==n.A&&!n.v&&(n.v=eh(_c(n.ab,n),6e3));if(tf(n.i)<=1&&n.ka){try{n.ka()}catch(m){}n.ka=void 0}}else Kf(n,11)}else if(!e.J&&n.g!=e||Hf(n),!Oc(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o,a,s,u,c,l,h,f,p,d,m=i[t];n.U=m[0],m=m[1],2==n.G?"c"==m[0]?(n.J=m[1],n.la=m[2],null!=(o=m[3])&&(n.ma=o,n.h.info("VER="+n.ma)),null!=(a=m[4])&&(n.za=a,n.h.info("SVER="+n.za)),null!=(s=m[5])&&"number"==typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n,(u=e.g)&&(!(c=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null)||!(l=r.i).g&&(Rc(c,"spdy")||Rc(c,"quic")||Rc(c,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(rf(l,l.h),l.h=null)),!r.D||(h=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null)&&(r.sa=h,Dh(r.F,r.D,h))),n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),f=e,(r=n).oa=Yf(r,r.H?r.la:null,r.W),f.J?(of(r.i,f),p=f,(d=r.K)&&p.setTimeout(d),p.B&&(bh(p),gh(p)),r.g=f):Vf(r),0<n.l.length&&Lf(n)):"stop"!=m[0]&&"close"!=m[0]||Kf(n,7):3==n.G&&("stop"==m[0]||"close"==m[0]?"stop"==m[0]?Kf(n,7):Af(n):"noop"!=m[0]&&n.j&&n.j.wa(m),n.A=0)}$l()}catch(m){}}function Ch(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(mc(e)||"string"==typeof e)xc(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(mc(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(mc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Th(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Th)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ih(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Sh(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Sh(i,r=e.g[t])||(i[e.g[n++]=r]=1),t++;e.g.length=n}}function Sh(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(cn=sh.prototype).setTimeout=function(e){this.P=e},cn.gb=function(e){e=e.target;var t=this.L;t&&3==xf(e)?t.l():this.Ia(e)},cn.Ia=function(e){try{if(e==this.g)e:{var t=xf(this.g),n=this.g.Da();if(this.g.ba(),!(t<3)&&(3!=t||Wc||this.g&&(this.h.h||this.g.ga()||kf(this.g)))){this.I||4!=t||7==n||$l(),bh(this);var r=this.g.ba();this.N=r;t:if(mh(this)){var i=kf(this.g);e="";var o=i.length,a=4==xf(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){_h(this),wh(this);var s="";break t}this.h.i=new pc.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:a&&n==o-1});i.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==r,h=this.j,f=this.u,p=this.A,d=this.m,m=this.X,v=t,g=r,h.info((function(){return"XMLHTTP RESP ("+d+") [ attempt "+m+"]: "+f+"\n"+p+"\n"+v+" "+g})),this.i){if(this.$&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oc(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Jl(12),_h(this),wh(this);break e}Wl(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Eh(this,r)}this.U?(vh(this,t,s),Wc&&this.i&&3==t&&(Bl(this.V,this.W,"tick",this.fb),this.W.start())):(Wl(this.j,this.m,s,null),Eh(this,s)),4==t&&_h(this),this.i&&!this.I&&(4==t?Wf(this.l,this):(this.i=!1,gh(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Jl(12)):(this.o=0,Jl(13)),_h(this),wh(this)}}}catch(t){}var h,f,p,d,m,v,g},cn.fb=function(){var e,t;this.g&&(e=xf(this.g),t=this.g.ga(),this.C<t.length&&(bh(this),vh(this,e,t),this.i&&4!=e&&gh(this)))},cn.cancel=function(){this.I=!0,_h(this)},cn.eb=function(){this.B=null;var e,t,n=Date.now();0<=n-this.Y?(e=this.j,t=this.A,e.info((function(){return"TIMEOUT: "+t})),2!=this.K&&($l(),Jl(17)),_h(this),this.o=2,wh(this)):yh(this,this.Y-n)},(cn=Th.prototype).R=function(){Ih(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},cn.T=function(){return Ih(this),this.g.concat()},cn.get=function(e,t){return Sh(this.h,e)?this.h[e]:t},cn.set=function(e,t){Sh(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},cn.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var xh=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function kh(e,t){var n;this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof kh?(this.g=void 0!==t?t:e.g,Oh(this,e.j),this.s=e.s,Ph(this,e.i),Ah(this,e.m),this.l=e.l,t=e.h,(n=new Hh).i=t.i,t.g&&(n.g=new Th(t.g),n.h=t.h),Rh(this,n),this.o=e.o):e&&(n=String(e).match(xh))?(this.g=!!t,Oh(this,n[1]||"",!0),this.s=Lh(n[2]||""),Ph(this,n[3]||"",!0),Ah(this,n[4]),this.l=Lh(n[5]||"",!0),Rh(this,n[6]||"",!0),this.o=Lh(n[7]||"")):(this.g=!!t,this.h=new Hh(null,this.g))}function Nh(e){return new kh(e)}function Oh(e,t,n){e.j=n?Lh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ph(e,t,n){e.i=n?Lh(t,!0):t}function Ah(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Rh(e,t,n){var r,i;t instanceof Hh?(e.h=t,r=e.h,(i=e.g)&&!r.j&&(Wh(r),r.i=null,r.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Gh(this,t),Zh(this,n,e))}),r)),r.j=i):(n||(t=Fh(t,Bh)),e.h=new Hh(t,e.g))}function Dh(e,t,n){e.h.set(t,n)}function Mh(e){return Dh(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Lh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Fh(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,jh),e=n?e.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):e):null}function jh(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}kh.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Fh(t,Uh,!0),":");var n=this.i;return!n&&"file"!=t||(e.push("//"),(t=this.s)&&e.push(Fh(t,Uh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Fh(n,"/"==n.charAt(0)?qh:Vh,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Fh(n,zh)),e.join("")};var Uh=/[#\/\?@]/g,Vh=/[#\?:]/g,qh=/[#\?]/g,Bh=/[#\?@]/g,zh=/#/g;function Hh(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Wh(e){e.g||(e.g=new Th,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r,i=e[n].indexOf("="),o=null;0<=i?(r=e[n].substring(0,i),o=e[n].substring(i+1)):r=e[n],t(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Gh(e,t){Wh(e),t=Yh(e,t),Sh(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Sh((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ih(e)))}function Kh(e,t){return Wh(e),t=Yh(e,t),Sh(e.g.h,t)}function Zh(e,t,n){Gh(e,t),0<n.length&&(e.i=null,e.g.set(Yh(e,t),Nc(n)),e.h+=n.length)}function Yh(e,t){return t=String(t),e.j?t.toLowerCase():t}(cn=Hh.prototype).add=function(e,t){Wh(this),this.i=null,e=Yh(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},cn.forEach=function(e,t){Wh(this),this.g.forEach((function(n,r){xc(n,(function(n){e.call(t,n,r,this)}),this)}),this)},cn.T=function(){Wh(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},cn.R=function(e){Wh(this);var t=[];if("string"==typeof e)Kh(this,e)&&(t=kc(t,this.g.get(Yh(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=kc(t,e[n])}return t},cn.set=function(e,t){return Wh(this),this.i=null,Kh(this,e=Yh(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},cn.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},cn.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++)for(var r=t[n],i=encodeURIComponent(String(r)),o=(r=this.R(r),0);o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}return this.i=e.join("&")};var $h=function(e,t){this.h=e,this.g=t};function Qh(e){this.l=e||Xh,e=pc.PerformanceNavigationTiming?0<(e=pc.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(pc.g&&pc.g.Ea&&pc.g.Ea()&&pc.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Jh,Xh=10;function ef(e){return e.h||e.g&&e.g.size>=e.j}function tf(e){return e.h?1:e.g?e.g.size:0}function nf(e,t){return e.h?e.h==t:e.g&&e.g.has(t)}function rf(e,t){e.g?e.g.add(t):e.h=t}function of(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function af(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null==e.g||0===e.g.size)return Nc(e.i);var r=e.i;try{for(var i=hc(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function sf(){}function uf(){this.g=new sf}function cf(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function lf(e){this.l=e.$b||null,this.j=e.ib||!1}function hf(e,t){wl.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=ff,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qh.prototype.cancel=function(){var e,t;if(this.i=af(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=hc(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},sf.prototype.stringify=function(e){return pc.JSON.stringify(e,void 0)},sf.prototype.parse=function(e){return pc.JSON.parse(e,void 0)},Cc(lf,th),lf.prototype.g=function(){return new hf(this.l,this.j)},lf.prototype.i=(Jh={},function(){return Jh}),Cc(hf,wl);var ff=0;function pf(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function df(e){e.readyState=4,e.l=null,e.j=null,e.A=null,mf(e)}function mf(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(cn=hf.prototype).open=function(e,t){if(this.readyState!=ff)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,mf(this)},cn.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||pc).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},cn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,df(this)),this.readyState=ff},cn.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,mf(this)),this.g&&(this.readyState=3,mf(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==pc.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pf(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},cn.Sa=function(e){var t;this.g&&(this.u&&e.value?this.response.push(e.value):this.u||(t=e.value||new Uint8Array(0),(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)),(e.done?df:mf)(this),3==this.readyState&&pf(this))},cn.Ua=function(e){this.g&&(this.response=this.responseText=e,df(this))},cn.Ta=function(e){this.g&&(this.response=e,df(this))},cn.ha=function(){this.g&&df(this)},cn.setRequestHeader=function(e,t){this.v.append(e,t)},cn.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},cn.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(hf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var vf=pc.JSON.parse;function gf(e){wl.call(this),this.headers=new Th,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=yf,this.K=this.L=!1}Cc(gf,wl);var yf="",bf=/^https?$/i,wf=["POST","PUT"];function _f(e){return"content-type"==e.toLowerCase()}function Ef(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Cf(e),If(e)}function Cf(e){e.D||(e.D=!0,_l(e,"complete"),_l(e,"error"))}function Tf(e){if(e.h&&void 0!==fc&&(!e.C[1]||4!=xf(e)||2!=e.ba()))if(e.v&&4==xf(e))Ll(e.Fa,0,e);else if(_l(e,"readystatechange"),4==xf(e)){e.h=!1;try{var t,n,r,i,o=e.ba();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break e;default:a=!1}if((t=a)||((n=0===o)&&(!(i=String(e.H).match(xh)[1]||null)&&pc.self&&pc.self.location&&(i=(r=pc.self.location.protocol).substr(0,r.length-1)),n=!bf.test(i?i.toLowerCase():"")),t=n),t)_l(e,"complete"),_l(e,"success");else{e.m=6;try{var s=2<xf(e)?e.g.statusText:""}catch(e){s=""}e.j=s+" ["+e.ba()+"]",Cf(e)}}finally{If(e)}}}function If(e,t){if(e.g){Sf(e);var n=e.g,r=e.C[0]?dc:null;e.g=null,e.C=null,t||_l(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function Sf(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(pc.clearTimeout(e.A),e.A=null)}function xf(e){return e.g?e.g.readyState:0}function kf(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case yf:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Nf(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}var i;r||(i="",Lc(n,(function(e,t){i+=t,i+=":",i+=e,i+="\r\n"})),n=i,"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Dh(e,t,n))}function Of(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Pf(e){this.za=0,this.l=[],this.h=new Hl,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Of("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Of("baseRetryDelayMs",5e3,e),this.$a=Of("retryDelaySeedMs",1e4,e),this.Ya=Of("forwardChannelMaxRetries",2,e),this.ra=Of("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Qh(e&&e.concurrentRequestLimit),this.Ca=new uf,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Af(e){var t,n;Df(e),3==e.G&&(t=e.V++,Dh(n=Nh(e.F),"SID",e.J),Dh(n,"RID",t),Dh(n,"TYPE","terminate"),jf(e,n),(t=new sh(e,e.h,t,void 0)).K=2,t.v=Mh(Nh(n)),n=!1,!(n=pc.navigator&&pc.navigator.sendBeacon?pc.navigator.sendBeacon(t.v.toString(),""):n)&&pc.Image&&((new Image).src=t.v,n=!0),n||(t.g=$f(t.l,null),t.g.ea(t.v)),t.F=Date.now(),gh(t)),Zf(e)}function Rf(e){e.g&&(Bf(e),e.g.cancel(),e.g=null)}function Df(e){Rf(e),e.u&&(pc.clearTimeout(e.u),e.u=null),Hf(e),e.i.cancel(),e.m&&("number"==typeof e.m&&pc.clearTimeout(e.m),e.m=null)}function Mf(e,t){e.l.push(new $h(e.Za++,t)),3==e.G&&Lf(e)}function Lf(e){ef(e.i)||e.m||(e.m=!0,Ol(e.Ha,e),e.C=0)}function Ff(e,t){var n=t?t.m:e.V++,r=Nh(e.F);Dh(r,"SID",e.J),Dh(r,"RID",n),Dh(r,"AID",e.U),jf(e,r),e.o&&e.s&&Nf(r,e.o,e.s),n=new sh(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Uf(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),rf(e.i,n),ph(n,r,t)}function jf(e,t){e.j&&Ch({},(function(e,n){Dh(t,n,e)}))}function Uf(e,t,n){n=Math.min(e.l.length,n);var r=e.j?_c(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if((c-=o)<0)o=Math.max(0,i[u].h-100),s=!1;else try{!function(e,t,n){var r=n||"";try{Ch(e,(function(e,n){var i=e;vc(e)&&(i=Cl(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Vf(e){e.g||e.u||(e.Y=1,Ol(e.Ga,e),e.A=0)}function qf(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=eh(_c(e.Ga,e),Gf(e,e.A)),e.A++,1)}function Bf(e){null!=e.B&&(pc.clearTimeout(e.B),e.B=null)}function zf(e){e.g=new sh(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Nh(e.oa);Dh(t,"RID","rpc"),Dh(t,"SID",e.J),Dh(t,"CI",e.N?"0":"1"),Dh(t,"AID",e.U),jf(e,t),Dh(t,"TYPE","xmlhttp"),e.o&&e.s&&Nf(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Mh(Nh(t)),n.s=null,n.U=!0,dh(n,e)}function Hf(e){null!=e.v&&(pc.clearTimeout(e.v),e.v=null)}function Wf(e,t){var n,r,i,o=null;if(e.g==t){Hf(e),Bf(e),e.g=null;var a=2}else{if(!nf(e.i,t))return;o=t.D,of(e.i,t),a=1}if(e.I=t.N,0!=e.G)if(t.i)1==a?(o=t.s?t.s.length:0,t=Date.now()-t.F,n=e.C,_l(a=Zl(),new Xl(a,o)),Lf(e)):Vf(e);else if(3==(n=t.o)||0==n&&0<e.I||(1!=a||(i=t,tf((r=e).i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=i.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=eh(_c(r.Ha,r,i),Gf(r,r.C)),r.C++,0))))&&(2!=a||!qf(e)))switch(o&&0<o.length&&(t=e.i,t.i=t.i.concat(o)),n){case 1:Kf(e,5);break;case 4:Kf(e,10);break;case 3:Kf(e,6);break;default:Kf(e,2)}}function Gf(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Kf(e,t){var n,r,i,o;e.h.info("Error code "+t),2==t?(r=null,e.j&&(r=null),o=_c(e.jb,e),r||(r=new kh("//www.google.com/images/cleardot.gif"),pc.location&&"http"==pc.location.protocol||Oh(r,"https"),Mh(r)),n=r.toString(),r=o,o=new Hl,pc.Image?((i=new Image).onload=Ec(cf,o,i,"TestLoadImage: loaded",!0,r),i.onerror=Ec(cf,o,i,"TestLoadImage: error",!1,r),i.onabort=Ec(cf,o,i,"TestLoadImage: abort",!1,r),i.ontimeout=Ec(cf,o,i,"TestLoadImage: timeout",!1,r),pc.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=n):r(!1)):Jl(2),e.G=0,e.j&&e.j.va(t),Zf(e),Df(e)}function Zf(e){e.G=0,e.I=-1,e.j&&(0==af(e.i).length&&0==e.l.length||(e.i.i.length=0,Nc(e.l),e.l.length=0),e.j.ua())}function Yf(e,t,n){var r,i,o,a,s,u=(a=n)instanceof kh?Nh(a):new kh(a,void 0);return""!=u.i?(t&&Ph(u,t+"."+u.i),Ah(u,u.m)):(r=(s=pc.location).protocol,i=t?t+"."+s.hostname:s.hostname,o=+s.port,a=n,s=new kh(null,void 0),r&&Oh(s,r),i&&Ph(s,i),o&&Ah(s,o),a&&(s.l=a),u=s),e.aa&&Lc(e.aa,(function(e,t){Dh(u,t,e)})),t=e.D,n=e.sa,t&&n&&Dh(u,t,n),Dh(u,"VER",e.ma),jf(e,u),u}function $f(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new gf(new lf({ib:!0})):new gf(e.qa)).L=e.H,t}function Qf(){}function Jf(){if(zc&&!(10<=Number(Jc)))throw Error("Environmental error: no available transport.")}function Xf(e,t){wl.call(this),this.g=new Pf(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Oc(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Oc(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new np(this)}function ep(e){ih.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function tp(){oh.call(this),this.status=1}function np(e){this.g=e}(cn=gf.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=(this.u||ch).g(),this.C=this.u?nh(this.u):nh(ch),this.g.onreadystatechange=_c(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void Ef(this,e)}e=n||"";var i,o=new Th(this.headers);r&&Ch(r,(function(e,t){o.set(t,e)})),r=function(e){e:{for(var t=_f,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return t<0?null:"string"==typeof e?e.charAt(t):e[t]}(o.T()),n=pc.FormData&&e instanceof pc.FormData,0<=Sc(wf,t)&&!r&&!n&&o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Sf(this),0<this.B&&((this.K=(i=this.g,zc&&function(){return e=function(){for(var e=0,t=Ac(String(qc)).split("."),n=Ac("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++)for(var o=t[i]||"",a=n[i]||"";o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],(0!=o[0].length||0!=a[0].length)&&(e=Dc(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Dc(0==o[2].length,0==a[2].length)||Dc(o[2],a[2]),o=o[3],a=a[3],0==e););return 0<=e},t=Qc,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e();var e,t}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.g.timeout=this.B,this.g.ontimeout=_c(this.pa,this)):this.A=Ll(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){Ef(this,e)}},cn.pa=function(){void 0!==fc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_l(this,"timeout"),this.abort(8))},cn.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,_l(this,"complete"),_l(this,"abort"),If(this))},cn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),If(this,!0)),gf.Z.M.call(this)},cn.Fa=function(){this.s||(this.F||this.v||this.l?Tf(this):this.cb())},cn.cb=function(){Tf(this)},cn.ba=function(){try{return 2<xf(this)?this.g.status:-1}catch(e){return-1}},cn.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},cn.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),vf(t)}},cn.Da=function(){return this.m},cn.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(cn=Pf.prototype).ma=8,cn.G=1,cn.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},cn.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new sh(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Uc(n=Fc(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Uf(this,t,r),Dh(i=Nh(this.F),"RID",e),Dh(i,"CVER",22),this.D&&Dh(i,"X-HTTP-Session-Id",this.D),jf(this,i),this.o&&n&&Nf(i,this.o,n),rf(this.i,t),this.Ra&&Dh(i,"TYPE","init"),this.ja?(Dh(i,"$req",r),Dh(i,"SID","null"),t.$=!0,ph(t,i,null)):ph(t,i,r),this.G=2}}else 3==this.G&&(e?Ff(this,e):0==this.l.length||ef(this.i)||Ff(this))},cn.Ga=function(){var e;this.u=null,zf(this),this.$&&!(this.L||null==this.g||this.O<=0)&&(e=2*this.O,this.h.info("BP detection timer enabled: "+e),this.B=eh(_c(this.bb,this),e))},cn.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Jl(10),Rf(this),zf(this))},cn.ab=function(){null!=this.v&&(this.v=null,Rf(this),qf(this),Jl(19))},cn.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Jl(2)):(this.h.info("Failed to ping google.com"),Jl(1))},(cn=Qf.prototype).xa=function(){},cn.wa=function(){},cn.va=function(){},cn.ua=function(){},cn.Oa=function(){},Jf.prototype.g=function(e,t){return new Xf(e,t)},Cc(Xf,wl),Xf.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ol(_c(e.hb,e,t))),Jl(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Yf(e,null,e.W),Lf(e)},Xf.prototype.close=function(){Af(this.g)},Xf.prototype.u=function(e){var t;"string"==typeof e?((t={}).__data__=e,Mf(this.g,t)):this.v?((t={}).__data__=Cl(e),Mf(this.g,t)):Mf(this.g,e)},Xf.prototype.M=function(){this.g.j=null,delete this.j,Af(this.g),delete this.g,Xf.Z.M.call(this)},Cc(ep,ih),Cc(tp,oh),Cc(np,Qf),np.prototype.xa=function(){_l(this.g,"a")},np.prototype.wa=function(e){_l(this.g,new ep(e))},np.prototype.va=function(e){_l(this.g,new tp)},np.prototype.ua=function(){_l(this.g,"b")},Jf.prototype.createWebChannel=Jf.prototype.g,Xf.prototype.send=Xf.prototype.u,Xf.prototype.open=Xf.prototype.m,s.NO_ERROR=0,s.TIMEOUT=8,s.HTTP_ERROR=6,Me.COMPLETE="complete",(rh.EventType=ut).OPEN="a",ut.CLOSE="b",ut.ERROR="c",ut.MESSAGE="d",wl.prototype.listen=wl.prototype.N,gf.prototype.listenOnce=gf.prototype.O,gf.prototype.getLastError=gf.prototype.La,gf.prototype.getLastErrorCode=gf.prototype.Da,gf.prototype.getStatus=gf.prototype.ba,gf.prototype.getResponseJson=gf.prototype.Qa,gf.prototype.getResponseText=gf.prototype.ga,gf.prototype.send=gf.prototype.ea;var rp=Zl,ip=s,op=Me,ap=Gl,sp=10,up=11,cp=lf,lp=rh,hp=gf,fp=(pp.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},pp.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},pp);function pp(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}fp.o=-1;var dp,mp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},vp=(dp=Error,(0,sc.ZT)(yp,dp),yp),gp=new cc.Yd("@firebase/firestore");function yp(e,t){var n=this;return(n=dp.call(this,t)||this).code=e,n.message=t,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function bp(){return gp.logLevel}function wp(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];gp.logLevel<=cc.in.DEBUG&&(t=n.map(Cp),gp.debug.apply(gp,(0,sc.ev)(["Firestore (8.7.0): "+e],t)))}function _p(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];gp.logLevel<=cc.in.ERROR&&(t=n.map(Cp),gp.error.apply(gp,(0,sc.ev)(["Firestore (8.7.0): "+e],t)))}function Ep(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];gp.logLevel<=cc.in.WARN&&(t=n.map(Cp),gp.warn.apply(gp,(0,sc.ev)(["Firestore (8.7.0): "+e],t)))}function Cp(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function Tp(e){throw _p(e="FIRESTORE (8.7.0) INTERNAL ASSERTION FAILED: "+(e=void 0===e?"Unexpected state":e)),new Error(e)}function Ip(e){e||Tp()}var Sp=(xp.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=function(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(40);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<40;r++)n[r]=Math.floor(256*Math.random());return n}(),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},xp);function xp(){}function kp(e,t){return e<t?-1:t<e?1:0}function Np(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Op=(Rp.now=function(){return Rp.fromMillis(Date.now())},Rp.fromDate=function(e){return Rp.fromMillis(e.getTime())},Rp.fromMillis=function(e){var t=Math.floor(e/1e3);return new Rp(t,Math.floor(1e6*(e-1e3*t)))},Rp.prototype.toDate=function(){return new Date(this.toMillis())},Rp.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},Rp.prototype._compareTo=function(e){return this.seconds===e.seconds?kp(this.nanoseconds,e.nanoseconds):kp(this.seconds,e.seconds)},Rp.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},Rp.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},Rp.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},Rp.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},Rp),Pp=(Ap.fromTimestamp=function(e){return new Ap(e)},Ap.min=function(){return new Ap(new Op(0,0))},Ap.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},Ap.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},Ap.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},Ap.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},Ap.prototype.toTimestamp=function(){return this.timestamp},Ap);function Ap(e){this.timestamp=e}function Rp(e,t){if(this.seconds=e,(this.nanoseconds=t)<0)throw new vp(mp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(1e9<=t)throw new vp(mp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new vp(mp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(253402300800<=e)throw new vp(mp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}function Dp(e){var t,n=0;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n++;return n}function Mp(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Lp(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Object.defineProperty(Zp.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),Zp.prototype.isEqual=function(e){return 0===Zp.comparator(this,e)},Zp.prototype.child=function(e){var t=this.segments.slice(this.offset,this.limit());return e instanceof Zp?e.forEach((function(e){t.push(e)})):t.push(e),this.construct(t)},Zp.prototype.limit=function(){return this.offset+this.length},Zp.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},Zp.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},Zp.prototype.firstSegment=function(){return this.segments[this.offset]},Zp.prototype.lastSegment=function(){return this.get(this.length-1)},Zp.prototype.get=function(e){return this.segments[this.offset+e]},Zp.prototype.isEmpty=function(){return 0===this.length},Zp.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},Zp.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},Zp.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},Zp.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},Zp.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(o<i)return 1}return e.length<t.length?-1:e.length>t.length?1:0},cn=Zp;var Fp,jp,Up=(jp=cn,(0,sc.ZT)(Kp,jp),Kp.prototype.construct=function(e,t,n){return new Kp(e,t,n)},Kp.prototype.canonicalString=function(){return this.toArray().join("/")},Kp.prototype.toString=function(){return this.canonicalString()},Kp.fromString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];if(0<=o.indexOf("//"))throw new vp(mp.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");n.push.apply(n,o.split("/").filter((function(e){return 0<e.length})))}return new Kp(n)},Kp.emptyPath=function(){return new Kp([])},Kp),Vp=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qp=(Fp=cn,(0,sc.ZT)(Gp,Fp),Gp.prototype.construct=function(e,t,n){return new Gp(e,t,n)},Gp.isValidIdentifier=function(e){return Vp.test(e)},Gp.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gp.isValidIdentifier(e)?e:"`"+e+"`"})).join(".")},Gp.prototype.toString=function(){return this.canonicalString()},Gp.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},Gp.keyField=function(){return new Gp(["__name__"])},Gp.fromServerFormat=function(e){for(var t=[],n="",r=0,i=function(){if(0===n.length)throw new vp(mp.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");t.push(n),n=""},o=!1;r<e.length;){var a=e[r];if("\\"===a){if(r+1===e.length)throw new vp(mp.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[r+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new vp(mp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=s,r+=2}else"`"===a?o=!o:"."!==a||o?n+=a:i(),r++}if(i(),o)throw new vp(mp.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gp(t)},Gp.emptyPath=function(){return new Gp([])},Gp),Bp=(Wp.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},Wp.prototype.isEqual=function(e){return Np(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},Wp),zp=(Hp.fromBase64String=function(e){return new Hp(atob(e))},Hp.fromUint8Array=function(e){return new Hp(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e))},Hp.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},Hp.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},Hp.prototype.approximateByteSize=function(){return 2*this.binaryString.length},Hp.prototype.compareTo=function(e){return kp(this.binaryString,e.binaryString)},Hp.prototype.isEqual=function(e){return this.binaryString===e.binaryString},Hp);function Hp(e){this.binaryString=e}function Wp(e){(this.fields=e).sort(qp.comparator)}function Gp(){return null!==Fp&&Fp.apply(this,arguments)||this}function Kp(){return null!==jp&&jp.apply(this,arguments)||this}function Zp(e,t,n){void 0===t?t=0:t>e.length&&Tp(),void 0===n?n=e.length-t:n>e.length-t&&Tp(),this.segments=e,this.offset=t,this.len=n}zp.EMPTY_BYTE_STRING=new zp("");var Yp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $p(e){if(Ip(!!e),"string"!=typeof e)return{seconds:Qp(e.seconds),nanos:Qp(e.nanos)};var t=0,n=Yp.exec(e);return Ip(!!n),n[1]&&(n=((n=n[1])+"000000000").substr(0,9),t=Number(n)),e=new Date(e),{seconds:Math.floor(e.getTime()/1e3),nanos:t}}function Qp(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Jp(e){return"string"==typeof e?zp.fromBase64String(e):zp.fromUint8Array(e)}function Xp(e){return"server_timestamp"===(null===(e=((null===(e=null==e?void 0:e.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function ed(e){return e=$p(e.mapValue.fields.__local_write_time__.timestampValue),new Op(e.seconds,e.nanos)}function td(e){return null==e}function nd(e){return 0===e&&1/e==-1/0}function rd(e){return"number"==typeof e&&Number.isInteger(e)&&!nd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var id=(od.fromPath=function(e){return new od(Up.fromString(e))},od.fromName=function(e){return new od(Up.fromString(e).popFirst(5))},od.prototype.hasCollectionId=function(e){return 2<=this.path.length&&this.path.get(this.path.length-2)===e},od.prototype.isEqual=function(e){return null!==e&&0===Up.comparator(this.path,e.path)},od.prototype.toString=function(){return this.path.toString()},od.comparator=function(e,t){return Up.comparator(e.path,t.path)},od.isDocumentKey=function(e){return e.length%2==0},od.fromSegments=function(e){return new od(new Up(e.slice()))},od);function od(e){this.path=e}function ad(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Xp(e)?4:10:Tp()}function sd(e,t){var n,r,i=ad(e);if(i!==ad(t))return!1;switch(i){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ed(e).isEqual(ed(t));case 3:return function(t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=$p(e.timestampValue);t=$p(t.timestampValue);return n.seconds===t.seconds&&n.nanos===t.nanos}(t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,Jp(e.bytesValue).isEqual(Jp(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return n=t,Qp((r=e).geoPointValue.latitude)===Qp(n.geoPointValue.latitude)&&Qp(r.geoPointValue.longitude)===Qp(n.geoPointValue.longitude);case 2:return function(e,t){return"integerValue"in e&&"integerValue"in t?Qp(e.integerValue)===Qp(t.integerValue):"doubleValue"in e&&"doubleValue"in t&&((e=Qp(e.doubleValue))===(t=Qp(t.doubleValue))?nd(e)===nd(t):isNaN(e)&&isNaN(t))}(e,t);case 9:return Np(e.arrayValue.values||[],t.arrayValue.values||[],sd);case 10:return function(){var n,r=e.mapValue.fields||{},i=t.mapValue.fields||{};if(Dp(r)!==Dp(i))return!1;for(n in r)if(r.hasOwnProperty(n)&&(void 0===i[n]||!sd(r[n],i[n])))return!1;return!0}();default:return Tp()}}function ud(e,t){return void 0!==(e.values||[]).find((function(e){return sd(e,t)}))}function cd(e,t){var n,r,i,o=ad(e),a=ad(t);if(o!==a)return kp(o,a);switch(o){case 0:return 0;case 1:return kp(e.booleanValue,t.booleanValue);case 2:return r=t,(i=Qp(e.integerValue||e.doubleValue))<(r=Qp(r.integerValue||r.doubleValue))?-1:r<i?1:i===r?0:isNaN(i)?isNaN(r)?0:-1:1;case 3:return ld(e.timestampValue,t.timestampValue);case 4:return ld(ed(e),ed(t));case 5:return kp(e.stringValue,t.stringValue);case 6:return function(e,t){return e=Jp(e),t=Jp(t),e.compareTo(t)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=kp(n[i],r[i]);if(0!==o)return o}return kp(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return n=e.geoPointValue,i=t.geoPointValue,0!==(r=kp(Qp(n.latitude),Qp(i.latitude)))?r:kp(Qp(n.longitude),Qp(i.longitude));case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=cd(n[i],r[i]);if(o)return o}return kp(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=kp(r[a],o[a]);if(0!==s)return s;if(0!==(s=cd(n[r[a]],i[o[a]])))return s}return kp(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Tp()}}function ld(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return kp(e,t);var n=$p(e);e=$p(t);return 0!==(t=kp(n.seconds,e.seconds))?t:kp(n.nanos,e.nanos)}function hd(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){return"time("+(e=$p(e)).seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Jp(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,id.fromName(n).toString()):"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(t){for(var n="[",r=!0,i=0,o=t.values||[];i<o.length;i++)r?r=!1:n+=",",n+=e(o[i]);return n+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var n="{",r=!0,i=0,o=Object.keys(t.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+e(t.fields[a])}return n+"}"}(t.mapValue):Tp();var n}(e)}function fd(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function pd(e){return e&&"integerValue"in e}function dd(e){return!!e&&"arrayValue"in e}function md(e){return e&&"nullValue"in e}function vd(e){return e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function gd(e){return e&&"mapValue"in e}function yd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue)return{timestampValue:Object.assign({},$p(e.timestampValue))};if(e.mapValue){var t={mapValue:{fields:{}}};return Mp(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=yd(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=yd(e.arrayValue.values[r]);return n}return Object.assign({},e)}var bd=(wd.empty=function(){return new wd({mapValue:{}})},wd.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!gd(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},wd.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yd(t)},wd.prototype.setAll=function(e){var t=this,n=qp.emptyPath(),r={},i=[];e.forEach((function(e,o){var a;n.isImmediateParentOf(o)||(a=t.getFieldsMap(n),t.applyChanges(a,r,i),r={},i=[],n=o.popLast()),e?r[o.lastSegment()]=yd(e):i.push(o.lastSegment())})),e=this.getFieldsMap(n),this.applyChanges(e,r,i)},wd.prototype.delete=function(e){var t=this.field(e.popLast());gd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},wd.prototype.isEqual=function(e){return sd(this.value,e.value)},wd.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];gd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},wd.prototype.applyChanges=function(e,t,n){Mp(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},wd.prototype.clone=function(){return new wd(yd(this.value))},wd);function wd(e){this.value=e}var _d=(Cd.newInvalidDocument=function(e){return new Cd(e,0,Pp.min(),bd.empty(),0)},Cd.newFoundDocument=function(e,t,n){return new Cd(e,1,t,n,0)},Cd.newNoDocument=function(e,t){return new Cd(e,2,t,bd.empty(),0)},Cd.newUnknownDocument=function(e,t){return new Cd(e,3,t,bd.empty(),2)},Cd.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},Cd.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=bd.empty(),this.documentState=0,this},Cd.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=bd.empty(),this.documentState=2,this},Cd.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},Cd.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(Cd.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(Cd.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(Cd.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),Cd.prototype.isValidDocument=function(){return 0!==this.documentType},Cd.prototype.isFoundDocument=function(){return 1===this.documentType},Cd.prototype.isNoDocument=function(){return 2===this.documentType},Cd.prototype.isUnknownDocument=function(){return 3===this.documentType},Cd.prototype.isEqual=function(e){return e instanceof Cd&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},Cd.prototype.clone=function(){return new Cd(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},Cd.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},Cd),Ed=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Cd(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}function Td(e,t,n,r,i,o,a){return new Ed(e,t=void 0===t?null:t,n=void 0===n?[]:n,r=void 0===r?[]:r,i=void 0===i?null:i,o=void 0===o?null:o,a=void 0===a?null:a)}function Id(e){var t=e;return null===t.h&&(e=t.path.canonicalString(),null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((function(e){return(e=e).field.canonicalString()+e.op.toString()+hd(e.value)})).join(","),e+="|ob:",e+=t.orderBy.map((function(e){return(e=e).field.canonicalString()+e.dir})).join(","),td(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=em(t.startAt)),t.endAt&&(e+="|ub:",e+=em(t.endAt)),t.h=e),t.h}function Sd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n,r,i=0;i<e.orderBy.length;i++)if(n=e.orderBy[i],r=t.orderBy[i],n.dir!==r.dir||!n.field.isEqual(r.field))return!1;if(e.filters.length!==t.filters.length)return!1;for(var o,a,s=0;s<e.filters.length;s++)if(o=e.filters[s],a=t.filters[s],o.op!==a.op||!o.field.isEqual(a.field)||!sd(o.value,a.value))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rm(e.startAt,t.startAt)&&rm(e.endAt,t.endAt)}function xd(e){return id.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var kd,Nd=(kd=function(){},(0,sc.ZT)(Od,kd),Od.create=function(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.l(e,t,n):new Dd(e,t,n):"array-contains"===t?new Wd(e,n):"in"===t?new Gd(e,n):"not-in"===t?new Kd(e,n):"array-contains-any"===t?new Zd(e,n):new Od(e,t,n)},Od.l=function(e,t,n){return new("in"===t?Md:Ld)(e,n)},Od.prototype.matches=function(e){return e=e.data.field(this.field),"!="===this.op?null!==e&&this.m(cd(e,this.value)):null!==e&&ad(this.value)===ad(e)&&this.m(cd(e,this.value))},Od.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return 0<e;case">=":return 0<=e;default:return Tp()}},Od.prototype.g=function(){return 0<=["<","<=",">",">=","!=","not-in"].indexOf(this.op)},Od);function Od(e,t,n){var r=this;return(r=kd.call(this)||this).field=e,r.op=t,r.value=n,r}var Pd,Ad,Rd,Dd=(Rd=Nd,(0,sc.ZT)(Ud,Rd),Ud.prototype.matches=function(e){return e=id.comparator(e.key,this.key),this.m(e)},Ud),Md=(Ad=Nd,(0,sc.ZT)(jd,Ad),jd.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},jd),Ld=(Pd=Nd,(0,sc.ZT)(Fd,Pd),Fd.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},Fd);function Fd(e,t){var n=this;return(n=Pd.call(this,e,"not-in",t)||this).keys=Vd(0,t),n}function jd(e,t){var n=this;return(n=Ad.call(this,e,"in",t)||this).keys=Vd(0,t),n}function Ud(e,t,n){var r=this;return(r=Rd.call(this,e,t,n)||this).key=id.fromName(n.referenceValue),r}function Vd(e,t){return((null===(t=t.arrayValue)||void 0===t?void 0:t.values)||[]).map((function(e){return id.fromName(e.referenceValue)}))}var qd,Bd,zd,Hd,Wd=(Hd=Nd,(0,sc.ZT)(Xd,Hd),Xd.prototype.matches=function(e){return dd(e=e.data.field(this.field))&&ud(e.arrayValue,this.value)},Xd),Gd=(zd=Nd,(0,sc.ZT)(Jd,zd),Jd.prototype.matches=function(e){return null!==(e=e.data.field(this.field))&&ud(this.value.arrayValue,e)},Jd),Kd=(Bd=Nd,(0,sc.ZT)(Qd,Bd),Qd.prototype.matches=function(e){return!ud(this.value.arrayValue,{nullValue:"NULL_VALUE"})&&(null!==(e=e.data.field(this.field))&&!ud(this.value.arrayValue,e))},Qd),Zd=(qd=Nd,(0,sc.ZT)($d,qd),$d.prototype.matches=function(e){var t=this;return!(!dd(e=e.data.field(this.field))||!e.arrayValue.values)&&e.arrayValue.values.some((function(e){return ud(t.value.arrayValue,e)}))},$d),Yd=function(e,t){this.position=e,this.before=t};function $d(e,t){return qd.call(this,e,"array-contains-any",t)||this}function Qd(e,t){return Bd.call(this,e,"not-in",t)||this}function Jd(e,t){return zd.call(this,e,"in",t)||this}function Xd(e,t){return Hd.call(this,e,"array-contains",t)||this}function em(e){return(e.before?"b":"a")+":"+e.position.map(hd).join(",")}var tm=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function nm(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];r=o.field.isKeyField()?id.comparator(id.fromName(a.referenceValue),n.key):cd(a,n.data.field(o.field));if("desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function rm(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!sd(e.position[n],t.position[n]))return!1;return!0}var im=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function om(e,t,n,r,i,o,a,s){return new im(e,t,n,r,i,o,a,s)}function am(e){return new im(e)}function sm(e){return!td(e.limit)&&"F"===e.limitType}function um(e){return!td(e.limit)&&"L"===e.limitType}function cm(e){return 0<e.explicitOrderBy.length?e.explicitOrderBy[0].field:null}function lm(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function hm(e){return null!==e.collectionGroup}function fm(e){var t=e;if(null===t.p){t.p=[];var n=lm(t);e=cm(t);if(null!==n&&null===e)n.isKeyField()||t.p.push(new tm(n)),t.p.push(new tm(qp.keyField(),"asc"));else{for(var r=!1,i=0,o=t.explicitOrderBy;i<o.length;i++){var a=o[i];t.p.push(a),a.field.isKeyField()&&(r=!0)}r||(n=0<t.explicitOrderBy.length?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",t.p.push(new tm(qp.keyField(),n)))}}return t.p}function pm(e){var t=e;if(!t.T)if("F"===t.limitType)t.T=Td(t.path,t.collectionGroup,fm(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=fm(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new tm(o.field,a))}var s=t.endAt?new Yd(t.endAt.position,!t.endAt.before):null;e=t.startAt?new Yd(t.startAt.position,!t.startAt.before):null;t.T=Td(t.path,t.collectionGroup,n,t.filters,t.limit,s,e)}return t.T}function dm(e,t,n){return new im(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function mm(e,t){return Sd(pm(e),pm(t))&&e.limitType===t.limitType}function vm(e){return Id(pm(e))+"|lt:"+e.limitType}function gm(e){return"Query(target="+(n=(t=pm(e)).path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),0<t.filters.length&&(n+=", filters: ["+t.filters.map((function(e){return(e=e).field.canonicalString()+" "+e.op+" "+hd(e.value)})).join(", ")+"]"),td(t.limit)||(n+=", limit: "+t.limit),0<t.orderBy.length&&(n+=", orderBy: ["+t.orderBy.map((function(e){return(e=e).field.canonicalString()+" ("+e.dir+")"})).join(", ")+"]"),t.startAt&&(n+=", startAt: "+em(t.startAt)),t.endAt&&(n+=", endAt: "+em(t.endAt)),"Target("+n+"); limitType=")+e.limitType+")";var t,n}function ym(e,t){return t.isFoundDocument()&&(n=e,i=(r=t).key.path,null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):id.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i))&&function(t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return}return 1}(t)&&function(t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return;return 1}(t)&&(i=t,(!(t=e).startAt||nm(t.startAt,fm(t),i))&&(!t.endAt||!nm(t.endAt,fm(t),i)));var n,r,i}function bm(e){return function(t,n){for(var r=!1,i=0,o=fm(e);i<o.length;i++){var a=o[i],s=function(e,t,n){var r=e.field.isKeyField()?id.comparator(t.key,n.key):function(e,n){var r=t.data.field(e);e=n.data.field(e);return null!==r&&null!==e?cd(r,e):Tp()}(e.field,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Tp()}}(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function wm(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nd(t)?"-0":t}}function _m(e){return{integerValue:""+e}}function Em(e,t){return rd(t)?_m(t):wm(e,t)}function Cm(e,t){return e instanceof Lm?pd(e=t)||e&&"doubleValue"in e?t:{integerValue:0}:null}var Tm,Im,Sm=(Im=ut=function(){this._=void 0},(0,sc.ZT)(Nm,Im),Nm),xm=(Tm=ut,(0,sc.ZT)(km,Tm),km);function km(e){var t=this;return(t=Tm.call(this)||this).elements=e,t}function Nm(){return null!==Im&&Im.apply(this,arguments)||this}function Om(e,t){for(var n=Um(t),r=0,i=e.elements;r<i.length;r++)!function(e){n.some((function(t){return sd(t,e)}))||n.push(e)}(i[r]);return{arrayValue:{values:n}}}var Pm,Am=(Pm=ut,(0,sc.ZT)(Rm,Pm),Rm);function Rm(e){var t=this;return(t=Pm.call(this)||this).elements=e,t}function Dm(e,t){for(var n=Um(t),r=0,i=e.elements;r<i.length;r++)!function(e){n=n.filter((function(t){return!sd(t,e)}))}(i[r]);return{arrayValue:{values:n}}}var Mm,Lm=(Mm=ut,(0,sc.ZT)(Fm,Mm),Fm);function Fm(e,t){var n=this;return(n=Mm.call(this)||this).R=e,n.A=t,n}function jm(e){return Qp(e.integerValue||e.doubleValue)}function Um(e){return dd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Vm(e,t){this.version=e,this.transformResults=t}var qm=function(e,t){this.field=e,this.transform=t},Bm=(zm.none=function(){return new zm},zm.exists=function(e){return new zm(void 0,e)},zm.updateTime=function(e){return new zm(e)},Object.defineProperty(zm.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),zm.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},zm);function zm(e,t){this.updateTime=e,this.exists=t}function Hm(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}function Wm(e,t,n){var r,i,o,a;e instanceof $m?(i=t,o=n,Hm((r=e).precondition,i)&&(a=r.value.clone(),o=nv(r.fieldTransforms,o,i),a.setAll(o),i.convertToFoundDocument(Km(i),a).setHasLocalMutations())):e instanceof Qm?(o=t,i=n,Hm((a=e).precondition,o)&&(n=nv(a.fieldTransforms,i,o),(i=o.data).setAll(ev(a)),i.setAll(n),o.convertToFoundDocument(Km(o),i).setHasLocalMutations())):(t=t,Hm(e.precondition,t)&&t.convertToNoDocument(Pp.min()))}function Gm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Np(n,r,(function(e,t){return t=t,(e=e).field.isEqual(t.field)&&(e=e.transform,t=t.transform,e instanceof xm&&t instanceof xm||e instanceof Am&&t instanceof Am?Np(e.elements,t.elements,sd):e instanceof Lm&&t instanceof Lm?sd(e.A,t.A):e instanceof Sm&&t instanceof Sm)}))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask));var n,r}function Km(e){return e.isFoundDocument()?e.version:Pp.min()}var Zm,Ym,$m=(Ym=s=function(){},(0,sc.ZT)(Xm,Ym),Xm),Qm=(Zm=s,(0,sc.ZT)(Jm,Zm),Jm);function Jm(e,t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=Zm.call(this)||this).key=e,o.data=t,o.fieldMask=n,o.precondition=r,o.fieldTransforms=i,o.type=1,o}function Xm(e,t,n,r){void 0===r&&(r=[]);var i=this;return(i=Ym.call(this)||this).key=e,i.value=t,i.precondition=n,i.fieldTransforms=r,i.type=0,i}function ev(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){var r;n.isEmpty()||(r=e.data.field(n),t.set(n,r))})),t}function tv(e,t,n){var r=new Map;Ip(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,(o=a,a=s,s=n[i],o instanceof xm?Om(o,a):o instanceof Am?Dm(o,a):s))}return r}function nv(e,t,n){for(var r,i=new Map,o=0,a=e;o<a.length;o++){var s=a[o],u=s.transform,c=n.data.field(s.field);i.set(s.field,(r=c,s=t,c=void 0,(u=u)instanceof Sm?(c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}},r&&(c.fields.__previous_value__=r),{mapValue:c}):u instanceof xm?Om(u,r):u instanceof Am?Dm(u,r):(r=jm(u=Cm(c=u,r))+jm(c.A),pd(u)&&pd(c.A)?_m(r):wm(c.R,r))))}return i}function rv(e){this.count=e}var iv,ov,av,sv=(av=s,(0,sc.ZT)(lv,av),lv),uv=(ov=s,(0,sc.ZT)(cv,ov),cv);function cv(e,t){var n=this;return(n=ov.call(this)||this).key=e,n.precondition=t,n.type=3,n.fieldTransforms=[],n}function lv(e,t){var n=this;return(n=av.call(this)||this).key=e,n.precondition=t,n.type=2,n.fieldTransforms=[],n}function hv(e){switch(e){case mp.OK:return Tp(),0;case mp.CANCELLED:case mp.UNKNOWN:case mp.DEADLINE_EXCEEDED:case mp.RESOURCE_EXHAUSTED:case mp.INTERNAL:case mp.UNAVAILABLE:case mp.UNAUTHENTICATED:return;case mp.INVALID_ARGUMENT:case mp.NOT_FOUND:case mp.ALREADY_EXISTS:case mp.PERMISSION_DENIED:case mp.FAILED_PRECONDITION:case mp.ABORTED:case mp.OUT_OF_RANGE:case mp.UNIMPLEMENTED:case mp.DATA_LOSS:return 1;default:return Tp(),0}}function fv(e){if(void 0===e)return _p("GRPC error has no .code"),mp.UNKNOWN;switch(e){case iv.OK:return mp.OK;case iv.CANCELLED:return mp.CANCELLED;case iv.UNKNOWN:return mp.UNKNOWN;case iv.DEADLINE_EXCEEDED:return mp.DEADLINE_EXCEEDED;case iv.RESOURCE_EXHAUSTED:return mp.RESOURCE_EXHAUSTED;case iv.INTERNAL:return mp.INTERNAL;case iv.UNAVAILABLE:return mp.UNAVAILABLE;case iv.UNAUTHENTICATED:return mp.UNAUTHENTICATED;case iv.INVALID_ARGUMENT:return mp.INVALID_ARGUMENT;case iv.NOT_FOUND:return mp.NOT_FOUND;case iv.ALREADY_EXISTS:return mp.ALREADY_EXISTS;case iv.PERMISSION_DENIED:return mp.PERMISSION_DENIED;case iv.FAILED_PRECONDITION:return mp.FAILED_PRECONDITION;case iv.ABORTED:return mp.ABORTED;case iv.OUT_OF_RANGE:return mp.OUT_OF_RANGE;case iv.UNIMPLEMENTED:return mp.UNIMPLEMENTED;case iv.DATA_LOSS:return mp.DATA_LOSS;default:return Tp()}}(Me=iv=iv||{})[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";var pv=(yv.prototype.insert=function(e,t){return new yv(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mv.BLACK,null,null))},yv.prototype.remove=function(e){return new yv(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mv.BLACK,null,null))},yv.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:0<n&&(t=t.right)}return null},yv.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;n=r<0?n.left:(t+=n.left.size+1,n.right)}return-1},yv.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(yv.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),yv.prototype.minKey=function(){return this.root.minKey()},yv.prototype.maxKey=function(){return this.root.maxKey()},yv.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},yv.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},yv.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},yv.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},yv.prototype.getIterator=function(){return new dv(this.root,null,this.comparator,!1)},yv.prototype.getIteratorFrom=function(e){return new dv(this.root,e,this.comparator,!1)},yv.prototype.getReverseIterator=function(){return new dv(this.root,null,this.comparator,!0)},yv.prototype.getReverseIteratorFrom=function(e){return new dv(this.root,e,this.comparator,!0)},yv),dv=(gv.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},gv.prototype.hasNext=function(){return 0<this.nodeStack.length},gv.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},gv),mv=(vv.prototype.copy=function(e,t,n,r,i){return new vv(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},vv.prototype.isEmpty=function(){return!1},vv.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},vv.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},vv.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},vv.prototype.minKey=function(){return this.min().key},vv.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},vv.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},vv.prototype.removeMin=function(){if(this.left.isEmpty())return vv.EMPTY;var e=this;return(e=(e=e.left.isRed()||e.left.left.isRed()?e:e.moveRedLeft()).copy(null,null,null,e.left.removeMin(),null)).fixUp()},vv.prototype.remove=function(e,t){var n,r=this;if(t(e,r.key)<0)r=(r=r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()?r:r.moveRedLeft()).copy(null,null,null,r.left.remove(e,t),null);else{if(0===t(e,(r=(r=r.left.isRed()?r.rotateRight():r).right.isEmpty()||r.right.isRed()||r.right.left.isRed()?r:r.moveRedRight()).key)){if(r.right.isEmpty())return vv.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()},vv.prototype.isRed=function(){return this.color},vv.prototype.fixUp=function(){var e=this;return(e=(e=e.right.isRed()&&!e.left.isRed()?e.rotateLeft():e).left.isRed()&&e.left.left.isRed()?e.rotateRight():e).left.isRed()&&e.right.isRed()?e.colorFlip():e},vv.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()?(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip():e},vv.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()?(e=e.rotateRight()).colorFlip():e},vv.prototype.rotateLeft=function(){var e=this.copy(null,null,vv.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},vv.prototype.rotateRight=function(){var e=this.copy(null,null,vv.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},vv.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},vv.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},vv.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Tp();if(this.right.isRed())throw Tp();var e=this.left.check();if(e!==this.right.check())throw Tp();return e+(this.isRed()?0:1)},vv);function vv(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:vv.RED,this.left=null!=r?r:vv.EMPTY,this.right=null!=i?i:vv.EMPTY,this.size=this.left.size+1+this.right.size}function gv(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}function yv(e,t){this.comparator=e,this.root=t||mv.EMPTY}function bv(){this.size=0}mv.EMPTY=null,mv.RED=!0,mv.BLACK=!1,mv.EMPTY=(Object.defineProperty(bv.prototype,"key",{get:function(){throw Tp()},enumerable:!1,configurable:!0}),Object.defineProperty(bv.prototype,"value",{get:function(){throw Tp()},enumerable:!1,configurable:!0}),Object.defineProperty(bv.prototype,"color",{get:function(){throw Tp()},enumerable:!1,configurable:!0}),Object.defineProperty(bv.prototype,"left",{get:function(){throw Tp()},enumerable:!1,configurable:!0}),Object.defineProperty(bv.prototype,"right",{get:function(){throw Tp()},enumerable:!1,configurable:!0}),bv.prototype.copy=function(e,t,n,r,i){return this},bv.prototype.insert=function(e,t,n){return new mv(e,t)},bv.prototype.remove=function(e,t){return this},bv.prototype.isEmpty=function(){return!0},bv.prototype.inorderTraversal=function(e){return!1},bv.prototype.reverseTraversal=function(e){return!1},bv.prototype.minKey=function(){return null},bv.prototype.maxKey=function(){return null},bv.prototype.isRed=function(){return!1},bv.prototype.checkMaxDepth=function(){return!0},bv.prototype.check=function(){return 0},new bv);var wv=(Tv.prototype.has=function(e){return null!==this.data.get(e)},Tv.prototype.first=function(){return this.data.minKey()},Tv.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(Tv.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),Tv.prototype.indexOf=function(e){return this.data.indexOf(e)},Tv.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},Tv.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(0<=this.comparator(r.key,e[1]))return;t(r.key)}},Tv.prototype.forEachWhile=function(e,t){for(var n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},Tv.prototype.firstAfterOrEqual=function(e){return(e=this.data.getIteratorFrom(e)).hasNext()?e.getNext().key:null},Tv.prototype.getIterator=function(){return new _v(this.data.getIterator())},Tv.prototype.getIteratorFrom=function(e){return new _v(this.data.getIteratorFrom(e))},Tv.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},Tv.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},Tv.prototype.isEmpty=function(){return this.data.isEmpty()},Tv.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},Tv.prototype.isEqual=function(e){if(!(e instanceof Tv))return!1;if(this.size!==e.size)return!1;for(var t=this.data.getIterator(),n=e.data.getIterator();t.hasNext();){var r=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(r,i))return!1}return!0},Tv.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},Tv.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},Tv.prototype.copy=function(e){var t=new Tv(this.comparator);return t.data=e,t},Tv),_v=(Cv.prototype.getNext=function(){return this.iter.getNext().key},Cv.prototype.hasNext=function(){return this.iter.hasNext()},Cv),Ev=new pv(id.comparator);function Cv(e){this.iter=e}function Tv(e){this.comparator=e,this.data=new pv(this.comparator)}var Iv=new pv(id.comparator),Sv=new pv(id.comparator),xv=new wv(id.comparator);function kv(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=xv,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Nv=new wv(kp),Ov=(Vv.createSynthesizedRemoteEventForCurrentChange=function(e,t){var n=new Map;return n.set(e,Pv.createSynthesizedTargetChangeForCurrentChange(e,t)),new Vv(Pp.min(),n,Nv,Ev,kv())},Vv),Pv=(Uv.createSynthesizedTargetChangeForCurrentChange=function(e,t){return new Uv(zp.EMPTY_BYTE_STRING,t,kv(),kv(),kv())},Uv),Av=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Rv=function(e,t){this.targetId=e,this.V=t},Dv=function(e,t,n,r){void 0===n&&(n=zp.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Mv=(Object.defineProperty(jv.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(jv.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(jv.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(jv.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),jv.prototype.O=function(e){0<e.approximateByteSize()&&(this.F=!0,this.C=e)},jv.prototype.M=function(){var e=kv(),t=kv(),n=kv();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Tp()}})),new Pv(this.C,this.N,e,t,n)},jv.prototype.L=function(){this.F=!1,this.D=Bv()},jv.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},jv.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},jv.prototype.U=function(){this.S+=1},jv.prototype.K=function(){--this.S},jv.prototype.j=function(){this.F=!0,this.N=!0},jv),Lv=(Fv.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},Fv.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:Tp()}}))},Fv.prototype.forEachTarget=function(e,t){var n=this;0<e.targetIds.length?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},Fv.prototype.rt=function(e){var t=e.targetId,n=e.V.count;(e=this.ot(t))&&(xd(e=e.target)?0===n?(e=new id(e.path),this.tt(t,e,_d.newNoDocument(e,Pp.min()))):Ip(1===n):this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t)))},Fv.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);o&&(r.current&&xd(o.target)&&(o=new id(o.target.path),null!==t.H.get(o)||t.at(i,o)||t.tt(i,o,_d.newNoDocument(o,e))),r.$&&(n.set(i,r.M()),r.L()))}));var r=kv();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){return!(e=t.ot(e))||2===e.purpose||(i=!1)})),i&&(r=r.add(e))}));var i=new Ov(e,n,this.Y,this.H,r);return this.H=Ev,this.J=qv(),this.Y=new wv(kp),i},Fv.prototype.Z=function(e,t){var n;this.st(e)&&(n=this.at(e,t.key)?2:0,this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e)))},Fv.prototype.tt=function(e,t,n){var r;this.st(e)&&(r=this.nt(e),this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n)))},Fv.prototype.removeTarget=function(e){this.G.delete(e)},Fv.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},Fv.prototype.U=function(e){this.nt(e).U()},Fv.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Mv,this.G.set(e,t)),t},Fv.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new wv(kp),this.J=this.J.insert(e,t)),t},Fv.prototype.st=function(e){var t=null!==this.ot(e);return t||wp("WatchChangeAggregator","Detected inactive target",e),t},Fv.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},Fv.prototype.it=function(e){var t=this;this.G.set(e,new Mv),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},Fv.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},Fv);function Fv(e){this.W=e,this.G=new Map,this.H=Ev,this.J=qv(),this.Y=new wv(kp)}function jv(){this.S=0,this.D=Bv(),this.C=zp.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}function Uv(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}function Vv(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}function qv(){return new pv(id.comparator)}function Bv(){return new pv(id.comparator)}var zv={asc:"ASCENDING",desc:"DESCENDING"},Hv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wv=function(e,t){this.databaseId=e,this.I=t};function Gv(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Kv(e,t){return e.I?t.toBase64():t.toUint8Array()}function Zv(e){return Ip(!!e),Pp.fromTimestamp((e=$p(e),new Op(e.seconds,e.nanos)))}function Yv(e,t){return new Up(["projects",e.projectId,"databases",e.database]).child("documents").child(t).canonicalString()}function $v(e){return Ip(vg(e=Up.fromString(e))),e}function Qv(e,t){return Yv(e.databaseId,t.path)}function Jv(e,t){if((t=$v(t)).get(1)!==e.databaseId.projectId)throw new vp(mp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+e.databaseId.projectId);if(t.get(3)!==e.databaseId.database)throw new vp(mp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+e.databaseId.database);return new id(ng(t))}function Xv(e,t){return Yv(e.databaseId,t)}function eg(e){return 4===(e=$v(e)).length?Up.emptyPath():ng(e)}function tg(e){return new Up(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ng(e){return Ip(4<e.length&&"documents"===e.get(4)),e.popFirst(5)}function rg(e,t,n){return{name:Qv(e,t),fields:n.value.mapValue.fields}}function ig(e,t,n){var r=Jv(e,t.name);e=Zv(t.updateTime),t=new bd({mapValue:{fields:t.fields}}),t=_d.newFoundDocument(r,e,t);return n&&t.setHasCommittedMutations(),n?t.setHasCommittedMutations():t}function og(e,t){var n,r,i;if(t instanceof $m)n={update:rg(e,t.key,t.value)};else if(t instanceof sv)n={delete:Qv(e,t.key)};else if(t instanceof Qm)n={update:rg(e,t.key,t.data),updateMask:(i=t.fieldMask,r=[],i.fields.forEach((function(e){return r.push(e.canonicalString())})),{fieldPaths:r})};else{if(!(t instanceof uv))return Tp();n={verify:Qv(e,t.key)}}return 0<t.fieldTransforms.length&&(n.updateTransforms=t.fieldTransforms.map((function(e){var t=e.transform;if(t instanceof Sm)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(t instanceof xm)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:t.elements}};if(t instanceof Am)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:t.elements}};if(t instanceof Lm)return{fieldPath:e.field.canonicalString(),increment:t.A};throw Tp()}))),t.precondition.isNone||(n.currentDocument=void 0!==(i=t.precondition).updateTime?{updateTime:(t=i.updateTime,Gv(e,t.toTimestamp()))}:void 0!==i.exists?{exists:i.exists}:Tp()),n}function ag(e,t){var n=t.currentDocument?void 0!==(a=t.currentDocument).updateTime?Bm.updateTime(Zv(a.updateTime)):void 0!==a.exists?Bm.exists(a.exists):Bm.none():Bm.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n,r=null;return"setToServerValue"in t?(Ip("REQUEST_TIME"===t.setToServerValue),r=new Sm):"appendMissingElements"in t?(n=t.appendMissingElements.values||[],r=new xm(n)):"removeAllFromArray"in t?(n=t.removeAllFromArray.values||[],r=new Am(n)):"increment"in t?r=new Lm(e,t.increment):Tp(),t=qp.fromServerFormat(t.fieldPath),new qm(t,r)}(e,t)})):[];if(t.update){t.update.name;var i=Jv(e,t.update.name),o=new bd({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=(a=t.updateMask.fieldPaths||[],new Bp(a.map((function(e){return qp.fromServerFormat(e)}))));return new Qm(i,o,a,n,r)}return new $m(i,o,n,r)}return t.delete?(r=Jv(e,t.delete),new sv(r,n)):t.verify?(t=Jv(e,t.verify),new uv(t,n)):Tp()}function sg(e,t){return{documents:[Xv(e,t.path)]}}function ug(e,t){var n={structuredQuery:{}},r=t.path;return null!==t.collectionGroup?(n.parent=Xv(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Xv(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),(r=function(e){if(0!==e.length)return 1===(e=e.map((function(e){if("=="===e.op){if(vd(e.value))return{unaryFilter:{field:fg(e.field),op:"IS_NAN"}};if(md(e.value))return{unaryFilter:{field:fg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(vd(e.value))return{unaryFilter:{field:fg(e.field),op:"IS_NOT_NAN"}};if(md(e.value))return{unaryFilter:{field:fg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fg(e.field),op:(t=e.op,Hv[t]),value:e.value}};var t}))).length?e[0]:{compositeFilter:{op:"AND",filters:e}}}(t.filters))&&(n.structuredQuery.where=r),(r=function(e){if(0!==e.length)return e.map((function(e){return{field:fg((e=e).field),direction:(e=e.dir,zv[e])}}))}(t.orderBy))&&(n.structuredQuery.orderBy=r),r=t.limit,null!==(r=e.I||td(r)?r:{value:r})&&(n.structuredQuery.limit=r),t.startAt&&(n.structuredQuery.startAt=lg(t.startAt)),t.endAt&&(n.structuredQuery.endAt=lg(t.endAt)),n}function cg(e){var t=eg(e.parent),n=e.structuredQuery,r=null;0<(a=n.from?n.from.length:0)&&(Ip(1===a),(s=n.from[0]).allDescendants?r=s.collectionId:t=t.child(s.collectionId));var i=[];n.where&&(i=function e(t){return t?void 0!==t.unaryFilter?[mg(t)]:void 0!==t.fieldFilter?[dg(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e(t)})).reduce((function(e,t){return e.concat(t)})):Tp():[]}(n.where));var o=[],a=(e=null,null),s=null;return om(t,r,o=n.orderBy?n.orderBy.map((function(e){return new tm(pg((t=e).field),function(){switch(t.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}());var t})):o,i,e=n.limit?td(i="object"==typeof(i=n.limit)?i.value:i)?null:i:e,"F",a=n.startAt?hg(n.startAt):a,s=n.endAt?hg(n.endAt):s)}function lg(e){return{before:e.before,values:e.position}}function hg(e){var t=!!e.before;e=e.values||[];return new Yd(e,t)}function fg(e){return{fieldPath:e.canonicalString()}}function pg(e){return qp.fromServerFormat(e.fieldPath)}function dg(e){return Nd.create(pg(e.fieldFilter.field),function(){switch(e.fieldFilter.op){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Tp()}}(),e.fieldFilter.value)}function mg(e){switch(e.unaryFilter.op){case"IS_NAN":var t=pg(e.unaryFilter.field);return Nd.create(t,"==",{doubleValue:NaN});case"IS_NULL":return t=pg(e.unaryFilter.field),Nd.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var n=pg(e.unaryFilter.field);return Nd.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":return n=pg(e.unaryFilter.field),Nd.create(n,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Tp()}}function vg(e){return 4<=e.length&&"projects"===e.get(0)&&"databases"===e.get(2)}function gg(e){for(var t="",n=0;n<e.length;n++)0<t.length&&(t+=""),t=function(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}(e.get(n),t);return t+""}function yg(e){var t=e.length;if(Ip(2<=t),2===t)return Ip(""===e.charAt(0)&&""===e.charAt(1)),Up.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("",o);switch((a<0||n<a)&&Tp(),e.charAt(a+1)){case"":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=e.substring(o,a),i+="\0";break;case"":i+=e.substring(o,a+1);break;default:Tp()}o=a+2}return new Up(r)}function bg(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}var wg=function(e,t){this.seconds=e,this.nanoseconds=t};function _g(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}function Eg(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}bg.store="owner",bg.key="owner",_g.store="mutationQueues",_g.keyPath="userId",Eg.store="mutations",Eg.keyPath="batchId",Eg.userMutationsIndex="userMutationsIndex",Eg.userMutationsKeyPath=["userId","batchId"];var Cg=(Tg.prefixForUser=function(e){return[e]},Tg.prefixForPath=function(e,t){return[e,gg(t)]},Tg.key=function(e,t,n){return[e,gg(t),n]},Tg);function Tg(){}function Ig(e,t){this.path=e,this.readTime=t}function Sg(e,t){this.path=e,this.version=t}Cg.store="documentMutations",Cg.PLACEHOLDER=new Cg;var xg=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};function kg(e){this.byteSize=e}function Ng(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a}xg.store="remoteDocuments",xg.readTimeIndex="readTimeIndex",xg.readTimeIndexPath="readTime",xg.collectionReadTimeIndex="collectionReadTimeIndex",xg.collectionReadTimeIndexPath=["parentPath","readTime"],kg.store="remoteDocumentGlobal",kg.key="remoteDocumentGlobalKey",Ng.store="targets",Ng.keyPath="targetId",Ng.queryTargetsIndexName="queryTargetsIndex",Ng.queryTargetsKeyPath=["canonicalId","targetId"];var Og=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};function Pg(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}function Ag(e,t){this.collectionId=e,this.parent=t}function Rg(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}function Dg(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}function Mg(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}Og.store="targetDocuments",Og.keyPath=["targetId","path"],Og.documentTargetsIndex="documentTargetsIndex",Og.documentTargetsKeyPath=["path","targetId"],Pg.key="targetGlobalKey",Pg.store="targetGlobal",Ag.store="collectionParents",Ag.keyPath=["collectionId","parent"],Rg.store="clientMetadata",Rg.keyPath="clientId",Dg.store="bundles",Dg.keyPath="bundleId",Mg.store="namedQueries",Mg.keyPath="name";var Lg,Fg=(0,sc.ev)((0,sc.ev)([],(0,sc.ev)((0,sc.ev)([],(0,sc.ev)((0,sc.ev)([],(0,sc.ev)((0,sc.ev)([],[_g.store,Eg.store,Cg.store,xg.store,Ng.store,bg.store,Pg.store,Og.store]),[Rg.store])),[kg.store])),[Ag.store])),[Dg.store,Mg.store]),jg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ug=(cn=($g.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},$g.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},$g),function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}),Vg=(Yg.prototype.catch=function(e){return this.next(void 0,e)},Yg.prototype.next=function(e,t){var n=this;return this.callbackAttached&&Tp(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Yg((function(r,i){n.nextCallback=function(t){n.wrapSuccess(e,t).next(r,i)},n.catchCallback=function(e){n.wrapFailure(t,e).next(r,i)}}))},Yg.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},Yg.prototype.wrapUserFunction=function(e){try{var t=e();return t instanceof Yg?t:Yg.resolve(t)}catch(e){return Yg.reject(e)}},Yg.prototype.wrapSuccess=function(e,t){return e?this.wrapUserFunction((function(){return e(t)})):Yg.resolve(t)},Yg.prototype.wrapFailure=function(e,t){return e?this.wrapUserFunction((function(){return e(t)})):Yg.reject(t)},Yg.resolve=function(e){return new Yg((function(t,n){t(e)}))},Yg.reject=function(e){return new Yg((function(t,n){n(e)}))},Yg.waitFor=function(e){return new Yg((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(e){return n(e)}))})),o=!0,i===r&&t()}))},Yg.or=function(e){for(var t=Yg.resolve(!1),n=0,r=e;n<r.length;n++)!function(e){t=t.next((function(t){return t?Yg.resolve(t):e()}))}(r[n]);return t},Yg.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},Yg),qg=(Zg.open=function(e,t,n,r){try{return new Zg(t,e.transaction(r,n))}catch(e){throw new Hg(t,e)}},Object.defineProperty(Zg.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),Zg.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(wp("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},Zg.prototype.store=function(e){return e=this.transaction.objectStore(e),new Jg(e)},Zg),Bg=(Kg.delete=function(e){return wp("SimpleDb","Removing database:",e),ey(window.indexedDB.deleteDatabase(e)).toPromise()},Kg.yt=function(){if("undefined"==typeof indexedDB)return!1;if(Kg.gt())return!0;var e=(0,uc.z$)(),t=0<(n=Kg._t(e))&&n<10,n=0<(n=Kg.Et(e))&&n<4.5;return!(0<e.indexOf("MSIE ")||0<e.indexOf("Trident/")||0<e.indexOf("Edge/")||t||n)},Kg.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},Kg.It=function(e,t){return e.store(t)},Kg._t=function(e){return e=(e=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i))?e[1].split("_").slice(0,2).join("."):"-1",Number(e)},Kg.Et=function(e){return e=(e=e.match(/Android ([\d.]+)/i))?e[1].split(".").slice(0,2).join("."):"-1",Number(e)},Kg.prototype.At=function(e){return(0,sc.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,sc.Jh)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(wp("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){e=e.target.result,t(e)},i.onblocked=function(){r(new Hg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){"VersionError"===(t=t.target.error).name?r(new vp(mp.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Hg(e,t))},i.onupgradeneeded=function(e){wp("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){wp("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},Kg.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},Kg.prototype.runTransaction=function(e,t,n,r){return(0,sc.mG)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,sc.Jh)(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return(0,sc.Jh)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=h.sent(),t=qg.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),Vg.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,wp("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},Kg.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},Kg),zg=(Object.defineProperty(Gg.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(Gg.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(Gg.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),Gg.prototype.done=function(){this.Vt=!0},Gg.prototype.Ct=function(e){this.St=e},Gg.prototype.delete=function(){return ey(this.Pt.delete())},Gg),Hg=(Lg=vp,(0,sc.ZT)(Wg,Lg),Wg);function Wg(e,t){var n=this;return(n=Lg.call(this,mp.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+t)||this).name="IndexedDbTransactionError",n}function Gg(e){this.Pt=e,this.Vt=!1,this.St=null}function Kg(e,t,n){this.name=e,this.version=t,this.wt=n,12.2===Kg._t((0,uc.z$)())&&_p("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}function Zg(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Ug,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new Hg(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){t=ny(t.target.error),n.ft.reject(new Hg(e,t))}}function Yg(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}function $g(){this.onCommittedListeners=[]}function Qg(e){return"IndexedDbTransactionError"===e.name}var Jg=(Xg.prototype.put=function(e,t){return ey(e=void 0!==t?(wp("SimpleDb","PUT",this.store.name,e,t),this.store.put(t,e)):(wp("SimpleDb","PUT",this.store.name,"<auto-key>",e),this.store.put(e)))},Xg.prototype.add=function(e){return wp("SimpleDb","ADD",this.store.name,e,e),ey(this.store.add(e))},Xg.prototype.get=function(e){var t=this;return ey(this.store.get(e)).next((function(n){return wp("SimpleDb","GET",t.store.name,e,n=void 0===n?null:n),n}))},Xg.prototype.delete=function(e){return wp("SimpleDb","DELETE",this.store.name,e),ey(this.store.delete(e))},Xg.prototype.count=function(){return wp("SimpleDb","COUNT",this.store.name),ey(this.store.count())},Xg.prototype.Nt=function(e,t){t=this.cursor(this.options(e,t));var n=[];return this.xt(t,(function(e,t){n.push(t)})).next((function(){return n}))},Xg.prototype.Ft=function(e,t){return wp("SimpleDb","DELETE ALL",this.store.name),(t=this.options(e,t)).kt=!1,t=this.cursor(t),this.xt(t,(function(e,t,n){return n.delete()}))},Xg.prototype.$t=function(e,t){t?n=e:(n={},t=e);var n=this.cursor(n);return this.xt(n,t)},Xg.prototype.Ot=function(e){var t=this.cursor({});return new Vg((function(n,r){t.onerror=function(e){e=ny(e.target.error),r(e)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},Xg.prototype.xt=function(e,t){var n=[];return new Vg((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i,o=e.target.result;o?(i=new zg(o),(e=t(o.primaryKey,o.value,i))instanceof Vg&&(e=e.catch((function(e){return i.done(),Vg.reject(e)})),n.push(e)),i.isDone?r():null===i.Dt?o.continue():o.continue(i.Dt)):r()}})).next((function(){return Vg.waitFor(n)}))},Xg.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},Xg.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},Xg);function Xg(e){this.store=e}function ey(e){return new Vg((function(t,n){e.onsuccess=function(e){e=e.target.result,t(e)},e.onerror=function(e){e=ny(e.target.error),n(e)}}))}var ty=!1;function ny(e){var t=Bg._t((0,uc.z$)());if(12.2<=t&&t<13&&(t="An internal error was encountered in the Indexed Database server",0<=e.message.indexOf(t))){var n=new vp("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+t+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ty||(ty=!0,setTimeout((function(){throw n}),0)),n}return e}var ry,iy=(ry=cn,(0,sc.ZT)(oy,ry),oy);function oy(e,t){var n=this;return(n=ry.call(this)||this).Mt=e,n.currentSequenceNumber=t,n}function ay(e,t){return Bg.It(e.Mt,t)}var sy=(py.prototype.applyToRemoteDocument=function(e,t){for(var n,r,i,o,a,s,u=t.mutationResults,c=0;c<this.mutations.length;c++){var l=this.mutations[c];l.key.isEqual(e.key)&&(n=l,r=e,i=u[c],l=s=a=o=void 0,n instanceof $m?(a=r,s=i,l=(o=n).value.clone(),o=tv(o.fieldTransforms,a,s.transformResults),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()):n instanceof Qm?(o=r,a=i,Hm((s=n).precondition,o)?(l=tv(s.fieldTransforms,o,a.transformResults),(n=o.data).setAll(ev(s)),n.setAll(l),o.convertToFoundDocument(a.version,n).setHasCommittedMutations()):o.convertToUnknownDocument(a.version)):r.convertToNoDocument(i.version).setHasCommittedMutations())}},py.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(r=n[t]).key.isEqual(e.key)&&Wm(r,e,this.localWriteTime);for(var r,i=0,o=this.mutations;i<o.length;i++)(r=o[i]).key.isEqual(e.key)&&Wm(r,e,this.localWriteTime)},py.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key);n=r;t.applyToLocalView(n),r.isValidDocument()||n.convertToNoDocument(Pp.min())}))},py.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),kv())},py.prototype.isEqual=function(e){return this.batchId===e.batchId&&Np(this.mutations,e.mutations,Gm)&&Np(this.baseMutations,e.baseMutations,Gm)},py),uy=(fy.from=function(e,t,n){Ip(e.mutations.length===n.length);for(var r=Sv,i=e.mutations,o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new fy(e,t,n,r)},fy),cy=(hy.prototype.withSequenceNumber=function(e){return new hy(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},hy.prototype.withResumeToken=function(e,t){return new hy(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)},hy.prototype.withLastLimboFreeSnapshotVersion=function(e){return new hy(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},hy),ly=function(e){this.Lt=e};function hy(e,t,n,r,i,o,a){void 0===i&&(i=Pp.min()),void 0===o&&(o=Pp.min()),void 0===a&&(a=zp.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}function fy(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}function py(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}function dy(e,t){if(t.document)return ig(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=id.fromSegments(t.noDocument.path),r=by(t.noDocument.readTime);n=_d.newNoDocument(n,r);return t.hasCommittedMutations?n.setHasCommittedMutations():n}return t.unknownDocument?(n=id.fromSegments(t.unknownDocument.path),r=by(t.unknownDocument.version),_d.newUnknownDocument(n,r)):Tp()}function my(e,t,n){var r=vy(n);n=t.key.path.popLast().toArray();if(t.isFoundDocument()){var i={name:Qv(o=e.Lt,(a=t).key),fields:a.data.value.mapValue.fields,updateTime:Gv(o,a.version.toTimestamp())},o=t.hasCommittedMutations;return new xg(null,null,i,o,r,n)}if(t.isNoDocument()){var a=t.key.path.toArray();i=yy(t.version),o=t.hasCommittedMutations;return new xg(null,new Ig(a,i),null,o,r,n)}return t.isUnknownDocument()?(o=t.key.path.toArray(),t=yy(t.version),new xg(new Sg(o,t),null,null,!0,r,n)):Tp()}function vy(e){return[(e=e.toTimestamp()).seconds,e.nanoseconds]}function gy(e){return e=new Op(e[0],e[1]),Pp.fromTimestamp(e)}function yy(e){return e=e.toTimestamp(),new wg(e.seconds,e.nanoseconds)}function by(e){return e=new Op(e.seconds,e.nanoseconds),Pp.fromTimestamp(e)}function wy(e,t){for(var n=(t.baseMutations||[]).map((function(t){return ag(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i,o=t.mutations[r];r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform&&(i=t.mutations[r+1],o.updateTransforms=i.transform.fieldTransforms,t.mutations.splice(r+1,1),++r)}var a=t.mutations.map((function(t){return ag(e.Lt,t)})),s=Op.fromMillis(t.localWriteTimeMs);return new sy(t.batchId,s,n,a)}function _y(e){var t=by(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?by(e.lastLimboFreeSnapshotVersion):Pp.min(),r=void 0!==e.query.documents?(Ip(1===(r=e.query).documents.length),pm(am(eg(r.documents[0])))):pm(cg(e.query));return new cy(r,e.targetId,0,e.lastListenSequenceNumber,t,n,zp.fromBase64String(e.resumeToken))}function Ey(e,t){var n=yy(t.snapshotVersion),r=yy(t.lastLimboFreeSnapshotVersion),i=(xd(t.target)?sg:ug)(e.Lt,t.target);e=t.resumeToken.toBase64();return new Ng(t.targetId,Id(t.target),n,e,t.sequenceNumber,r,i)}function Cy(e){var t=cg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?dm(t,t.limit,"L"):t}var Ty=(Iy.prototype.getBundleMetadata=function(e,t){return Sy(e).get(t).next((function(e){if(e)return{id:(e=e).bundleId,createTime:by(e.createTime),version:e.version}}))},Iy.prototype.saveBundleMetadata=function(e,t){return Sy(e).put({bundleId:(t=t).id,createTime:yy(Zv(t.createTime)),version:t.version})},Iy.prototype.getNamedQuery=function(e,t){return xy(e).get(t).next((function(e){if(e)return{name:(e=e).name,query:Cy(e.bundledQuery),readTime:by(e.readTime)}}))},Iy.prototype.saveNamedQuery=function(e,t){return xy(e).put({name:(t=t).name,readTime:yy(Zv(t.readTime)),bundledQuery:t.bundledQuery})},Iy);function Iy(){}function Sy(e){return ay(e,Dg.store)}function xy(e){return ay(e,Mg.store)}var ky=(Ry.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Vg.resolve()},Ry.prototype.getCollectionParents=function(e,t){return Vg.resolve(this.Bt.getEntries(t))},Ry),Ny=(Ay.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new wv(Up.comparator);e=!r.has(n);return this.index[t]=r.add(n),e},Ay.prototype.has=function(e){var t=e.lastSegment();e=e.popLast();return(t=this.index[t])&&t.has(e)},Ay.prototype.getEntries=function(e){return(this.index[e]||new wv(Up.comparator)).toArray()},Ay),Oy=(Py.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(this.qt.has(t))return Vg.resolve();var r=t.lastSegment(),i=t.popLast();return e.addOnCommittedListener((function(){n.qt.add(t)})),i={collectionId:r,parent:gg(i)},Dy(e).put(i)},Py.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[t+"\0",""],!1,!0);return Dy(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(yg(o.parent))}return n}))},Py);function Py(){this.qt=new Ny}function Ay(){this.index={}}function Ry(){this.Bt=new Ny}function Dy(e){return ay(e,Ag.store)}var My={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ly=(Fy.withCacheSize=function(e){return new Fy(e,Fy.DEFAULT_COLLECTION_PERCENTILE,Fy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},Fy);function Fy(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}function jy(e,t,n){var r=e.store(Eg.store),i=e.store(Cg.store),o=[],a=(e=IDBKeyRange.only(n.batchId),0);e=r.$t({range:e},(function(e,t,n){return a++,n.delete()}));o.push(e.next((function(){Ip(1===a)})));for(var s=[],u=0,c=n.mutations;u<c.length;u++){var l=c[u],h=Cg.key(t,l.key.path,n.batchId);o.push(i.delete(h)),s.push(l.key)}return Vg.waitFor(o).next((function(){return s}))}function Uy(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Tp();t=e.noDocument}return JSON.stringify(t).length}Ly.DEFAULT_COLLECTION_PERCENTILE=10,Ly.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ly.DEFAULT=new Ly(41943040,Ly.DEFAULT_COLLECTION_PERCENTILE,Ly.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ly.DISABLED=new Ly(-1,0,0);var Vy=(qy.Qt=function(e,t,n,r){return Ip(""!==e.uid),new qy(e.isAuthenticated()?e.uid:"",t,n,r)},qy.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zy(e).$t({index:Eg.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},qy.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Hy(e),a=zy(e);return a.add({}).next((function(s){Ip("number"==typeof s);for(var u,c,l,h,f,p=new sy(s,t,n,r),d=(u=i.R,c=i.userId,h=(l=p).baseMutations.map((function(e){return og(u.Lt,e)})),f=l.mutations.map((function(e){return og(u.Lt,e)})),new Eg(c,l.batchId,l.localWriteTime.toMillis(),h,f)),m=[],v=new wv((function(e,t){return kp(e.canonicalString(),t.canonicalString())})),g=0,y=r;g<y.length;g++){var b=y[g],w=Cg.key(i.userId,b.key.path,s);v=v.add(b.key.path.popLast());m.push(a.put(d)),m.push(o.put(w,Cg.PLACEHOLDER))}return v.forEach((function(t){m.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=p.keys()})),Vg.waitFor(m).next((function(){return p}))}))},qy.prototype.lookupMutationBatch=function(e,t){var n=this;return zy(e).get(t).next((function(e){return e?(Ip(e.userId===n.userId),wy(n.R,e)):null}))},qy.prototype.jt=function(e,t){var n=this;return this.Kt[t]?Vg.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){return e?(e=e.keys(),n.Kt[t]=e):null}))},qy.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=(t=IDBKeyRange.lowerBound([this.userId,r]),null);return zy(e).$t({index:Eg.userMutationsIndex,range:t},(function(e,t,o){t.userId===n.userId&&(Ip(t.batchId>=r),i=wy(n.R,t)),o.done()})).next((function(){return i}))},qy.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return zy(e).$t({index:Eg.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},qy.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zy(e).Nt(Eg.userMutationsIndex,n).next((function(e){return e.map((function(e){return wy(t.R,e)}))}))},qy.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Cg.prefixForPath(this.userId,t.path),i=(r=IDBKeyRange.lowerBound(r),[]);return Hy(e).$t({range:r},(function(r,o,a){var s=r[0],u=r[1];r=r[2],u=yg(u);if(s===n.userId&&t.path.isEqual(u))return zy(e).get(r).next((function(e){if(!e)throw Tp();Ip(e.userId===n.userId),i.push(wy(n.R,e))}));a.done()})).next((function(){return i}))},qy.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new wv(kp),i=[];return t.forEach((function(t){var o=Cg.prefixForPath(n.userId,t.path);o=IDBKeyRange.lowerBound(o),o=Hy(e).$t({range:o},(function(e,i,o){var a=e[0],s=e[1];e=e[2],s=yg(s);a===n.userId&&t.path.isEqual(s)?r=r.add(e):o.done()}));i.push(o)})),Vg.waitFor(i).next((function(){return n.Wt(e,r)}))},qy.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=(t=Cg.prefixForPath(this.userId,r),t=IDBKeyRange.lowerBound(t),new wv(kp));return Hy(e).$t({range:t},(function(e,t,a){var s=e[0],u=e[1];e=e[2],u=yg(u);s===n.userId&&r.isPrefixOf(u)?u.length===i&&(o=o.add(e)):a.done()})).next((function(){return n.Wt(e,o)}))},qy.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(zy(e).get(t).next((function(e){if(null===e)throw Tp();Ip(e.userId===n.userId),r.push(wy(n.R,e))})))})),Vg.waitFor(i).next((function(){return r}))},qy.prototype.removeMutationBatch=function(e,t){var n=this;return jy(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),Vg.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},qy.prototype.Gt=function(e){delete this.Kt[e]},qy.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Vg.resolve();n=IDBKeyRange.lowerBound(Cg.prefixForUser(t.userId));var r=[];return Hy(e).$t({range:n},(function(e,n,i){e[0]===t.userId?(e=yg(e[1]),r.push(e)):i.done()})).next((function(){Ip(0===r.length)}))}))},qy.prototype.containsKey=function(e,t){return By(e,this.userId,t)},qy.prototype.zt=function(e){var t=this;return Wy(e).get(this.userId).next((function(e){return e||new _g(t.userId,-1,"")}))},qy);function qy(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}function By(e,t,n){var r=(n=Cg.prefixForPath(t,n.path))[1],i=(n=IDBKeyRange.lowerBound(n),!1);return Hy(e).$t({range:n,kt:!0},(function(e,n,o){var a=e[0],s=e[1];e[2],a===t&&s===r&&(i=!0),o.done()})).next((function(){return i}))}function zy(e){return ay(e,Eg.store)}function Hy(e){return ay(e,Cg.store)}function Wy(e){return ay(e,_g.store)}var Gy=(Yy.prototype.next=function(){return this.Ht+=2,this.Ht},Yy.Jt=function(){return new Yy(0)},Yy.Yt=function(){return new Yy(-1)},Yy),Ky=(Zy.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Gy(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},Zy.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return Pp.fromTimestamp(new Op(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},Zy.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},Zy.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},Zy.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},Zy.prototype.updateTargetData=function(e,t){return this.te(e,t)},Zy.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return $y(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Ip(0<t.targetCount),--t.targetCount,n.Zt(e,t)}))},Zy.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return $y(e).$t((function(a,s){(s=_y(s)).sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,o.push(r.removeTargetData(e,s)))})).next((function(){return Vg.waitFor(o)})).next((function(){return i}))},Zy.prototype.forEachTarget=function(e,t){return $y(e).$t((function(e,n){n=_y(n),t(n)}))},Zy.prototype.Xt=function(e){return Qy(e).get(Pg.key).next((function(e){return Ip(null!==e),e}))},Zy.prototype.Zt=function(e,t){return Qy(e).put(Pg.key,t)},Zy.prototype.te=function(e,t){return $y(e).put(Ey(this.R,t))},Zy.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},Zy.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},Zy.prototype.getTargetData=function(e,t){var n=Id(t),r=(n=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),null);return $y(e).$t({range:n,index:Ng.queryTargetsIndexName},(function(e,n,i){n=_y(n),Sd(t,n.target)&&(r=n,i.done())})).next((function(){return r}))},Zy.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=Jy(e);return t.forEach((function(t){var a=gg(t.path);i.push(o.put(new Og(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),Vg.waitFor(i)},Zy.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=Jy(e);return Vg.forEach(t,(function(t){var o=gg(t.path);return Vg.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},Zy.prototype.removeMatchingKeysForTargetId=function(e,t){return e=Jy(e),t=IDBKeyRange.bound([t],[t+1],!1,!0),e.delete(t)},Zy.prototype.getMatchingKeysForTargetId=function(e,t){t=IDBKeyRange.bound([t],[t+1],!1,!0),e=Jy(e);var n=kv();return e.$t({range:t,kt:!0},(function(e,t,r){e=yg(e[1]),e=new id(e),n=n.add(e)})).next((function(){return n}))},Zy.prototype.containsKey=function(e,t){t=gg(t.path),t=IDBKeyRange.bound([t],[t+"\0"],!1,!0);var n=0;return Jy(e).$t({index:Og.documentTargetsIndex,kt:!0,range:t},(function(e,t,r){var i=e[0];e[1],0!==i&&(n++,r.done())})).next((function(){return 0<n}))},Zy.prototype.lt=function(e,t){return $y(e).get(t).next((function(e){return e?_y(e):null}))},Zy);function Zy(e,t){this.referenceDelegate=e,this.R=t}function Yy(e){this.Ht=e}function $y(e){return ay(e,Ng.store)}function Qy(e){return ay(e,Pg.store)}function Jy(e){return ay(e,Og.store)}function Xy(e){return(0,sc.mG)(this,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(t){if(e.code!==mp.FAILED_PRECONDITION||e.message!==jg)throw e;return wp("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function eb(e,t){var n=e[0],r=e[1];e=t[0],t=t[1];return 0===(e=kp(n,e))?kp(r,t):e}var tb=(ub.prototype.ie=function(){return++this.se},ub.prototype.re=function(e){var t=[e,this.ie()];this.buffer.size<this.ne?this.buffer=this.buffer.add(t):eb(t,e=this.buffer.last())<0&&(this.buffer=this.buffer.delete(e).add(t))},Object.defineProperty(ub.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),ub),nb=(sb.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},sb.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(sb.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),sb.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;wp("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,sc.mG)(t,void 0,void 0,(function(){var t;return(0,sc.Jh)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Qg(t=n.sent())?(wp("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Xy(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},sb),rb=(ab.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},ab.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Vg.resolve(fp.o);var r=new tb(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},ab.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},ab.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},ab.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(wp("LruGarbageCollector","Garbage collection skipped; disabled"),Vg.resolve(My)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(wp("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),My):n.fe(e,t)}))},ab.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},ab.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return r=t>c.params.maximumSequenceNumbersToCollect?(wp("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),c.params.maximumSequenceNumbersToCollect):t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),bp()<=cc.in.DEBUG&&wp("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Vg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},ab),ib=(ob.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},ob.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},ob.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},ob.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},ob.prototype.addReference=function(e,t,n){return cb(e,n)},ob.prototype.removeReference=function(e,t,n){return cb(e,n)},ob.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},ob.prototype.markPotentiallyOrphaned=cb,ob.prototype._e=function(e,t){return r=t,i=!1,Wy(n=e).Ot((function(e){return By(n,e,r).next((function(e){return e&&(i=!0),Vg.resolve(!e)}))})).next((function(){return i}));var n,r,i},ob.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){s<=t&&(s=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),Jy(e).delete([0,gg(a.path)])}))})),i.push(s))})).next((function(){return Vg.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},ob.prototype.removeTarget=function(e,t){return t=t.withSequenceNumber(e.currentSequenceNumber),this.db.getTargetCache().updateTargetData(e,t)},ob.prototype.updateLimboDocument=cb,ob.prototype.we=function(e,t){e=Jy(e);var n,r=fp.o;return e.$t({index:Og.documentTargetsIndex},(function(e,i){var o=e[0];e[1],e=i.path,i=i.sequenceNumber,0===o?(r!==fp.o&&t(new id(yg(n)),r),r=i,n=e):r=fp.o})).next((function(){r!==fp.o&&t(new id(yg(n)),r)}))},ob.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},ob);function ob(e,t){this.db=e,this.garbageCollector=new rb(this,t)}function ab(e,t){this.ae=e,this.params=t}function sb(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}function ub(e){this.ne=e,this.buffer=new wv(eb),this.se=0}function cb(e,t){return Jy(e).put((e=e.currentSequenceNumber,new Og(0,gg(t.path),e)))}var lb,hb=(gb.prototype.get=function(e){var t=this.mapKeyFn(e);if(void 0!==(t=this.inner[t]))for(var n=0,r=t;n<r.length;n++){var i=(o=r[n])[0],o=o[1];if(this.equalsFn(i,e))return o}},gb.prototype.has=function(e){return void 0!==this.get(e)},gb.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},gb.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},gb.prototype.forEach=function(e){Mp(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=(a=i[r])[0],a=a[1];e(o,a)}}))},gb.prototype.isEmpty=function(){return Lp(this.inner)},gb),fb=(ut=(vb.prototype.getReadTime=function(e){return(e=this.changes.get(e))?e.readTime:Pp.min()},vb.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},vb.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:_d.newInvalidDocument(e),readTime:t})},vb.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Vg.resolve(n.document):this.getFromCache(e,t)},vb.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},vb.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},vb.prototype.assertNotApplied=function(){},vb),mb.prototype.addEntry=function(e,t,n){return bb(e).put(wb(t),n)},mb.prototype.removeEntry=function(e,t){return e=bb(e),t=wb(t),e.delete(t)},mb.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},mb.prototype.getEntry=function(e,t){var n=this;return bb(e).get(wb(t)).next((function(e){return n.ye(t,e)}))},mb.prototype.ge=function(e,t){var n=this;return bb(e).get(wb(t)).next((function(e){return{document:n.ye(t,e),size:Uy(e)}}))},mb.prototype.getEntries=function(e,t){var n=this,r=Ev;return this.pe(e,t,(function(e,t){t=n.ye(e,t),r=r.insert(e,t)})).next((function(){return r}))},mb.prototype.Ee=function(e,t){var n=this,r=Ev,i=new pv(id.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Uy(t))})).next((function(){return{documents:r,Te:i}}))},mb.prototype.pe=function(e,t,n){if(t.isEmpty())return Vg.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return bb(e).$t({range:r},(function(e,t,r){for(var a=id.fromSegments(e);o&&id.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},mb.prototype.getDocumentsMatchingQuery=function(e,t,n){var r,i=this,o=Ev,a=t.path.length+1,s={};return n.isEqual(Pp.min())?(r=t.path.toArray(),s.range=IDBKeyRange.lowerBound(r)):(r=t.path.toArray(),n=vy(n),s.range=IDBKeyRange.lowerBound([r,n],!0),s.index=xg.collectionReadTimeIndex),bb(e).$t(s,(function(e,n,r){e.length===a&&(n=dy(i.R,n),t.path.isPrefixOf(n.key.path)?ym(t,n)&&(o=o.insert(n.key,n)):r.done())})).next((function(){return o}))},mb.prototype.newChangeBuffer=function(e){return new pb(this,!!e&&e.trackRemovals)},mb.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},mb.prototype.getMetadata=function(e){return yb(e).get(kg.key).next((function(e){return Ip(!!e),e}))},mb.prototype.me=function(e,t){return yb(e).put(kg.key,t)},mb.prototype.ye=function(e,t){return!t||(t=dy(this.R,t)).isNoDocument()&&t.version.isEqual(Pp.min())?_d.newInvalidDocument(e):t},mb),pb=(lb=ut,(0,sc.ZT)(db,lb),db.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new wv((function(e,t){return kp(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s,u=t.Ae.get(o);a.document.isValidDocument()?(s=my(t.Ie.R,a.document,t.getReadTime(o)),i=i.add(o.path.popLast()),a=Uy(s),r+=a-u,n.push(t.Ie.addEntry(e,o,s))):(r-=u,t.trackRemovals?(u=my(t.Ie.R,_d.newNoDocument(o,Pp.min()),t.getReadTime(o)),n.push(t.Ie.addEntry(e,o,u))):n.push(t.Ie.removeEntry(e,o)))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),Vg.waitFor(n)},db.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},db.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},db);function db(e,t){var n=this;return(n=lb.call(this)||this).Ie=e,n.trackRemovals=t,n.Ae=new hb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),n}function mb(e,t){this.R=e,this.Ut=t}function vb(){this.changes=new hb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}function gb(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}function yb(e){return ay(e,kg.store)}function bb(e){return ay(e,xg.store)}function wb(e){return e.path.toArray()}var _b=(Eb.prototype.Rt=function(e,t,n,r){var i=this;Ip(n<r&&0<=n&&r<=11);var o=new qg("createOrUpgrade",t);n<1&&1<=r&&(e.createObjectStore(bg.store),(a=e).createObjectStore(_g.store,{keyPath:_g.keyPath}),a.createObjectStore(Eg.store,{keyPath:Eg.keyPath,autoIncrement:!0}).createIndex(Eg.userMutationsIndex,Eg.userMutationsKeyPath,{unique:!0}),a.createObjectStore(Cg.store),Cb(e),e.createObjectStore(xg.store));var a,s=Vg.resolve();return n<3&&3<=r&&(0!==n&&((a=e).deleteObjectStore(Og.store),a.deleteObjectStore(Ng.store),a.deleteObjectStore(Pg.store),Cb(e)),s=s.next((function(){return e=o.store(Pg.store),t=new Pg(0,0,Pp.min().toTimestamp(),0),e.put(Pg.key,t);var e,t}))),n<4&&4<=r&&(s=(s=0!==n?s.next((function(){return t=e,(n=o).store(Eg.store).Nt().next((function(e){t.deleteObjectStore(Eg.store),t.createObjectStore(Eg.store,{keyPath:Eg.keyPath,autoIncrement:!0}).createIndex(Eg.userMutationsIndex,Eg.userMutationsKeyPath,{unique:!0});var r=n.store(Eg.store);e=e.map((function(e){return r.put(e)}));return Vg.waitFor(e)}));var t,n})):s).next((function(){e.createObjectStore(Rg.store,{keyPath:Rg.keyPath})}))),n<5&&5<=r&&(s=s.next((function(){return i.Re(o)}))),n<6&&6<=r&&(s=s.next((function(){return e.createObjectStore(kg.store),i.be(o)}))),n<7&&7<=r&&(s=s.next((function(){return i.ve(o)}))),n<8&&8<=r&&(s=s.next((function(){return i.Pe(e,o)}))),n<9&&9<=r&&(s=s.next((function(){var n;(n=e).objectStoreNames.contains("remoteDocumentChanges")&&n.deleteObjectStore("remoteDocumentChanges"),(n=t.objectStore(xg.store)).createIndex(xg.readTimeIndex,xg.readTimeIndexPath,{unique:!1}),n.createIndex(xg.collectionReadTimeIndex,xg.collectionReadTimeIndexPath,{unique:!1})}))),n<10&&10<=r&&(s=s.next((function(){return i.Ve(o)}))),n<11&&11<=r?s.next((function(){e.createObjectStore(Dg.store,{keyPath:Dg.keyPath}),e.createObjectStore(Mg.store,{keyPath:Mg.keyPath})})):s},Eb.prototype.be=function(e){var t=0;return e.store(xg.store).$t((function(e,n){t+=Uy(n)})).next((function(){var n=new kg(t);return e.store(kg.store).put(kg.key,n)}))},Eb.prototype.Re=function(e){var t=this,n=e.store(_g.store),r=e.store(Eg.store);return n.Nt().next((function(n){return Vg.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Eg.userMutationsIndex,i).next((function(r){return Vg.forEach(r,(function(r){return Ip(r.userId===n.userId),r=wy(t.R,r),jy(e,n.userId,r).next((function(){}))}))}))}))}))},Eb.prototype.ve=function(e){var t=e.store(Og.store),n=e.store(xg.store);return e.store(Pg.store).get(Pg.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new Up(n);n=[0,gg(o)];r.push(t.get(n).next((function(n){return n?Vg.resolve():t.put(new Og(0,gg(o),e.highestListenSequenceNumber))})))})).next((function(){return Vg.waitFor(r)}))}))},Eb.prototype.Pe=function(e,t){function n(e){if(i.add(e)){var t=e.lastSegment();e=e.popLast();return r.put({collectionId:t,parent:gg(e)})}}e.createObjectStore(Ag.store,{keyPath:Ag.keyPath});var r=t.store(Ag.store),i=new Ny;return t.store(xg.store).$t({kt:!0},(function(e,t){return n((e=new Up(e)).popLast())})).next((function(){return t.store(Cg.store).$t({kt:!0},(function(e,t){e[0];var r=e[1];return e[2],n((r=yg(r)).popLast())}))}))},Eb.prototype.Ve=function(e){var t=this,n=e.store(Ng.store);return n.$t((function(e,r){return r=_y(r),r=Ey(t.R,r),n.put(r)}))},Eb);function Eb(e){this.R=e}function Cb(e){e.createObjectStore(Og.store,{keyPath:Og.keyPath}).createIndex(Og.documentTargetsIndex,Og.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Ng.store,{keyPath:Ng.keyPath}).createIndex(Ng.queryTargetsIndexName,Ng.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Pg.store)}var Tb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ib=(Sb.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new vp(mp.FAILED_PRECONDITION,Tb);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new fp(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},Sb.prototype.He=function(e){var t=this;return this.Me=function(n){return(0,sc.mG)(t,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},Sb.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return(0,sc.mG)(t,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},Sb.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return(0,sc.mG)(t,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},Sb.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return kb(t).put(new Rg(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(Qg(t))return wp("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return wp("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},Sb.prototype.Je=function(e){var t=this;return xb(e).get(bg.key).next((function(e){return Vg.resolve(t.tn(e))}))},Sb.prototype.en=function(e){return kb(e).delete(this.clientId)},Sb.prototype.nn=function(){return(0,sc.mG)(this,void 0,void 0,(function(){var e,t,n,r,i=this;return(0,sc.Jh)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=ay(e,Rg.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Vg.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},Sb.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},Sb.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},Sb.prototype.Ye=function(e){var t=this;return this.Ce?Vg.resolve(!0):xb(e).get(bg.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new vp(mp.FAILED_PRECONDITION,Tb);return!1}}return!(!t.networkEnabled||!t.inForeground)||kb(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground;e=t.networkEnabled===e.networkEnabled;if(n||r&&e)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&wp("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},Sb.prototype.shutdown=function(){return(0,sc.mG)(this,void 0,void 0,(function(){var e=this;return(0,sc.Jh)(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[bg.store,Rg.store],(function(t){var n=new iy(t,fp.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},Sb.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},Sb.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return kb(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(Sb.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),Sb.prototype.getMutationQueue=function(e){return Vy.Qt(e,this.R,this.Ut,this.referenceDelegate)},Sb.prototype.getTargetCache=function(){return this.qe},Sb.prototype.getRemoteDocumentCache=function(){return this.Ue},Sb.prototype.getIndexManager=function(){return this.Ut},Sb.prototype.getBundleCache=function(){return this.Ke},Sb.prototype.runTransaction=function(e,t,n){var r,i=this;return wp("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===t?"readonly":"readwrite",Fg,(function(o){return r=new iy(o,i.Ne?i.Ne.next():fp.o),"readwrite-primary"===t?i.Je(r).next((function(e){return!!e||i.Ye(r)})).next((function(t){if(!t)throw _p("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new vp(mp.FAILED_PRECONDITION,jg);return n(r)})).next((function(e){return i.Ze(r).next((function(){return e}))})):i.dn(r).next((function(){return n(r)}))})).then((function(e){return r.raiseOnCommittedEvent(),e}))},Sb.prototype.dn=function(e){var t=this;return xb(e).get(bg.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new vp(mp.FAILED_PRECONDITION,Tb)}))},Sb.prototype.Ze=function(e){var t=new bg(this.clientId,this.allowTabSynchronization,Date.now());return xb(e).put(bg.key,t)},Sb.yt=function(){return Bg.yt()},Sb.prototype.Xe=function(e){var t=this,n=xb(e);return n.get(bg.key).next((function(e){return t.tn(e)?(wp("IndexedDbPersistence","Releasing primary lease."),n.delete(bg.key)):Vg.resolve()}))},Sb.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||n<e&&(_p("Detected an update time that is in the future: "+e+" > "+n),1))},Sb.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},Sb.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},Sb.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},Sb.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},Sb.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return wp("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return _p("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},Sb.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){_p("Failed to set zombie client id.",e)}},Sb.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},Sb.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},Sb);function Sb(e,t,n,r,i,o,a,s,u,c){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Se=i,this.window=o,this.document=a,this.De=u,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!Sb.yt())throw new vp(mp.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ib(this,r),this.Le=t+"main",this.R=new ly(s),this.Be=new Bg(this.Le,11,new _b(this.R)),this.qe=new Ky(this.referenceDelegate,this.R),this.Ut=new Oy,this.Ue=(t=this.R,s=this.Ut,new fb(t,s)),this.Ke=new Ty,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===c&&_p("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}function xb(e){return ay(e,bg.store)}function kb(e){return ay(e,Rg.store)}function Nb(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}function Ob(e,t){this.progress=e,this.wn=t}var Pb=(jb.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},jb.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},jb.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},jb.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},jb.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},jb.prototype.getDocumentsMatchingQuery=function(e,t,n){return r=t,id.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Tn(e,t.path):hm(t)?this.In(e,t,n):this.An(e,t,n);var r},jb.prototype.Tn=function(e,t){return this.mn(e,new id(t)).next((function(e){var t=Iv;return e.isFoundDocument()?t.insert(e.key,e):t}))},jb.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Iv;return this.Ut.getCollectionParents(e,i).next((function(a){return Vg.forEach(a,(function(a){var s=(s=t,a=a.child(i),new im(a,null,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},jb.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=_d.newInvalidDocument(c),r=r.insert(c,l)),Wm(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){ym(t,n)||(r=r.remove(e))})),r}))},jb.prototype.Rn=function(e,t,n){for(var r=kv(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Qm&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},jb),Ab=(Fb.Pn=function(e,t){for(var n=kv(),r=kv(),i=0,o=t.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new Fb(e,t.fromCache,n,r)},Fb),Rb=(Lb.prototype.Vn=function(e){this.Sn=e},Lb.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i,o=this;return 0===(i=t).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(Pp.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(i){var a=o.Cn(t,i);return(sm(t)||um(t))&&o.Nn(t.limitType,a,r,n)?o.Dn(e,t):(bp()<=cc.in.DEBUG&&wp("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),gm(t)),o.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},Lb.prototype.Cn=function(e,t){var n=new wv(bm(e));return t.forEach((function(t,r){ym(e,r)&&(n=n.add(r))})),n},Lb.prototype.Nn=function(e,t,n,r){return n.size!==t.size||!!(t="F"===e?t.last():t.first())&&(t.hasPendingWrites||0<t.version.compareTo(r))},Lb.prototype.Dn=function(e,t){return bp()<=cc.in.DEBUG&&wp("QueryEngine","Using full collection scan to execute query:",gm(t)),this.Sn.getDocumentsMatchingQuery(e,t,Pp.min())},Lb),Db=(Mb.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},Mb);function Mb(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new pv(kp),this.kn=new hb(Id,Sd),this.$n=Pp.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Pb(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}function Lb(){}function Fb(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}function jb(e,t,n){this.Ue=e,this._n=t,this.Ut=n}function Ub(e,t,n,r){return new Db(e,t,n,r)}function Vb(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,sc.Jh)(this,(function(a){switch(a.label){case 0:return r=(n=e)._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new Pb(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=kv(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var p=0,d=t;p<d.length;p++){var m=d[p];r.push(m.batchId);for(var v=0,g=m.mutations;v<g.length;v++){var y=g[v];a=a.add(y.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function qb(e,t){var n=e;return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r,i,o,a,s,u,c,l=t.batch.keys(),h=n.On.newChangeBuffer({trackRemovals:!0});return r=n,i=e,a=h,u=(s=(o=t).batch).keys(),c=Vg.resolve(),u.forEach((function(e){c=c.next((function(){return a.getEntry(i,e)})).next((function(t){var n=o.docVersions.get(e);Ip(null!==n),t.version.compareTo(n)<0&&(s.applyToRemoteDocument(t,o),t.isValidDocument()&&a.addEntry(t,o.commitVersion))}))})),c.next((function(){return r._n.removeMutationBatch(i,s)})).next((function(){return h.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,l)}))}))}function Bb(e){var t=e;return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function zb(e,t){var n=e,r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var s,u,c,l=i.get(o);l&&(a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)}))),0<(c=t.resumeToken).approximateByteSize()&&(s=l.withResumeToken(c,r).withSequenceNumber(e.currentSequenceNumber),i=i.insert(o,s),u=l,c=t,Ip(0<(l=s).resumeToken.approximateByteSize()),(0===u.resumeToken.approximateByteSize()||3e8<=l.snapshotVersion.toMicroseconds()-u.snapshotVersion.toMicroseconds()||0<c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size)&&a.push(n.qe.updateTargetData(e,s))))}));var s,u=Ev;return t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Hb(e,o,t.documentUpdates,r,void 0).next((function(e){u=e}))),r.isEqual(Pp.min())||(s=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)})),a.push(s)),Vg.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,u)})).next((function(){return u}))})).then((function(e){return n.Fn=i,e}))}function Hb(e,t,n,r,i){var o=kv();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=Ev;return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Pp.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||0<a.version.compareTo(s.version)||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):wp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Wb(e,t){var n=e;return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,Vg.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new cy(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||0<e.snapshotVersion.compareTo(r.snapshotVersion))&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function Gb(e,t,n){return(0,sc.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,sc.Jh)(this,(function(s){switch(s.label){case 0:i=(r=e).Fn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Qg(a=s.sent()))throw a;return wp("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function Kb(e,t,n){var r=e,i=Pp.min(),o=kv();return r.persistence.runTransaction("Execute query","readonly",(function(e){return a=r,s=e,u=pm(t),(void 0!==(a=(c=a).kn.get(u))?Vg.resolve(c.Fn.get(a)):c.qe.getTargetData(s,u)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Pp.min(),n?o:kv())})).next((function(e){return{documents:e,Bn:o}}));var a,s,u,c}))}function Zb(e,t){var n=e,r=n.qe;return(e=n.Fn.get(t))?Promise.resolve(e.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Yb(e){var t=e;return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return n=t.On,r=e,e=t.$n,i=n,o=Ev,a=vy(e),e=bb(r),r=IDBKeyRange.lowerBound(a,!0),e.$t({index:xg.readTimeIndex,range:r},(function(e,t){var n=dy(i.R,t);o=o.insert(n.key,n),a=t.readTime})).next((function(){return{wn:o,readTime:gy(a)}}));var n,r,i,o,a})).then((function(e){var n=e.wn;e=e.readTime;return t.$n=e,n}))}function $b(e){return(0,sc.mG)(this,void 0,void 0,(function(){var t;return(0,sc.Jh)(this,(function(n){return[2,(t=e).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return e=bb(e),t=Pp.min(),e.$t({index:xg.readTimeIndex,reverse:!0},(function(e,n,r){n.readTime&&(t=gy(n.readTime)),r.done()})).next((function(){return t}));var t})).then((function(e){t.$n=e}))]}))}))}var Qb,Jb,Xb=(ww.prototype.getBundleMetadata=function(e,t){return Vg.resolve(this.Qn.get(t))},ww.prototype.saveBundleMetadata=function(e,t){return this.Qn.set(t.id,{id:t.id,version:t.version,createTime:Zv(t.createTime)}),Vg.resolve()},ww.prototype.getNamedQuery=function(e,t){return Vg.resolve(this.jn.get(t))},ww.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,{name:(t=t).name,query:Cy(t.bundledQuery),readTime:Zv(t.readTime)}),Vg.resolve()},ww),ew=(bw.prototype.isEmpty=function(){return this.Wn.isEmpty()},bw.prototype.addReference=function(e,t){t=new tw(e,t),this.Wn=this.Wn.add(t),this.zn=this.zn.add(t)},bw.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},bw.prototype.removeReference=function(e,t){this.Yn(new tw(e,t))},bw.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},bw.prototype.Zn=function(e){var t=this,n=new id(new Up([])),r=new tw(n,e),i=(e=new tw(n,e+1),[]);return this.zn.forEachInRange([r,e],(function(e){t.Yn(e),i.push(e.key)})),i},bw.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},bw.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},bw.prototype.es=function(e){var t=new id(new Up([])),n=new tw(t,e),r=(e=new tw(t,e+1),kv());return this.zn.forEachInRange([n,e],(function(e){r=r.add(e.key)})),r},bw.prototype.containsKey=function(e){var t=new tw(e,0);return null!==(t=this.Wn.firstAfterOrEqual(t))&&e.isEqual(t.key)},bw),tw=(yw.Gn=function(e,t){return id.comparator(e.key,t.key)||kp(e.ns,t.ns)},yw.Hn=function(e,t){return kp(e.ns,t.ns)||id.comparator(e.key,t.key)},yw),nw=(gw.prototype.checkEmpty=function(e){return Vg.resolve(0===this._n.length)},gw.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,0<this._n.length&&this._n[this._n.length-1],n=new sy(i,t,n,r),this._n.push(n);for(var o=0,a=r;o<a.length;o++){var s=a[o];this.rs=this.rs.add(new tw(s.key,i)),this.Ut.addToCollectionParentIndex(e,s.key.path.popLast())}return Vg.resolve(n)},gw.prototype.lookupMutationBatch=function(e,t){return Vg.resolve(this.os(t))},gw.prototype.getNextMutationBatchAfterBatchId=function(e,t){return t=(t=this.cs(t+1))<0?0:t,Vg.resolve(this._n.length>t?this._n[t]:null)},gw.prototype.getHighestUnacknowledgedBatchId=function(){return Vg.resolve(0===this._n.length?-1:this.ss-1)},gw.prototype.getAllMutationBatches=function(e){return Vg.resolve(this._n.slice())},gw.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new tw(t,0),i=(t=new tw(t,Number.POSITIVE_INFINITY),[]);return this.rs.forEachInRange([r,t],(function(e){e=n.os(e.ns),i.push(e)})),Vg.resolve(i)},gw.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new wv(kp);return t.forEach((function(e){var t=new tw(e,0);e=new tw(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,e],(function(e){r=r.add(e.ns)}))})),Vg.resolve(this.us(r))},gw.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1;t=n;id.isDocumentKey(t)||(t=t.child(""));t=new tw(new id(t),0);var i=new wv(kp);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(i=i.add(e.ns)),!0)}),t),Vg.resolve(this.us(i))},gw.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){null!==(e=t.os(e))&&n.push(e)})),n},gw.prototype.removeMutationBatch=function(e,t){var n=this;Ip(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return Vg.forEach(t.mutations,(function(i){var o=new tw(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},gw.prototype.Gt=function(e){},gw.prototype.containsKey=function(e,t){var n=new tw(t,0);n=this.rs.firstAfterOrEqual(n);return Vg.resolve(t.isEqual(n&&n.key))},gw.prototype.performConsistencyCheck=function(e){return this._n.length,Vg.resolve()},gw.prototype.hs=function(e,t){return this.cs(e)},gw.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},gw.prototype.os=function(e){return(e=this.cs(e))<0||e>=this._n.length?null:this._n[e]},gw),rw=(vw.prototype.addEntry=function(e,t,n){var r=t.key,i=(o=this.docs.get(r))?o.size:0,o=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-i,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},vw.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},vw.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Vg.resolve(n?n.document.clone():_d.newInvalidDocument(t))},vw.prototype.getEntries=function(e,t){var n=this,r=Ev;return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():_d.newInvalidDocument(e))})),Vg.resolve(r)},vw.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Ev,i=new id(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=(s=o.getNext()).key,s=(u=s.value).document,u=u.readTime;if(!t.path.isPrefixOf(a.path))break;u.compareTo(n)<=0||ym(t,s)&&(r=r.insert(s.key,s.clone()))}return Vg.resolve(r)},vw.prototype.fs=function(e,t){return Vg.forEach(this.docs,(function(e){return t(e)}))},vw.prototype.newChangeBuffer=function(e){return new iw(this)},vw.prototype.getSize=function(e){return Vg.resolve(this.size)},vw),iw=(Jb=ut,(0,sc.ZT)(mw,Jb),mw.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),Vg.waitFor(n)},mw.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},mw.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},mw),ow=(dw.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),Vg.resolve()},dw.prototype.getLastRemoteSnapshotVersion=function(e){return Vg.resolve(this.lastRemoteSnapshotVersion)},dw.prototype.getHighestSequenceNumber=function(e){return Vg.resolve(this.ws)},dw.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Vg.resolve(this.highestTargetId)},dw.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Vg.resolve()},dw.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Gy(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},dw.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Vg.resolve()},dw.prototype.updateTargetData=function(e,t){return this.te(t),Vg.resolve()},dw.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),--this.targetCount,Vg.resolve()},dw.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Vg.waitFor(o).next((function(){return i}))},dw.prototype.getTargetCount=function(e){return Vg.resolve(this.targetCount)},dw.prototype.getTargetData=function(e,t){return t=this.ds.get(t)||null,Vg.resolve(t)},dw.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),Vg.resolve()},dw.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Vg.waitFor(i)},dw.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Vg.resolve()},dw.prototype.getMatchingKeysForTargetId=function(e,t){return t=this._s.es(t),Vg.resolve(t)},dw.prototype.containsKey=function(e,t){return Vg.resolve(this._s.containsKey(t))},dw),aw=(pw.prototype.start=function(){return Promise.resolve()},pw.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(pw.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),pw.prototype.setDatabaseDeletedListener=function(){},pw.prototype.setNetworkEnabled=function(){},pw.prototype.getIndexManager=function(){return this.Ut},pw.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new nw(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},pw.prototype.getTargetCache=function(){return this.qe},pw.prototype.getRemoteDocumentCache=function(){return this.Ue},pw.prototype.getBundleCache=function(){return this.Ke},pw.prototype.runTransaction=function(e,t,n){var r=this;wp("MemoryPersistence","Starting transaction:",e);var i=new sw(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},pw.prototype.Is=function(e,t){return Vg.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},pw),sw=(Qb=cn,(0,sc.ZT)(fw,Qb),fw),uw=(hw.bs=function(e){return new hw(e)},Object.defineProperty(hw.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Tp()},enumerable:!1,configurable:!0}),hw.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),Vg.resolve()},hw.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),Vg.resolve()},hw.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Vg.resolve()},hw.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},hw.prototype.Es=function(){this.Rs=new Set},hw.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Vg.forEach(this.vs,(function(r){var i=id.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},hw.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},hw.prototype.ps=function(e){return 0},hw.prototype.Ps=function(e,t){var n=this;return Vg.or([function(){return Vg.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},hw),cw=(lw.prototype.isAuthenticated=function(){return null!=this.uid},lw.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},lw.prototype.isEqual=function(e){return e.uid===this.uid},lw);function lw(e){this.uid=e}function hw(e){this.persistence=e,this.As=new ew,this.Rs=null}function fw(e){var t=this;return(t=Qb.call(this)||this).currentSequenceNumber=e,t}function pw(e,t){var n=this;this.gs={},this.Ne=new fp(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new ow(this),this.Ut=new ky,this.Ue=(e=this.Ut,new rw(e,(function(e){return n.referenceDelegate.ps(e)}))),this.R=new ly(t),this.Ke=new Xb(this.R)}function dw(e){this.persistence=e,this.ds=new hb(Id,Sd),this.lastRemoteSnapshotVersion=Pp.min(),this.highestTargetId=0,this.ws=0,this._s=new ew,this.targetCount=0,this.ys=Gy.Jt()}function mw(e){var t=this;return(t=Jb.call(this)||this).Ie=e,t}function vw(e,t){this.Ut=e,this.ls=t,this.docs=new pv(id.comparator),this.size=0}function gw(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new wv(tw.Gn)}function yw(e,t){this.key=e,this.ns=t}function bw(){this.Wn=new wv(tw.Gn),this.zn=new wv(tw.Hn)}function ww(e){this.R=e,this.Qn=new Map,this.jn=new Map}function _w(e,t){return"firestore_clients_"+e+"_"+t}function Ew(e,t,n){return n="firestore_mutations_"+e+"_"+n,t.isAuthenticated()&&(n+="_"+t.uid),n}function Cw(e,t){return"firestore_targets_"+e+"_"+t}cw.UNAUTHENTICATED=new cw(null),cw.GOOGLE_CREDENTIALS=new cw("google-credentials-uid"),cw.FIRST_PARTY=new cw("first-party-uid");var Tw,Iw=(Zw.Vs=function(e,t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new vp(i.error.code,i.error.message)),o?new Zw(e,t,i.state,r):(_p("SharedClientState","Failed to parse mutation state for ID '"+t+"': "+n),null)},Zw.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},Zw),Sw=(Kw.Vs=function(e,t){var n,r=JSON.parse(t),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(n=new vp(r.error.code,r.error.message)),i?new Kw(e,r.state,n):(_p("SharedClientState","Failed to parse target state for ID '"+e+"': "+t),null)},Kw.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},Kw),xw=(Gw.Vs=function(e,t){for(var n=JSON.parse(t),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Nv,o=0;r&&o<n.activeTargetIds.length;++o)r=rd(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new Gw(e,i):(_p("SharedClientState","Failed to parse client data for instance '"+e+"': "+t),null)},Gw),kw=(Ww.Vs=function(e){var t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Ww(t.clientId,t.onlineState):(_p("SharedClientState","Failed to parse online state: "+e),null)},Ww),Nw=(Hw.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},Hw.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},Hw.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},Hw),Ow=(zw.yt=function(e){return!(!e||!e.localStorage)},zw.prototype.start=function(){return(0,sc.mG)(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l=this;return(0,sc.Jh)(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(o=h.sent(),e=0,t=o;e<t.length;e++)(n=t[e])!==this.Ns&&(r=this.getItem(_w(this.persistenceKey,n)))&&(i=xw.Vs(n,r))&&(this.ks=this.ks.insert(i.clientId,i));for(this.Qs(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),s=0,u=this.$s;s<u.length;s++)c=u[s],this.Fs(c);return this.$s=[],this.window.addEventListener("pagehide",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},zw.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},zw.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},zw.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},zw.prototype.addPendingMutation=function(e){this.zs(e,"pending")},zw.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},zw.prototype.addLocalQueryTarget=function(e){var t,n="not-current";return this.isActiveQueryTarget(e)&&(!(t=this.storage.getItem(Cw(this.persistenceKey,e)))||(t=Sw.Vs(e,t))&&(n=t.state)),this.Js.Ds(e),this.Qs(),n},zw.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},zw.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},zw.prototype.clearQueryState=function(e){this.removeItem(Cw(this.persistenceKey,e))},zw.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},zw.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},zw.prototype.setOnlineState=function(e){this.Xs(e)},zw.prototype.notifyBundleLoaded=function(){this.Zs()},zw.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},zw.prototype.getItem=function(e){var t=this.storage.getItem(e);return wp("SharedClientState","READ",e,t),t},zw.prototype.setItem=function(e,t){wp("SharedClientState","SET",e,t),this.storage.setItem(e,t)},zw.prototype.removeItem=function(e){wp("SharedClientState","REMOVE",e),this.storage.removeItem(e)},zw.prototype.Fs=function(e){var t=this,n=e;n.storageArea===this.storage&&(wp("SharedClientState","EVENT",n.key,n.newValue),n.key!==this.Os?this.Se.enqueueRetryable((function(){return(0,sc.mG)(t,void 0,void 0,(function(){var e,t,r,i;return(0,sc.Jh)(this,(function(o){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return i=this.ti(n.key),[2,this.ei(i,null)];if(i=this.ni(n.key,n.newValue))return[2,this.ei(i.clientId,i)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(e=this.si(n.key,n.newValue)))return[2,this.ii(e)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(t=this.ri(n.key,n.newValue)))return[2,this.oi(t)]}else if(n.key===this.Us){if(null!==n.newValue&&(r=this.js(n.newValue)))return[2,this.Ws(r)]}else if(n.key===this.Ms)(i=function(e){var t=fp.o;if(null!=e)try{var n=JSON.parse(e);Ip("number"==typeof n),t=n}catch(e){_p("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==fp.o&&this.sequenceNumberHandler(i);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))})):_p("Received WebStorage notification for local change. Another client might have garbage-collected our state"))},Object.defineProperty(zw.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),zw.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},zw.prototype.zs=function(e,t,n){n=new Iw(this.currentUser,e,t,n),e=Ew(this.persistenceKey,this.currentUser,e),this.setItem(e,n.Ss())},zw.prototype.Hs=function(e){e=Ew(this.persistenceKey,this.currentUser,e),this.removeItem(e)},zw.prototype.Xs=function(e){e={clientId:this.Ns,onlineState:e},this.storage.setItem(this.Us,JSON.stringify(e))},zw.prototype.Ys=function(e,t,n){var r=Cw(this.persistenceKey,e);n=new Sw(e,t,n);this.setItem(r,n.Ss())},zw.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},zw.prototype.ti=function(e){return(e=this.Ls.exec(e))?e[1]:null},zw.prototype.ni=function(e,t){return e=this.ti(e),xw.Vs(e,t)},zw.prototype.si=function(e,t){var n=this.Bs.exec(e);e=Number(n[1]),n=void 0!==n[2]?n[2]:null;return Iw.Vs(new cw(n),e,t)},zw.prototype.ri=function(e,t){return e=this.qs.exec(e),e=Number(e[1]),Sw.Vs(e,t)},zw.prototype.js=function(e){return kw.Vs(e)},zw.prototype.ii=function(e){return(0,sc.mG)(this,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(wp("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},zw.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},zw.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},zw.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},zw.prototype.Gs=function(e){var t=Nv;return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},zw),Pw=(Bw.prototype.addPendingMutation=function(e){},Bw.prototype.updateMutationState=function(e,t,n){},Bw.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},Bw.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},Bw.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},Bw.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},Bw.prototype.clearQueryState=function(e){delete this.fi[e]},Bw.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},Bw.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},Bw.prototype.start=function(){return this.li=new Nw,Promise.resolve()},Bw.prototype.handleUserChange=function(e,t,n){},Bw.prototype.setOnlineState=function(e){},Bw.prototype.shutdown=function(){},Bw.prototype.writeSequenceNumber=function(e){},Bw.prototype.notifyBundleLoaded=function(){},Bw),Aw=(qw.prototype.di=function(e){},qw.prototype.shutdown=function(){},qw),Rw=(Vw.prototype.di=function(e){this.gi.push(e)},Vw.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},Vw.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},Vw.prototype._i=function(){wp("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},Vw.prototype.yi=function(){wp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},Vw.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},Vw),Dw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Mw=(Uw.prototype.Ii=function(e){this.Ai=e},Uw.prototype.Ri=function(e){this.bi=e},Uw.prototype.onMessage=function(e){this.vi=e},Uw.prototype.close=function(){this.Ti()},Uw.prototype.send=function(e){this.Ei(e)},Uw.prototype.Pi=function(){this.Ai()},Uw.prototype.Vi=function(e){this.bi(e)},Uw.prototype.Si=function(e){this.vi(e)},Uw),Lw=(jw.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);return wp("RestConnection","Sending: ",i,n),t={},this.Fi(t,r),this.ki(e,i,t,n).then((function(e){return wp("RestConnection","Received: ",e),e}),(function(t){throw Ep("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},jw.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},jw.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.7.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},jw.prototype.xi=function(e,t){return this.Di+"/v1/"+t+":"+Dw[e]},Tw=jw,(0,sc.ZT)(Fw,Tw),Fw.prototype.ki=function(e,t,n,r){return new Promise((function(i,o){var a=new hp;a.listenOnce(op.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case ip.NO_ERROR:var t=a.getResponseJson();wp("Connection","XHR received:",JSON.stringify(t)),i(t);break;case ip.TIMEOUT:wp("Connection",'RPC "'+e+'" timed out'),o(new vp(mp.DEADLINE_EXCEEDED,"Request time out"));break;case ip.HTTP_ERROR:var n,r,s=a.getStatus();wp("Connection",'RPC "'+e+'" failed with status:',s,"response text:",a.getResponseText()),0<s?(n=a.getResponseJson().error)&&n.status&&n.message?(u=n.status.toLowerCase().replace(/_/g,"-"),r=0<=Object.values(mp).indexOf(u)?u:mp.UNKNOWN,o(new vp(r,n.message))):o(new vp(mp.UNKNOWN,"Server responded with status "+a.getStatus())):o(new vp(mp.UNAVAILABLE,"Connection failed."));break;default:Tp()}}finally{wp("Connection",'RPC "'+e+'" completed.')}var u}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},Fw.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new Jf,i=rp();e={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(e.xmlHttpFactory=new cp({})),this.Fi(e.initMessageHeaders,t),(0,uc.uI)()||(0,uc.b$)()||(0,uc.d)()||(0,uc.w1)()||(0,uc.Mn)()||(0,uc.ru)()||(e.httpHeadersOverwriteParam="$httpHeaders"),wp("Connection","Creating WebChannel: "+(n=n.join("")),e);var o=r.createWebChannel(n,e),a=!1,s=!1,u=new Mw({Ei:function(e){s?wp("Connection","Not sending because WebChannel is closed:",e):(a||(wp("Connection","Opening WebChannel transport."),o.open(),a=!0),wp("Connection","WebChannel sending:",e),o.send(e))},Ti:function(){return o.close()}});return(e=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))})(o,lp.EventType.OPEN,(function(){s||wp("Connection","WebChannel transport opened.")})),e(o,lp.EventType.CLOSE,(function(){s||(s=!0,wp("Connection","WebChannel transport closed"),u.Vi())})),e(o,lp.EventType.ERROR,(function(e){s||(s=!0,Ep("Connection","WebChannel transport errored:",e),u.Vi(new vp(mp.UNAVAILABLE,"The operation could not be completed")))})),e(o,lp.EventType.MESSAGE,(function(e){var t,n,r,i;s||(Ip(!!(t=e.data[0])),(n=t.error||(null===(i=t[0])||void 0===i?void 0:i.error))?(wp("Connection","WebChannel received error:",n),r=n.status,e=function(){var e=iv[r];if(void 0!==e)return fv(e)}(),i=n.message,void 0===e&&(e=mp.INTERNAL,i="Unknown error status: "+r+" with message "+n.message),s=!0,u.Vi(new vp(e,i)),o.close()):(wp("Connection","WebChannel received:",t),u.Si(t)))})),e(i,ap.STAT_EVENT,(function(e){e.stat===sp?wp("Connection","Detected buffering proxy"):e.stat===up&&wp("Connection","Detected no buffering proxy")})),setTimeout((function(){u.Pi()}),0),u},Fw);function Fw(e){var t=this;return(t=Tw.call(this,e)||this).forceLongPolling=e.forceLongPolling,t.autoDetectLongPolling=e.autoDetectLongPolling,t.useFetchStreams=e.useFetchStreams,t}function jw(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}function Uw(e){this.Ei=e.Ei,this.Ti=e.Ti}function Vw(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}function qw(){}function Bw(){this.li=new Nw,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}function zw(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new pv(kp),this.started=!1,this.$s=[],n=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),this.storage=this.window.localStorage,this.currentUser=i,this.Os=_w(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new Nw),this.Ls=new RegExp("^firestore_clients_"+n+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+n+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+n+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks="firestore_bundle_loaded_"+this.persistenceKey,this.window.addEventListener("storage",this.xs)}function Hw(){this.activeTargetIds=Nv}function Ww(e,t){this.clientId=e,this.onlineState=t}function Gw(e,t){this.clientId=e,this.activeTargetIds=t}function Kw(e,t,n){this.targetId=e,this.state=t,this.error=n}function Zw(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}function Yw(){return"undefined"!=typeof window?window:null}function $w(){return"undefined"!=typeof document?document:null}function Qw(e){return new Wv(e,!0)}function Jw(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return(0,sc.mG)(o,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(e){switch(e.label){case 0:return __(this)?(wp("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return(0,sc.mG)(this,void 0,void 0,(function(){var t;return(0,sc.Jh)(this,(function(n){switch(n.label){case 0:return(t=e).Or.add(4),[4,d_(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,p_(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new a_(n,r)}var Xw,e_,t_,n_=(f_.prototype.reset=function(){this.qi=0},f_.prototype.Qi=function(){this.qi=this.Bi},f_.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);0<i&&wp("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},f_.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},f_.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},f_.prototype.Wi=function(){return(Math.random()-.5)*this.qi},f_),r_=(s=(h_.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},h_.prototype.er=function(){return 2===this.state},h_.prototype.start=function(){3!==this.state?this.auth():this.nr()},h_.prototype.stop=function(){return(0,sc.mG)(this,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},h_.prototype.sr=function(){this.state=0,this.Zi.reset()},h_.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},h_.prototype.cr=function(e){this.ur(),this.stream.send(e)},h_.prototype.rr=function(){return(0,sc.mG)(this,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},h_.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},h_.prototype.close=function(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===mp.RESOURCE_EXHAUSTED?(_p(t.toString()),_p("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===mp.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},h_.prototype.ar=function(){},h_.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new vp(mp.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},h_.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},h_.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return(0,sc.mG)(e,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},h_.prototype.dr=function(e){return wp("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},h_.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(wp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},h_),t_=s,(0,sc.ZT)(l_,t_),l_.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},l_.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){if("targetChange"in t){t.targetChange;var n="NO_CHANGE"===(o=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===o?1:"REMOVE"===o?2:"CURRENT"===o?3:"RESET"===o?4:Tp(),r=t.targetChange.targetIds||[],i=(a=t.targetChange.resumeToken,e.I?(Ip(void 0===a||"string"==typeof a),zp.fromBase64String(a||"")):(Ip(void 0===a||a instanceof Uint8Array),zp.fromUint8Array(a||new Uint8Array))),o=(s=t.targetChange.cause)&&(u=void 0===(c=s).code?mp.UNKNOWN:fv(c.code),new vp(u,c.message||"")),a=new Dv(n,r,i,o||null)}else if("documentChange"in t){t.documentChange,(n=t.documentChange).document,n.document.name,n.document.updateTime;r=Jv(e,n.document.name),i=Zv(n.document.updateTime);var s=new bd({mapValue:{fields:n.document.fields}}),u=(o=_d.newFoundDocument(r,i,s),n.targetIds||[]),c=n.removedTargetIds||[];a=new Av(u,c,o.key,o)}else if("documentDelete"in t)t.documentDelete,(n=t.documentDelete).document,r=Jv(e,n.document),i=n.readTime?Zv(n.readTime):Pp.min(),s=_d.newNoDocument(r,i),o=n.removedTargetIds||[],a=new Av([],o,s.key,s);else if("documentRemove"in t)t.documentRemove,(n=t.documentRemove).document,r=Jv(e,n.document),i=n.removedTargetIds||[],a=new Av([],i,r,null);else{if(!("filter"in t))return Tp();t.filter,(t=t.filter).targetId,r=new rv(n=t.count||0),i=t.targetId,a=new Rv(i,r)}return a}(this.R,e);e=function(e){return"targetChange"in e?(e=e.targetChange).targetIds&&e.targetIds.length||!e.readTime?Pp.min():Zv(e.readTime):Pp.min()}(e);return this.listener._r(t,e)},l_.prototype.mr=function(e){var t,n,r,i,o={};o.database=tg(this.R),o.addTarget=(t=this.R,(r=xd(r=(n=e).target)?{documents:sg(t,r)}:{query:ug(t,r)}).targetId=n.targetId,0<n.resumeToken.approximateByteSize()?r.resumeToken=Kv(t,n.resumeToken):0<n.snapshotVersion.compareTo(Pp.min())&&(r.readTime=Gv(t,n.snapshotVersion.toTimestamp())),r),(e=(this.R,i=e,null==(e=function(){switch(i.purpose){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Tp()}}())?null:{"goog-listen-tags":e}))&&(o.labels=e),this.cr(o)},l_.prototype.yr=function(e){var t={};t.database=tg(this.R),t.removeTarget=e,this.cr(t)},l_),i_=(e_=s,(0,sc.ZT)(c_,e_),Object.defineProperty(c_.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),c_.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e_.prototype.start.call(this)},c_.prototype.ar=function(){this.gr&&this.Er([])},c_.prototype.wr=function(e){return this.Hi.Oi("Write",e)},c_.prototype.onMessage=function(e){if(Ip(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=(n=e.writeResults,r=e.commitTime,n&&0<n.length?(Ip(void 0!==r),n.map((function(e){return n=r,(e=(t=e).updateTime?Zv(t.updateTime):Zv(n)).isEqual(Pp.min())&&(e=Zv(n)),new Vm(e,t.transformResults||[]);var t,n}))):[]),n=Zv(e.commitTime);return this.listener.Tr(n,t)}var r;return Ip(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},c_.prototype.Ar=function(){var e={};e.database=tg(this.R),this.cr(e)},c_.prototype.Er=function(e){var t=this;e={streamToken:this.lastStreamToken,writes:e.map((function(e){return og(t.R,e)}))};this.cr(e)},c_),o_=(Xw=function(){},(0,sc.ZT)(u_,Xw),u_.prototype.br=function(){if(this.Rr)throw new vp(mp.FAILED_PRECONDITION,"The client has already been terminated.")},u_.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===mp.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new vp(mp.UNKNOWN,e.toString())}))},u_.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===mp.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new vp(mp.UNKNOWN,e.toString())}))},u_.prototype.terminate=function(){this.Rr=!0},u_),a_=(s_.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},s_.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,1<=this.vr&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},s_.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},s_.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},s_.prototype.Cr=function(e){e="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.",this.Vr?(_p(e),this.Vr=!1):wp("OnlineStateTracker",e)},s_.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},s_);function s_(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}function u_(e,t,n){var r=this;return(r=Xw.call(this)||this).credentials=e,r.Hi=t,r.R=n,r.Rr=!1,r}function c_(e,t,n,r,i){var o=this;return(o=e_.call(this,e,"write_stream_connection_backoff","write_stream_idle",t,n,i)||this).R=r,o.gr=!1,o}function l_(e,t,n,r,i){var o=this;return(o=t_.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",t,n,i)||this).R=r,o}function h_(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new n_(e,t)}function f_(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}function p_(e){return(0,sc.mG)(this,void 0,void 0,(function(){var t,n;return(0,sc.Jh)(this,(function(r){switch(r.label){case 0:if(!__(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function d_(e){return(0,sc.mG)(this,void 0,void 0,(function(){var t,n;return(0,sc.Jh)(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function m_(e,t){e.$r.has(t.targetId)||(e.$r.set(t.targetId,t),w_(e)?b_(e):O_(e).er()&&g_(e,t))}function v_(e,t){var n=e;e=O_(n);n.$r.delete(t),e.er()&&y_(n,t),0===n.$r.size&&(e.er()?e.ir():__(n)&&n.Br.set("Unknown"))}function g_(e,t){e.qr.U(t.targetId),O_(e).mr(t)}function y_(e,t){e.qr.U(t),O_(e).yr(t)}function b_(e){e.qr=new Lv({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),O_(e).start(),e.Br.Sr()}function w_(e){return __(e)&&!O_(e).tr()&&0<e.$r.size}function __(e){return 0===e.Or.size}function E_(e){e.qr=void 0}function C_(e,t,n){return(0,sc.mG)(this,void 0,void 0,(function(){var r,i;return(0,sc.Jh)(this,(function(o){switch(o.label){case 0:if(e.Br.set("Online"),!(t instanceof Dv&&2===t.state&&t.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,sc.Jh)(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),wp("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,T_(e,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Av?e.qr.X(t):t instanceof Rv?e.qr.rt(t):e.qr.et(t),n.isEqual(Pp.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,Bb(e.localStore)];case 8:return i=o.sent(),0<=n.compareTo(i)?[4,(s=n,(u=(a=e).qr.ut(s)).targetChanges.forEach((function(e,t){var n;0<e.resumeToken.approximateByteSize()&&(n=a.$r.get(t))&&a.$r.set(t,n.withResumeToken(e.resumeToken,s))})),u.targetMismatches.forEach((function(e){var t=a.$r.get(e);t&&(a.$r.set(e,t.withResumeToken(zp.EMPTY_BYTE_STRING,t.snapshotVersion)),y_(a,e),t=new cy(t.target,e,1,t.sequenceNumber),g_(a,t))})),a.remoteSyncer.applyRemoteEvent(u))]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return wp("RemoteStore","Failed to raise snapshot:",i=o.sent()),[4,T_(e,i)];case 12:return o.sent(),[3,13];case 13:return[2]}var a,s,u}))}))}function T_(e,t,n){return(0,sc.mG)(this,void 0,void 0,(function(){var r=this;return(0,sc.Jh)(this,(function(i){switch(i.label){case 0:if(!Qg(t))throw t;return e.Or.add(1),[4,d_(e)];case 1:return i.sent(),e.Br.set("Offline"),n=n||function(){return Bb(e.localStore)},e.asyncQueue.enqueueRetryable((function(){return(0,sc.mG)(r,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(t){switch(t.label){case 0:return wp("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,p_(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function I_(e,t){return t().catch((function(n){return T_(e,n,t)}))}function S_(e){return(0,sc.mG)(this,void 0,void 0,(function(){var t,n,r,i;return(0,sc.Jh)(this,(function(o){switch(o.label){case 0:n=P_(t=e),r=0<t.kr.length?t.kr[t.kr.length-1].batchId:-1,o.label=1;case 1:if(!(__(u=t)&&u.kr.length<10))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,(u=t.localStore,a=r,(s=u).persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===a&&(a=-1),s._n.getNextMutationBatchAfterBatchId(e,a)})))];case 3:return null===(i=o.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t),(e=P_(e)).er()&&e.pr&&e.Er(t.mutations)}(t,i),[3,6]);case 4:return i=o.sent(),[4,T_(t,i)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return x_(t)&&k_(t),[2]}var a,s,u}))}))}function x_(e){return __(e)&&!P_(e).tr()&&0<e.kr.length}function k_(e){P_(e).start()}function N_(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){var n;return(0,sc.Jh)(this,(function(r){switch(r.label){case 0:return n=e,t?(n.Or.delete(2),[4,p_(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,d_(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function O_(e){var t,n,r,i=this;return e.Ur||(e.Ur=(t=e.datastore,n=e.asyncQueue,r={Ii:function(e){return(0,sc.mG)(this,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(t){return e.$r.forEach((function(t,n){g_(e,t)})),[2]}))}))}.bind(null,e),Ri:function(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(n){return E_(e),w_(e)?(e.Br.Nr(t),b_(e)):e.Br.set("Unknown"),[2]}))}))}.bind(null,e),_r:C_.bind(null,e)},t.br(),new r_(n,t.Hi,t.credentials,t.R,r)),e.Mr.push((function(t){return(0,sc.mG)(i,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(n){switch(n.label){case 0:return t?(e.Ur.sr(),w_(e)?b_(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:n.sent(),E_(e),n.label=3;case 3:return[2]}}))}))}))),e.Ur}function P_(e){var t,n,r,i=this;return e.Kr||(e.Kr=(t=e.datastore,n=e.asyncQueue,r={Ii:function(e){return(0,sc.mG)(this,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(t){return P_(e).Ar(),[2]}))}))}.bind(null,e),Ri:function(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(n){switch(n.label){case 0:return t&&P_(e).pr?[4,function(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){var n,r;return(0,sc.Jh)(this,(function(i){switch(i.label){case 0:return hv(r=t.code)&&r!==mp.ABORTED?(n=e.kr.shift(),P_(e).sr(),[4,I_(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,S_(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return x_(e)&&k_(e),[2]}}))}))}.bind(null,e),Ir:function(e){return(0,sc.mG)(this,void 0,void 0,(function(){var t,n,r,i;return(0,sc.Jh)(this,(function(o){for(t=P_(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}.bind(null,e),Tr:function(e,t,n){return(0,sc.mG)(this,void 0,void 0,(function(){var r,i;return(0,sc.Jh)(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=uy.from(r,t,n),[4,I_(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,S_(e)];case 2:return o.sent(),[2]}}))}))}.bind(null,e)},t.br(),new i_(n,t.Hi,t.credentials,t.R,r)),e.Mr.push((function(t){return(0,sc.mG)(i,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(n){switch(n.label){case 0:return t?(e.Kr.sr(),[4,S_(e)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:n.sent(),0<e.kr.length&&(wp("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),n.label=4;case 4:return[2]}}))}))}))),e.Kr}var A_=(R_.createAndSchedule=function(e,t,n,r,i){return(i=new R_(e,t,Date.now()+n,r,i)).start(n),i},R_.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},R_.prototype.skipDelay=function(){return this.handleDelayElapsed()},R_.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vp(mp.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},R_.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},R_.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},R_);function R_(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ug,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}function D_(e,t){if(_p("AsyncQueue",t+": "+e),Qg(e))return new vp(mp.UNAVAILABLE,t+": "+e);throw e}function M_(){this.queries=new hb(vm,mm),this.onlineState="Unknown",this.Gr=new Set}var L_=(B_.emptySet=function(e){return new B_(e.comparator)},B_.prototype.has=function(e){return null!=this.keyedMap.get(e)},B_.prototype.get=function(e){return this.keyedMap.get(e)},B_.prototype.first=function(){return this.sortedSet.minKey()},B_.prototype.last=function(){return this.sortedSet.maxKey()},B_.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},B_.prototype.indexOf=function(e){return(e=this.keyedMap.get(e))?this.sortedSet.indexOf(e):-1},Object.defineProperty(B_.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),B_.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},B_.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},B_.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},B_.prototype.isEqual=function(e){if(!(e instanceof B_))return!1;if(this.size!==e.size)return!1;for(var t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();t.hasNext();){var r=t.getNext().key,i=n.getNext().key;if(!r.isEqual(i))return!1}return!0},B_.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},B_.prototype.copy=function(e,t){var n=new B_;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n},B_),F_=(q_.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);!n||0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):Tp()},q_.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},q_),j_=(V_.fromInitialDocuments=function(e,t,n,r){var i=[];return t.forEach((function(e){i.push({type:0,doc:e})})),new V_(e,t,L_.emptySet(t),i,n,r,!0,!1)},Object.defineProperty(V_.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),V_.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},V_),U_=function(){this.Wr=void 0,this.listeners=[]};function V_(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}function q_(){this.Qr=new pv(id.comparator)}function B_(e){this.comparator=e?function(t,n){return e(t,n)||id.comparator(t.key,n.key)}:function(e,t){return id.comparator(e.key,t.key)},this.keyedMap=Iv,this.sortedSet=new pv(this.comparator)}function z_(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,sc.Jh)(this,(function(s){switch(s.label){case 0:if(n=e,r=t.query,a=!1,(i=n.queries.get(r))||(a=!0,i=new U_),!a)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),o=i,[4,n.onListen(r)];case 2:return o.Wr=s.sent(),[3,4];case 3:return a=D_(a=s.sent(),"Initialization of query '"+gm(t.query)+"' failed"),[2,void t.onError(a)];case 4:return n.queries.set(r,i),i.listeners.push(t),t.zr(n.onlineState),i.Wr&&t.Hr(i.Wr)&&W_(n),[2]}}))}))}function H_(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,sc.Jh)(this,(function(s){return n=e,r=t.query,i=!1,(o=n.queries.get(r))&&0<=(a=o.listeners.indexOf(t))&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function W_(e){e.Gr.forEach((function(e){e.next()}))}var G_=(J_.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new j_(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},J_.prototype.onError=function(e){this.Jr.error(e)},J_.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},J_.prototype.eo=function(e,t){return!e.fromCache||!(this.options.so&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)},J_.prototype.Zr=function(e){if(0<e.docChanges.length)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},J_.prototype.no=function(e){e=j_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},J_),K_=(Q_.prototype.io=function(){return"metadata"in this.payload},Q_),Z_=($_.prototype.qn=function(e){return Jv(this.R,e)},$_.prototype.Un=function(e){return e.metadata.exists?ig(this.R,e.document,!1):_d.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},$_.prototype.Kn=Zv,$_);function Y_(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=function(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(e)}function $_(e){this.R=e}function Q_(e,t){this.payload=e,this.byteLength=t}function J_(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}Y_.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},Y_.prototype.co=function(e){for(var t=new Map,n=new Z_(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||kv()).add(a);t.set(c,l)}}return t},Y_.prototype.complete=function(){return(0,sc.mG)(this,void 0,void 0,(function(){var e,t,n,r,i;return(0,sc.Jh)(this,(function(o){switch(o.label){case 0:return[4,function(e,t,n,r){return(0,sc.mG)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,p;return(0,sc.Jh)(this,(function(d){switch(d.label){case 0:for(i=e,o=kv(),a=Ev,s=Sv,u=0,c=n;u<c.length;u++)l=c[u],h=t.qn(l.metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.Un(l)),s=s.insert(h,t.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,Wb(i,pm(am(Up.fromString("__bundle__/docs/"+r))))];case 1:return p=d.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Hb(e,f,a,Pp.min(),s).next((function(t){return f.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return i.qe.addMatchingKeys(e,o,p.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}(this.localStore,new Z_(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,function(e,t,n){return void 0===n&&(n=kv()),(0,sc.mG)(this,void 0,void 0,(function(){var r,i;return(0,sc.Jh)(this,(function(o){switch(o.label){case 0:return[4,Wb(e,pm(Cy(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=e).persistence.runTransaction("Save named query","readwrite",(function(e){var o=Zv(t.readTime);return 0<=r.snapshotVersion.compareTo(o)?i.Ke.saveNamedQuery(e,t):(o=r.withResumeToken(zp.EMPTY_BYTE_STRING,o),i.Fn=i.Fn.insert(o.targetId,o),i.qe.updateTargetData(e,o).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)})))}))]}}))}))}(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Ob(Object.assign({},this.progress),e))]}}))}))};var X_=function(e){this.key=e},eE=function(e){this.key=e},tE=(Object.defineProperty(aE.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),aE.prototype._o=function(e,t){var n=this,r=t?t.mo:new F_,i=(t||this).fo,o=(t||this).mutatedKeys,a=i,s=!1,u=sm(this.query)&&i.size===this.query.limit?i.last():null,c=um(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=ym(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),p=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations);t=!1;l&&h?l.data.isEqual(h.data)?f!==p&&(r.track({type:3,doc:h}),t=!0):n.yo(l,h)||(r.track({type:2,doc:h}),t=!0,(u&&0<n.lo(h,u)||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),t=!0):l&&!h&&(r.track({type:1,doc:l}),t=!0,(u||c)&&(s=!0)),t&&(o=h?(a=a.add(h),p?o.add(e):o.delete(e)):(a=a.delete(e),o.delete(e)))})),sm(this.query)||um(this.query))for(;a.size>this.query.limit;){var l=sm(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key);r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},aE.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},aE.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return i=e.type,o=t.type,n(i)-n(o)||r.lo(e.doc,t.doc);function n(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tp()}}var i,o})),this.po(n);var a=t?this.Eo():[];t=(n=0===this.ho.size&&this.current?1:0)!==this.ao;return this.ao=n,0!==o.length||t?{snapshot:new j_(this.query,e.fo,i,o,e.mutatedKeys,0==n,t,!1),To:a}:{To:a}},aE.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new F_,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},aE.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},aE.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},aE.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=kv(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new eE(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new X_(e))})),n},aE.prototype.Ao=function(e){return this.uo=e.Bn,this.ho=kv(),e=this._o(e.documents),this.applyChanges(e,!0)},aE.prototype.Ro=function(){return j_.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},aE),nE=function(e,t,n){this.query=e,this.targetId=t,this.view=n},rE=function(e){this.key=e,this.bo=!1},iE=(Object.defineProperty(oE.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),oE);function oE(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new hb(vm,mm),this.Vo=new Map,this.So=new Set,this.Do=new pv(id.comparator),this.Co=new Map,this.No=new ew,this.xo={},this.Fo=new Map,this.ko=Gy.Yt(),this.onlineState="Unknown",this.$o=void 0}function aE(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=kv(),this.mutatedKeys=kv(),this.lo=bm(e),this.fo=new L_(this.lo)}function sE(e,t,n,r){return(0,sc.mG)(this,void 0,void 0,(function(){var i,o,a;return(0,sc.Jh)(this,(function(s){switch(s.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return(0,sc.mG)(this,void 0,void 0,(function(){var i,o;return(0,sc.Jh)(this,(function(a){switch(a.label){case 0:return(i=t.view._o(n)).Nn?[4,Kb(e.localStore,t.query,!1).then((function(e){return e=e.documents,t.view._o(e,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(gE(e,t.targetId,o.To),o.snapshot)]}}))}))}(e,t,n,r)},[4,Kb(e.localStore,t,!0)];case 1:return o=s.sent(),a=new tE(t,o.Bn),i=a._o(o.documents),o=Pv.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),o=a.applyChanges(i,e.isPrimaryClient,o),gE(e,n,o.To),a=new nE(t,n,a),[2,(e.Po.set(t,a),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),o.snapshot)]}}))}))}function uE(e,t,n){return(0,sc.mG)(this,void 0,void 0,(function(){var r,i;return(0,sc.Jh)(this,(function(o){switch(o.label){case 0:r=SE(e),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,(c=r.localStore,l=t,f=c,p=Op.now(),d=l.reduce((function(e,t){return e.add(t.key)}),kv()),f.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return f.Mn.pn(e,d).next((function(t){h=t;for(var n=[],r=0,i=l;r<i.length;r++){var o=i[r],a=function(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field);null!=(a=Cm(o.transform,a||null))&&(n=null==n?bd.empty():n).set(o.field,a)}return n||null}(o,h.get(o.key));null!=a&&n.push(new Qm(o.key,a,function e(t){var n=[];return Mp(t.fields,(function(t,r){var i=new qp([t]);if(gd(r))if(0===(r=e(r.mapValue).fields).length)n.push(i);else for(var o=0,a=r;o<a.length;o++){var s=a[o];n.push(i.child(s))}else n.push(i)})),new Bp(n)}(a.value.mapValue),Bm.exists(!0)))}return f._n.addMutationBatch(e,p,n,l)}))})).then((function(e){return e.applyToLocalDocumentSet(h),{batchId:e.batchId,changes:h}})))];case 2:return i=o.sent(),r.sharedClientState.addPendingMutation(i.batchId),a=r,s=i.batchId,u=n,c=(c=(c=a.xo[a.currentUser.toKey()])||new pv(kp)).insert(s,u),a.xo[a.currentUser.toKey()]=c,[4,bE(r,i.changes)];case 3:return o.sent(),[4,S_(r.remoteStore)];case 4:return o.sent(),[3,6];case 5:return i=D_(i=o.sent(),"Failed to persist write"),n.reject(i),[3,6];case 6:return[2]}var a,s,u,c,l,h,f,p,d}))}))}function cE(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){var n,r;return(0,sc.Jh)(this,(function(i){switch(i.label){case 0:n=e,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,zb(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){(t=n.Co.get(t))&&(Ip(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),0<e.addedDocuments.size?t.bo=!0:0<e.modifiedDocuments.size?Ip(t.bo):0<e.removedDocuments.size&&(Ip(t.bo),t.bo=!1))})),[4,bE(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Xy(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function lE(e,t,n){var r;((e=e).isPrimaryClient&&0===n||!e.isPrimaryClient&&1===n)&&(r=[],e.Po.forEach((function(e,n){(n=n.view.zr(t)).snapshot&&r.push(n.snapshot)})),function(e,t){e.onlineState=t;var n=!1;e.queries.forEach((function(e,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].zr(t)&&(n=!0)})),n&&W_(e)}(e.eventManager,t),r.length&&e.vo._r(r),e.onlineState=t,e.isPrimaryClient&&e.sharedClientState.setOnlineState(t))}function hE(e,t,n){return(0,sc.mG)(this,void 0,void 0,(function(){var r,i;return(0,sc.Jh)(this,(function(o){switch(o.label){case 0:r=e,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(a=r.localStore,s=t,(u=a).persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var t;return u._n.lookupMutationBatch(e,s).next((function(n){return Ip(null!==n),t=n.keys(),u._n.removeMutationBatch(e,n)})).next((function(){return u._n.performConsistencyCheck(e)})).next((function(){return u.Mn.pn(e,t)}))})))];case 2:return i=o.sent(),dE(r,t,n),pE(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,bE(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Xy(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var a,s,u}))}))}function fE(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,sc.Jh)(this,(function(o){switch(o.label){case 0:__((n=e).remoteStore)||wp("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(a=n.localStore).persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return a._n.getHighestUnacknowledgedBatchId(e)}))];case 2:return-1===(r=o.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return i=D_(i=o.sent(),"Initialization of waitForPendingWrites() operation failed"),t.reject(i),[3,4];case 4:return[2]}var a}))}))}function pE(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function dE(e,t,n){var r=e,i=r.xo[r.currentUser.toKey()];i&&((e=i.get(t))&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i)}function mE(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||vE(e,t)}))}function vE(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(v_(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),yE(e))}function gE(e,t,n){for(var r,i,o,a=0,s=n;a<s.length;a++){var u=s[a];u instanceof X_?(e.No.addReference(u.key,t),r=e,o=void 0,i=(o=(i=u).key).path.canonicalString(),r.Do.get(o)||r.So.has(i)||(wp("SyncEngine","New document in limbo: "+o),r.So.add(i),yE(r))):u instanceof eE?(wp("SyncEngine","Document no longer in limbo: "+u.key),e.No.removeReference(u.key,t),e.No.containsKey(u.key)||vE(e,u.key)):Tp()}}function yE(e){for(;0<e.So.size&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new id(Up.fromString(t));t=e.ko.next();e.Co.set(t,new rE(n)),e.Do=e.Do.insert(n,t),m_(e.remoteStore,new cy(pm(am(n.path)),t,2,fp.o))}}function bE(e,t,n){return(0,sc.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,sc.Jh)(this,(function(s){switch(s.label){case 0:return i=[],o=[],a=[],(r=e).Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){e&&(r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e),e=Ab.Pn(s.targetId,e),o.push(e))})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,sc.Jh)(this,(function(c){switch(c.label){case 0:n=e,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Vg.forEach(t,(function(t){return Vg.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return Vg.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return c.sent(),[3,4];case 3:if(!Qg(r=c.sent()))throw r;return wp("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)u=o[i],a=u.targetId,u.fromCache||(s=n.Fn.get(a),u=s.snapshotVersion,u=s.withLastLimboFreeSnapshotVersion(u),n.Fn=n.Fn.insert(a,u));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function wE(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){var n,r;return(0,sc.Jh)(this,(function(i){switch(i.label){case 0:return(n=e).currentUser.isEqual(t)?[3,3]:(wp("SyncEngine","User change. New user:",t.toKey()),[4,Vb(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,(o=n).Fo.forEach((function(e){e.forEach((function(e){e.reject(new vp(mp.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.Fo.clear(),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,bE(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function _E(e,t,n,r){return(0,sc.mG)(this,void 0,void 0,(function(){var i,o;return(0,sc.Jh)(this,(function(a){switch(a.label){case 0:return[4,(s=(i=e).localStore,u=t,l=(c=s)._n,c.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return l.jt(e,u).next((function(t){return t?c.Mn.pn(e,t):Vg.resolve(null)}))})))];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,S_(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(dE(i,t,r||null),pE(i,t),i.localStore._n.Gt(t)):Tp(),a.label=4;case 4:return[4,bE(i,o)];case 5:return a.sent(),[3,7];case 6:wp("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}var s,u,c,l}))}))}function EE(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return(0,sc.Jh)(this,(function(l){switch(l.label){case 0:return IE(n=e),SE(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,CE(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,N_(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],m_(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return mE(n,t),Gb(n.localStore,t,!0)})),v_(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,CE(n,u)];case 5:return l.sent(),(h=n).Co.forEach((function(e,t){v_(h.remoteStore,t)})),h.No.ts(),h.Co=new Map,h.Do=new pv(id.comparator),n.$o=!1,[4,N_(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}var h}))}))}function CE(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,p;return(0,sc.Jh)(this,(function(d){switch(d.label){case 0:n=e,r=[],i=[],o=0,a=t,d.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,Wb(n.localStore,pm(c[0]))]:[3,7]):[3,13];case 2:u=d.sent(),l=0,h=c,d.label=3;case 3:return l<h.length?(f=h[l],f=n.Po.get(f),[4,function(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){var n,r;return(0,sc.Jh)(this,(function(i){switch(i.label){case 0:return[4,Kb((n=e).localStore,t.query,!0)];case 1:return r=i.sent(),r=t.view.Ao(r),[2,(n.isPrimaryClient&&gE(n,t.targetId,r.To),r)]}}))}))}(n,f)]):[3,6];case 4:(f=d.sent()).snapshot&&i.push(f.snapshot),d.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Zb(n.localStore,s)];case 8:return p=d.sent(),[4,Wb(n.localStore,p)];case 9:return u=d.sent(),[4,sE(n,TE(p),s,!1)];case 10:d.sent(),d.label=11;case 11:r.push(u),d.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function TE(e){return om(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function IE(e){return e.remoteStore.remoteSyncer.applyRemoteEvent=cE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(e,t){var n=e;if((e=n.Co.get(t))&&e.bo)return kv().add(e.key);var r=kv();if(!(t=n.Vo.get(t)))return r;for(var i=0,o=t;i<o.length;i++){var a=o[i];a=n.Po.get(a),r=r.unionWith(a.view.wo)}return r}.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=function(e,t,n){return(0,sc.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,sc.Jh)(this,(function(s){switch(s.label){case 0:return(r=e).sharedClientState.updateQueryState(t,"rejected",n),a=r.Co.get(t),(i=a&&a.key)?(o=(o=new pv(id.comparator)).insert(i,_d.newNoDocument(i,Pp.min())),a=kv().add(i),a=new Ov(Pp.min(),new Map,new wv(kp),o,a),[4,cE(r,a)]):[3,2];case 1:return s.sent(),r.Do=r.Do.remove(i),r.Co.delete(t),yE(r),[3,4];case 2:return[4,Gb(r.localStore,t,!1).then((function(){return mE(r,t,n)})).catch(Xy)];case 3:s.sent(),s.label=4;case 4:return[2]}}))}))}.bind(null,e),e.vo._r=function(e,t){for(var n=e,r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query;if(s=n.queries.get(s)){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hr(a)&&(r=!0);s.Wr=a}}r&&W_(n)}.bind(null,e.eventManager),e.vo.Mo=function(e,t,n){var r=e;if(e=r.queries.get(t))for(var i=0,o=e.listeners;i<o.length;i++)o[i].onError(n);r.queries.delete(t)}.bind(null,e.eventManager),e}function SE(e){return e.remoteStore.remoteSyncer.applySuccessfulWrite=function(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,sc.Jh)(this,(function(o){switch(o.label){case 0:n=e,r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,qb(n.localStore,t)];case 2:return i=o.sent(),dE(n,r,null),pE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,bE(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Xy(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hE.bind(null,e),e}var xE,kE,NE=(LE.prototype.initialize=function(e){return(0,sc.mG)(this,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(t){switch(t.label){case 0:return this.R=Qw(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},LE.prototype.Uo=function(e){return null},LE.prototype.Ko=function(e){return Ub(this.persistence,new Rb,e.initialUser,this.R)},LE.prototype.qo=function(e){return new aw(uw.bs,this.R)},LE.prototype.Bo=function(e){return new Pw},LE.prototype.terminate=function(){return(0,sc.mG)(this,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},LE),OE=(kE=NE,(0,sc.ZT)(ME,kE),ME.prototype.initialize=function(e){return(0,sc.mG)(this,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(t){switch(t.label){case 0:return[4,kE.prototype.initialize.call(this,e)];case 1:return t.sent(),[4,$b(this.localStore)];case 2:return t.sent(),[4,this.Qo.initialize(this,e)];case 3:return t.sent(),[4,SE(this.Qo.syncEngine)];case 4:return t.sent(),[4,S_(this.Qo.remoteStore)];case 5:return t.sent(),[2]}}))}))},ME.prototype.Ko=function(e){return Ub(this.persistence,new Rb,e.initialUser,this.R)},ME.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new nb(t,e.asyncQueue)},ME.prototype.qo=function(e){var t=Nb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ly.withCacheSize(this.cacheSizeBytes):Ly.DEFAULT;return new Ib(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Yw(),$w(),this.R,this.sharedClientState,!!this.forceOwnership)},ME.prototype.Bo=function(e){return new Pw},ME),PE=(xE=OE,(0,sc.ZT)(DE,xE),DE.prototype.initialize=function(e){return(0,sc.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,sc.Jh)(this,(function(r){switch(r.label){case 0:return[4,xE.prototype.initialize.call(this,e)];case 1:return r.sent(),t=this.Qo.syncEngine,this.sharedClientState instanceof Ow?(this.sharedClientState.syncEngine={ui:_E.bind(null,t),ai:function(e,t,n,r){return(0,sc.mG)(this,void 0,void 0,(function(){var i,o,a;return(0,sc.Jh)(this,(function(s){switch(s.label){case 0:return(i=e).$o?(wp("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Yb(i.localStore)];case 3:return o=s.sent(),a=Ov.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,bE(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Gb(i.localStore,t,!0)];case 6:return s.sent(),mE(i,t,r),[3,8];case 7:Tp(),s.label=8;case 8:return[2]}}))}))}.bind(null,t),hi:function(e,t,n){return(0,sc.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h;return(0,sc.Jh)(this,(function(f){switch(f.label){case 0:if(!(r=IE(e)).$o)return[3,10];i=0,o=t,f.label=1;case 1:return i<o.length?(h=o[i],r.Vo.has(h)?(wp("SyncEngine","Adding an already active target "+h),[3,5]):[4,Zb(r.localStore,h)]):[3,6];case 2:return a=f.sent(),[4,Wb(r.localStore,a)];case 3:return s=f.sent(),[4,sE(r,TE(a),s.targetId,!1)];case 4:f.sent(),m_(r.remoteStore,s),f.label=5;case 5:return i++,[3,1];case 6:u=function(e){return(0,sc.Jh)(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Gb(r.localStore,e,!1).then((function(){v_(r.remoteStore,e),mE(r,e)})).catch(Xy)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},c=0,l=n,f.label=7;case 7:return c<l.length?(h=l[c],[5,u(h)]):[3,10];case 8:f.sent(),f.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))}.bind(null,t),fn:function(e){return e.localStore.persistence.fn()}.bind(null,t),ci:function(e){return(0,sc.mG)(this,void 0,void 0,(function(){var t;return(0,sc.Jh)(this,(function(n){return[2,Yb((t=e).localStore).then((function(e){return bE(t,e)}))]}))}))}.bind(null,t)},[4,this.sharedClientState.start()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[4,this.persistence.He((function(e){return(0,sc.mG)(n,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(t){switch(t.label){case 0:return[4,EE(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return r.sent(),[2]}}))}))},DE.prototype.Bo=function(e){var t=Yw();if(!Ow.yt(t))throw new vp(mp.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Nb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ow(t,e.asyncQueue,n,e.clientId,e.initialUser)},DE),AE=(RE.prototype.initialize=function(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){var n=this;return(0,sc.Jh)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return lE(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=wE.bind(null,this.syncEngine),[4,N_(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},RE.prototype.createEventManager=function(e){return new M_},RE.prototype.createDatastore=function(e){var t=Qw(e.databaseInfo.databaseId),n=(n=e.databaseInfo,new Lw(n));return e=e.credentials,new o_(e,n,t)},RE.prototype.createRemoteStore=function(e){var t=this;return new Jw(this.localStore,this.datastore,e.asyncQueue,(function(e){return lE(t.syncEngine,e,0)}),e=new(Rw.yt()?Rw:Aw))},RE.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){return o=new iE(e,t,n,r,i,o),a&&(o.$o=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},RE.prototype.terminate=function(){return function(e){return(0,sc.mG)(this,void 0,void 0,(function(){var t;return(0,sc.Jh)(this,(function(n){switch(n.label){case 0:return t=e,wp("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,d_(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},RE);function RE(){}function DE(e,t){var n=this;return(n=xE.call(this,e,t,!1)||this).Qo=e,n.cacheSizeBytes=t,n.synchronizeTabs=!0,n}function ME(e,t,n){var r=this;return(r=kE.call(this)||this).Qo=e,r.cacheSizeBytes=t,r.forceOwnership=n,r.synchronizeTabs=!1,r}function LE(){this.synchronizeTabs=!1}var FE=(WE.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},WE.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},WE.prototype.Wo=function(){this.muted=!0},WE.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},WE),jE=(HE.prototype.close=function(){return this.Go.cancel()},HE.prototype.getMetadata=function(){return(0,sc.mG)(this,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(e){return[2,this.metadata.promise]}))}))},HE.prototype.Lo=function(){return(0,sc.mG)(this,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},HE.prototype.Ho=function(){return(0,sc.mG)(this,void 0,void 0,(function(){var e,t,n;return(0,sc.Jh)(this,(function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(e=r.sent())?[2,null]:(n=this.zo.decode(e),t=Number(n),isNaN(t)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(t)]);case 2:return n=r.sent(),[2,new K_(JSON.parse(n),e.length+t)]}}))}))},HE.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},HE.prototype.Jo=function(){return(0,sc.mG)(this,void 0,void 0,(function(){var e,t;return(0,sc.Jh)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},HE.prototype.Xo=function(e){return(0,sc.mG)(this,void 0,void 0,(function(){var t;return(0,sc.Jh)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},HE.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},HE.prototype.tc=function(){return(0,sc.mG)(this,void 0,void 0,(function(){var e,t;return(0,sc.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},zE.prototype.lookup=function(e){return(0,sc.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,sc.Jh)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),0<this.mutations.length)throw new vp(mp.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,sc.Jh)(this,(function(s){switch(s.label){case 0:return r=tg((n=e).R)+"/documents",i={documents:t.map((function(e){return Qv(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return i=s.sent(),o=new Map,i.forEach((function(e){var t;t=n.R,e="found"in(e=e)?function(e,t){Ip(!!t.found),t.found.name,t.found.updateTime;var n=Jv(e,t.found.name);e=Zv(t.found.updateTime),t=new bd({mapValue:{fields:t.found.fields}});return _d.newFoundDocument(n,e,t)}(t,e):"missing"in e?function(e,t){return Ip(!!t.missing),Ip(!!t.readTime),e=Jv(e,t.missing),t=Zv(t.readTime),_d.newNoDocument(e,t)}(t,e):Tp();o.set(e.key.toString(),e)})),a=[],[2,(t.forEach((function(e){Ip(!!(e=o.get(e.toString()))),a.push(e)})),a)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},zE.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},zE.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},zE.prototype.delete=function(e){this.write(new sv(e,this.precondition(e))),this.writtenDocs.add(e.toString())},zE.prototype.commit=function(){return(0,sc.mG)(this,void 0,void 0,(function(){var e,t=this;return(0,sc.Jh)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){n=id.fromPath(n),t.mutations.push(new uv(n,t.precondition(n)))})),[4,function(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,sc.Jh)(this,(function(o){switch(o.label){case 0:return r=tg((n=e).R)+"/documents",i={writes:t.map((function(e){return og(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},zE.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Tp();t=Pp.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new vp(mp.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},zE.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Bm.updateTime(t):Bm.none()},zE.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(this.writtenDocs.has(e.toString())||!t)return Bm.exists(!0);if(t.isEqual(Pp.min()))throw new vp(mp.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Bm.updateTime(t)},zE.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},zE.prototype.ensureCommitNotCalled=function(){},zE),UE=(BE.prototype.run=function(){--this.ec,this.nc()},BE.prototype.nc=function(){var e=this;this.Zi.ji((function(){return(0,sc.mG)(e,void 0,void 0,(function(){var e,t,n=this;return(0,sc.Jh)(this,(function(r){return e=new jE(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},BE.prototype.sc=function(e){try{var t=this.updateFunction(e);return!td(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},BE.prototype.ic=function(e){var t=this;0<this.ec&&this.rc(e)?(--this.ec,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},BE.prototype.rc=function(e){return"FirebaseError"===e.name&&("aborted"===(e=e.code)||"failed-precondition"===e||!hv(e))},BE),VE=(qE.prototype.getConfiguration=function(){return(0,sc.mG)(this,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},qE.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},qE.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new vp(mp.FAILED_PRECONDITION,"The client has already been terminated.")},qE.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ug;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,sc.mG)(e,void 0,void 0,(function(){var e;return(0,sc.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:n.sent(),n.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=D_(e=n.sent(),"Failed to shutdown persistence"),t.reject(e),[3,6];case 6:return[2]}}))}))})),t.promise},qE);function qE(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=cw.UNAUTHENTICATED,this.clientId=Sp.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return(0,sc.mG)(r,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(t){switch(t.label){case 0:return wp("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}function BE(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new n_(this.asyncQueue,"transaction_retry")}function zE(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}function HE(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Ug,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}function WE(e){this.observer=e,this.muted=!1}function GE(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){var n,r,i=this;return(0,sc.Jh)(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),wp("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return(0,sc.mG)(i,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,Vb(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function KE(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){var n,r;return(0,sc.Jh)(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,ZE(e)];case 1:return n=i.sent(),wp("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){var n,r;return(0,sc.Jh)(this,(function(i){switch(i.label){case 0:return(n=e).asyncQueue.verifyOperationInProgress(),wp("RemoteStore","RemoteStore received new credentials"),r=__(n),n.Or.add(3),[4,d_(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,p_(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function ZE(e){return(0,sc.mG)(this,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(wp("FirestoreClient","Using default OfflineComponentProvider"),[4,GE(e,new NE)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function YE(e){return(0,sc.mG)(this,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(wp("FirestoreClient","Using default OnlineComponentProvider"),[4,KE(e,new AE)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function $E(e){return ZE(e).then((function(e){return e.persistence}))}function QE(e){return ZE(e).then((function(e){return e.localStore}))}function JE(e){return YE(e).then((function(e){return e.remoteStore}))}function XE(e){return YE(e).then((function(e){return e.syncEngine}))}function eC(e){return(0,sc.mG)(this,void 0,void 0,(function(){var t,n;return(0,sc.Jh)(this,(function(r){switch(r.label){case 0:return[4,YE(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=function(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,sc.Jh)(this,(function(s){switch(s.label){case 0:return n=IE(e),(a=n.Po.get(t))?(r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.Ro(),[3,4]):[3,1];case 1:return[4,Wb(n.localStore,pm(t))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),r=o.targetId,[4,sE(n,t,r,"current"===a)];case 3:i=s.sent(),n.isPrimaryClient&&m_(n.remoteStore,o),s.label=4;case 4:return[2,i]}}))}))}.bind(null,t.syncEngine),n.onUnlisten=function(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,sc.Jh)(this,(function(o){switch(o.label){case 0:return r=(n=e).Po.get(t),1<(i=n.Vo.get(r.targetId)).length?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!mm(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Gb(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),v_(n.remoteStore,r.targetId),mE(n,r.targetId)})).catch(Xy)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return mE(n,r.targetId),[4,Gb(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}.bind(null,t.syncEngine),n)]}}))}))}function tC(e,t,n){var r=this;void 0===n&&(n={});var i=new Ug;return e.asyncQueue.enqueueAndForget((function(){return(0,sc.mG)(r,void 0,void 0,(function(){var r;return(0,sc.Jh)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new FE({next:function(o){t.enqueueAndForget((function(){return H_(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new vp(mp.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new vp(mp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new G_(am(n.path),o,{includeMetadataChanges:!0,so:!0});return z_(e,a)},[4,eC(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function nC(e,t,n){var r=this;void 0===n&&(n={});var i=new Ug;return e.asyncQueue.enqueueAndForget((function(){return(0,sc.mG)(r,void 0,void 0,(function(){var r;return(0,sc.Jh)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new FE({next:function(n){t.enqueueAndForget((function(){return H_(e,a)})),n.fromCache&&"server"===r.source?i.reject(new vp(mp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new G_(n,o,{includeMetadataChanges:!0,so:!0});return z_(e,a)},[4,eC(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function rC(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e}var iC=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},oC=(Object.defineProperty(gC.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),gC.prototype.isEqual=function(e){return e instanceof gC&&e.projectId===this.projectId&&e.database===this.database},gC),aC=new Map,sC=(vC.prototype.getToken=function(){return Promise.resolve(null)},vC.prototype.invalidateToken=function(){},vC.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(cw.UNAUTHENTICATED)}))},vC.prototype.removeChangeListener=function(){this.changeListener=null},vC),uC=(mC.prototype.getToken=function(){return Promise.resolve(this.token)},mC.prototype.invalidateToken=function(){},mC.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},mC.prototype.removeChangeListener=function(){this.changeListener=null},mC),cC=(dC.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(wp("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Ip("string"==typeof n.accessToken),new rC(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},dC.prototype.invalidateToken=function(){this.forceRefresh=!0},dC.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return(0,sc.mG)(n,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},dC.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},dC.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Ip(null===e||"string"==typeof e),new cw(e)},dC),lC=(Object.defineProperty(pC.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),pC),hC=(fC.prototype.getToken=function(){return Promise.resolve(new lC(this.hc,this.lc,this.fc))},fC.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(cw.FIRST_PARTY)}))},fC.prototype.removeChangeListener=function(){},fC.prototype.invalidateToken=function(){},fC);function fC(e,t,n){this.hc=e,this.lc=t,this.fc=n}function pC(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=cw.FIRST_PARTY}function dC(e){var t=this;function n(e){wp("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)}this.currentUser=cw.UNAUTHENTICATED,this.oc=new Ug,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))},e.onInit(n),setTimeout((function(){var r;t.auth||((r=e.getImmediate({optional:!0}))?n(r):(wp("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve()))}),0)}function mC(e){this.token=e,this.changeListener=null}function vC(){this.changeListener=null}function gC(e,t){this.projectId=e,this.database=t||"(default)"}function yC(e,t,n){if(!n)throw new vp(mp.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function bC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new vp(mp.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function wC(e,t,n,r){if(!0===t&&!0===r)throw new vp(mp.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function _C(e){if(!id.isDocumentKey(e))throw new vp(mp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function EC(e){if(id.isDocumentKey(e))throw new vp(mp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function CC(e){return void 0===e?"undefined":null===e?"null":"string"==typeof e?(20<e.length&&(e=e.substring(0,20)+"..."),JSON.stringify(e)):"number"==typeof e||"boolean"==typeof e?""+e:"object"!=typeof e?"function"==typeof e?"a function":Tp():e instanceof Array?"an array":(e=function(e){return e.constructor&&(e=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString()))&&1<e.length?e[1]:null}(e))?"a custom "+e+" object":"an object"}function TC(e,t){if((e="_delegate"in e?e._delegate:e)instanceof t)return e;if(t.name===e.constructor.name)throw new vp(mp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");throw e=CC(e),new vp(mp.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+e)}function IC(e,t){if(t<=0)throw new vp(mp.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var SC,xC=(LC.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},LC),kC=(Object.defineProperty(MC.prototype,"app",{get:function(){if(!this._app)throw new vp(mp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(MC.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(MC.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),MC.prototype._setSettings=function(e){if(this._settingsFrozen)throw new vp(mp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xC(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new sC;switch(e.type){case"gapi":var t=e.client;return Ip(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new hC(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new vp(mp.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},MC.prototype._getSettings=function(){return this._settings},MC.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},MC.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},MC.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},MC.prototype._terminate=function(){return(e=aC.get(this))&&(wp("ComponentProvider","Removing Datastore"),aC.delete(this),e.terminate()),Promise.resolve();var e},MC),NC=(Object.defineProperty(DC.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(DC.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(DC.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(DC.prototype,"parent",{get:function(){return new PC(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),DC.prototype.withConverter=function(e){return new DC(this.firestore,e,this._key)},DC),OC=(RC.prototype.withConverter=function(e){return new RC(this.firestore,e,this._query)},RC),PC=(SC=OC,(0,sc.ZT)(AC,SC),Object.defineProperty(AC.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(AC.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(AC.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new NC(this.firestore,null,new id(e))},enumerable:!1,configurable:!0}),AC.prototype.withConverter=function(e){return new AC(this.firestore,e,this._path)},AC);function AC(e,t,n){var r=this;return(r=SC.call(this,e,t,am(n))||this)._path=n,r.type="collection",r}function RC(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}function DC(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}function MC(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xC({}),this._settingsFrozen=!1,e instanceof oC?(this._databaseId=e,this._credentials=new sC):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new vp(mp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oC(e.options.projectId)}(e),this._credentials=new cC(t))}function LC(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new vp(mp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new vp(mp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,wC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}function FC(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,uc.m9)(e),yC("collection","path",t),e instanceof kC)return EC(n=Up.fromString.apply(Up,(0,sc.ev)([t],r))),new PC(e,null,n);if(!(e instanceof NC||e instanceof PC))throw new vp(mp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return EC(n=Up.fromString.apply(Up,(0,sc.ev)([e.path],r)).child(Up.fromString(t))),new PC(e.firestore,null,n)}function jC(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,uc.m9)(e),yC("doc","path",t=1===arguments.length?Sp.u():t),e instanceof kC)return _C(n=Up.fromString.apply(Up,(0,sc.ev)([t],r))),new NC(e,null,new id(n));if(!(e instanceof NC||e instanceof PC))throw new vp(mp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return _C(n=e._path.child(Up.fromString.apply(Up,(0,sc.ev)([t],r)))),new NC(e.firestore,e instanceof PC?e.converter:null,new id(n))}function UC(e,t){return e=(0,uc.m9)(e),t=(0,uc.m9)(t),(e instanceof NC||e instanceof PC)&&(t instanceof NC||t instanceof PC)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function VC(e,t){return e=(0,uc.m9)(e),t=(0,uc.m9)(t),e instanceof OC&&t instanceof OC&&e.firestore===t.firestore&&mm(e._query,t._query)&&e.converter===t.converter}var qC=(Object.defineProperty(BC.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),BC.prototype.enqueueAndForget=function(e){this.enqueue(e)},BC.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ic(),this.Ac(e)},BC.prototype.enterRestrictedMode=function(){var e;this._c||(this._c=!0,(e=$w())&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Tc))},BC.prototype.enqueue=function(e){return this.Ic(),this._c?new Promise((function(e){})):this.Ac(e)},BC.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.Rc()}))},BC.prototype.Rc=function(){return(0,sc.mG)(this,void 0,void 0,(function(){var e,t=this;return(0,sc.Jh)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Qg(e=n.sent()))throw e;return wp("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:0<this.wc.length&&this.Zi.ji((function(){return t.Rc()})),n.label=5;case 5:return[2]}}))}))},BC.prototype.Ac=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,_p("INTERNAL UNHANDLED ERROR: ",(r=(n=e).message||"",r=n.stack?n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack:r)),e;var n,r})).then((function(e){return t.gc=!1,e}))}));return this.dc=n},BC.prototype.enqueueAfterDelay=function(e,t,n){var r=this;return this.Ic(),-1<this.Ec.indexOf(e)&&(t=0),n=A_.createAndSchedule(this,e,t,n,(function(e){return r.bc(e)})),this.mc.push(n),n},BC.prototype.Ic=function(){this.yc&&Tp()},BC.prototype.verifyOperationInProgress=function(){},BC.prototype.vc=function(){return(0,sc.mG)(this,void 0,void 0,(function(){var e;return(0,sc.Jh)(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},BC.prototype.Pc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},BC.prototype.Vc=function(e){var t=this;return this.vc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.vc()}))},BC.prototype.Sc=function(e){this.Ec.push(e)},BC.prototype.bc=function(e){e=this.mc.indexOf(e),this.mc.splice(e,1)},BC);function BC(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new n_(this,"async_queue_retry"),this.Tc=function(){var t=$w();t&&wp("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=$w();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Tc)}function zC(e){return function(){if("object"==typeof e&&null!==e)for(var t=e,n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return 1}}()}KC.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},KC.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},KC.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},KC.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},KC.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},KC.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)};var HC,WC=(HC=kC,(0,sc.ZT)(GC,HC),GC.prototype._terminate=function(){return this._firestoreClient||YC(this),this._firestoreClient.terminate()},GC);function GC(e,t){var n=this;return(n=HC.call(this,e,t)||this).type="firestore",n._queue=new qC,n._persistenceKey="name"in e?e.name:"[DEFAULT]",n}function KC(){this._progressObserver={},this._taskCompletionResolver=new Ug,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}function ZC(e){return e._firestoreClient||YC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function YC(e){var t,n,r,i=e._freezeSettings();t=e._databaseId,n=(null===(r=e._app)||void 0===r?void 0:r.options.appId)||"",r=e._persistenceKey,i=new iC(t,n,r,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams);e._firestoreClient=new VE(e._credentials,e._queue,i)}function $C(e,t,n){var r=this,i=new Ug;return e.asyncQueue.enqueue((function(){return(0,sc.mG)(r,void 0,void 0,(function(){var r;return(0,sc.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,GE(e,n)];case 1:return o.sent(),[4,KE(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(r=o.sent()).name?r.code===mp.FAILED_PRECONDITION||r.code===mp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function QC(e){if(e._initialized||e._terminated)throw new vp(mp.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var JC=(cT.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},cT),XC=(uT.fromBase64String=function(e){try{return new uT(zp.fromBase64String(e))}catch(e){throw new vp(mp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},uT.fromUint8Array=function(e){return new uT(zp.fromUint8Array(e))},uT.prototype.toBase64=function(){return this._byteString.toBase64()},uT.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},uT.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},uT.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},uT),eT=function(e){this._methodName=e},tT=(Object.defineProperty(sT.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(sT.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),sT.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},sT.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},sT.prototype._compareTo=function(e){return kp(this._lat,e._lat)||kp(this._long,e._long)},sT),nT=/^__.*__$/,rT=(aT.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Qm(e,this.data,this.fieldMask,t,this.fieldTransforms):new $m(e,this.data,t,this.fieldTransforms)},aT),iT=(oT.prototype.toMutation=function(e,t){return new Qm(e,this.data,this.fieldMask,t,this.fieldTransforms)},oT);function oT(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}function aT(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}function sT(e,t){if(!isFinite(e)||e<-90||90<e)throw new vp(mp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||180<t)throw new vp(mp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}function uT(e){this._byteString=e}function cT(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new vp(mp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qp(e)}function lT(e){switch(e){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw Tp()}}var hT=(Object.defineProperty(dT.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(dT.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),dT.prototype.Nc=function(e){return new dT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},dT.prototype.xc=function(e){var t=null===(t=this.path)||void 0===t?void 0:t.child(e);return(t=this.Nc({path:t,Fc:!1})).kc(e),t},dT.prototype.$c=function(e){var t;e=null===(t=this.path)||void 0===t?void 0:t.child(e);return(e=this.Nc({path:e,Fc:!1})).Dc(),e},dT.prototype.Oc=function(e){return this.Nc({path:void 0,Fc:!0})},dT.prototype.Mc=function(e){return zT(e,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},dT.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},dT.prototype.Dc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.kc(this.path.get(e))},dT.prototype.kc=function(e){if(0===e.length)throw this.Mc("Document fields must not be empty");if(lT(this.Cc)&&nT.test(e))throw this.Mc('Document fields cannot begin and end with "__"')},dT),fT=(pT.prototype.qc=function(e,t,n,r){return void 0===r&&(r=!1),new hT({Cc:e,methodName:t,Bc:n,path:qp.emptyPath(),Fc:!1,Lc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},pT);function pT(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||Qw(e)}function dT(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Dc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}function mT(e){var t=e._freezeSettings(),n=Qw(e._databaseId);return new fT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function vT(e,t,n,r,i,o){var a=e.qc((o=void 0===o?{}:o).merge||o.mergeFields?2:0,t,n,i);UT("Data must be an object, but it was:",a,r);var s,u;r=FT(r,a);if(o.merge)s=new Bp(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var c=[],l=0,h=o.mergeFields;l<h.length;l++){var f=VT(t,h[l],n);if(!a.contains(f))throw new vp(mp.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");HT(c,f)||c.push(f)}s=new Bp(c),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new rT(new bd(r),s,u)}var gT,yT=(gT=eT,(0,sc.ZT)(bT,gT),bT.prototype._toFieldTransform=function(e){if(2!==e.Cc)throw 1===e.Cc?e.Mc(this._methodName+"() can only appear at the top level of your update data"):e.Mc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},bT.prototype.isEqual=function(e){return e instanceof bT},bT);function bT(){return null!==gT&&gT.apply(this,arguments)||this}function wT(e,t,n){return new hT({Cc:3,Bc:t.settings.Bc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var _T,ET,CT,TT,IT=(TT=eT,(0,sc.ZT)(AT,TT),AT.prototype._toFieldTransform=function(e){return new qm(e.path,new Sm)},AT.prototype.isEqual=function(e){return e instanceof AT},AT),ST=(CT=eT,(0,sc.ZT)(PT,CT),PT.prototype._toFieldTransform=function(e){var t=wT(this,e,!0),n=this.Uc.map((function(e){return LT(e,t)}));n=new xm(n);return new qm(e.path,n)},PT.prototype.isEqual=function(e){return this===e},PT),xT=(ET=eT,(0,sc.ZT)(OT,ET),OT.prototype._toFieldTransform=function(e){var t=wT(this,e,!0),n=this.Uc.map((function(e){return LT(e,t)}));n=new Am(n);return new qm(e.path,n)},OT.prototype.isEqual=function(e){return this===e},OT),kT=(_T=eT,(0,sc.ZT)(NT,_T),NT.prototype._toFieldTransform=function(e){var t=new Lm(e.R,Em(e.R,this.Kc));return new qm(e.path,t)},NT.prototype.isEqual=function(e){return this===e},NT);function NT(e,t){var n=this;return(n=_T.call(this,e)||this).Kc=t,n}function OT(e,t){var n=this;return(n=ET.call(this,e)||this).Uc=t,n}function PT(e,t){var n=this;return(n=CT.call(this,e)||this).Uc=t,n}function AT(){return null!==TT&&TT.apply(this,arguments)||this}function RT(e,t,n,r){var i=e.qc(1,t,n);UT("Data must be an object, but it was:",i,r);var o=[],a=bd.empty();return Mp(r,(function(e,r){var s=BT(t,e,n);r=(0,uc.m9)(r),e=i.$c(s),r instanceof yT?o.push(s):null!=(e=LT(r,e))&&(o.push(s),a.set(s,e))})),r=new Bp(o),new iT(a,r,i.fieldTransforms)}function DT(e,t,n,r,i,o){var a=e.qc(1,t,n),s=[VT(t,r,n)],u=[i];if(o.length%2!=0)throw new vp(mp.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(VT(t,o[c])),u.push(o[c+1]);for(var l,h,f,p=[],d=bd.empty(),m=s.length-1;0<=m;--m)HT(p,s[m])||(l=s[m],h=u[m],h=(0,uc.m9)(h),f=a.$c(l),h instanceof yT?p.push(l):null!=(f=LT(h,f))&&(p.push(l),d.set(l,f)));return i=new Bp(p),new iT(d,i,a.fieldTransforms)}function MT(e,t,n,r){return LT(n,e.qc((r=void 0!==r&&r)?4:3,t))}function LT(e,t){if(jT(e=(0,uc.m9)(e)))return UT("Unsupported field value:",t,e),FT(e,t);if(e instanceof eT)return function(e,t){if(!lT(t.Cc))throw t.Mc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Mc(e._methodName+"() is not currently supported inside arrays");(e=e._toFieldTransform(t))&&t.fieldTransforms.push(e)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Cc)throw t.Mc("Nested arrays are not supported");return function(t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=LT(o[i],t.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t)}return function(e,t){if(null===(e=(0,uc.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Em(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Op.fromDate(e);return{timestampValue:Gv(t.R,n)}}if(e instanceof Op)return n=new Op(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Gv(t.R,n)};if(e instanceof tT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof XC)return{bytesValue:Kv(t.R,e._byteString)};if(e instanceof NC){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Mc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Yv(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Mc("Unsupported field value: "+CC(e))}(e,t)}function FT(e,t){var n={};return Lp(e)?t.path&&0<t.path.length&&t.fieldMask.push(t.path):Mp(e,(function(e,r){null!=(r=LT(r,t.xc(e)))&&(n[e]=r)})),{mapValue:{fields:n}}}function jT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Op||e instanceof tT||e instanceof XC||e instanceof NC||e instanceof eT)}function UT(e,t,n){if(!jT(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))throw"an object"===(n=CC(n))?t.Mc(e+" a custom object"):t.Mc(e+" "+n);var r}function VT(e,t,n){if((t=(0,uc.m9)(t))instanceof JC)return t._internalPath;if("string"==typeof t)return BT(e,t);throw zT("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var qT=new RegExp("[~\\*/\\[\\]]");function BT(e,t,n){if(0<=t.search(qT))throw zT("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(JC.bind.apply(JC,(0,sc.ev)([void 0],t.split(".")))))._internalPath}catch(r){throw zT("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function zT(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i;t="Function "+t+"() called with invalid data";return n&&(t+=" (via `toFirestore()`)"),n="",(o||a)&&(n+=" (found",o&&(n+=" in field "+r),a&&(n+=" in document "+i),n+=")"),new vp(mp.INVALID_ARGUMENT,(t+=". ")+e+n)}function HT(e,t){return e.some((function(e){return e.isEqual(t)}))}var WT,GT=(Object.defineProperty(YT.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(YT.prototype,"ref",{get:function(){return new NC(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),YT.prototype.exists=function(){return null!==this._document},YT.prototype.data=function(){if(this._document){if(this._converter){var e=new KT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},YT.prototype.get=function(e){if(this._document&&null!==(e=this._document.data.field($T("DocumentSnapshot.get",e))))return this._userDataWriter.convertValue(e)},YT),KT=(WT=GT,(0,sc.ZT)(ZT,WT),ZT.prototype.data=function(){return WT.prototype.data.call(this)},ZT);function ZT(){return null!==WT&&WT.apply(this,arguments)||this}function YT(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}function $T(e,t){return"string"==typeof t?BT(e,t):(t instanceof JC?t:t._delegate)._internalPath}var QT,JT,XT=(aI.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},aI),eI=(JT=GT,(0,sc.ZT)(oI,JT),oI.prototype.exists=function(){return JT.prototype.exists.call(this)},oI.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new tI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},oI.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document&&null!==(e=this._document.data.field($T("DocumentSnapshot.get",e))))return this._userDataWriter.convertValue(e,t.serverTimestamps)},oI),tI=(QT=eI,(0,sc.ZT)(iI,QT),iI.prototype.data=function(e){return QT.prototype.data.call(this,e=void 0===e?{}:e)},iI),nI=(Object.defineProperty(rI.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(rI.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(rI.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),rI.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new tI(n._firestore,n._userDataWriter,r.key,r,new XT(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},rI.prototype.docChanges=function(e){if((e=!!(e=void 0===e?{}:e).includeMetadataChanges)&&this._snapshot.excludesMetadataChanges)throw new vp(mp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new tI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new XT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new tI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new XT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tp()}}(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},rI);function rI(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new XT(r.hasPendingWrites,r.fromCache),this.query=n}function iI(){return null!==QT&&QT.apply(this,arguments)||this}function oI(e,t,n,r,i,o){var a=this;return(a=JT.call(this,e,t,n,r,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=i,a}function aI(e,t){this.hasPendingWrites=e,this.fromCache=t}function sI(e,t){return e instanceof eI&&t instanceof eI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof nI&&t instanceof nI&&e._firestore===t._firestore&&VC(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function uI(e){if(um(e)&&0===e.explicitOrderBy.length)throw new vp(mp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function cI(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)e=i[r]._apply(e);return e}var lI,hI,fI,pI,dI,mI=(dI=Me=function(){},(0,sc.ZT)(TI,dI),TI.prototype._apply=function(e){var t=mT(e.firestore);t=function(e,t,n,r,i,o){if(r.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new vp(mp.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+i+"' queries on FieldPath.documentId().");if("in"===i||"not-in"===i){xI(o,i);for(var a=[],s=0,u=o;s<u.length;s++){var c=u[s];a.push(SI(n,e,c))}l={arrayValue:{values:a}}}else l=SI(n,e,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||xI(o,i),l=MT(t,"where",o,"in"===i||"not-in"===i);var l=Nd.create(r,i,l);return function(e,t){if(t.g()){var n=lm(e);if(null!==n&&!n.isEqual(t.field))throw new vp(mp.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");null!==(n=cm(e))&&kI(0,t.field,n)}if(null!==(e=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(0<=t.indexOf(i.op))return i.op}return null}(e,function(){switch(t.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}())))throw e===t.op?new vp(mp.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new vp(mp.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+e.toString()+"' filters.")}(e,l),l}(e._query,t,e.firestore._databaseId,this.Qc,this.jc,this.Wc);return new OC(e.firestore,e.converter,(t=(e=e._query).filters.concat([t]),new im(e.path,e.collectionGroup,e.explicitOrderBy.slice(),t,e.limit,e.limitType,e.startAt,e.endAt)))},TI),vI=(pI=Me,(0,sc.ZT)(CI,pI),CI.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new vp(mp.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new vp(mp.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new tm(t,n);return t=r,null!==cm(n=e)||null!==(e=lm(n))&&kI(0,e,t.field),r}(e._query,this.Qc,this.Gc);return new OC(e.firestore,e.converter,(t=(e=e._query).explicitOrderBy.concat([t]),new im(e.path,e.collectionGroup,t,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)))},CI),gI=(fI=Me,(0,sc.ZT)(EI,fI),EI.prototype._apply=function(e){return new OC(e.firestore,e.converter,dm(e._query,this.zc,this.Hc))},EI),yI=(hI=Me,(0,sc.ZT)(_I,hI),_I.prototype._apply=function(e){var t=II(e,this.type,this.Jc,this.Yc);return new OC(e.firestore,e.converter,(e=e._query,t=t,new im(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)))},_I),bI=(lI=Me,(0,sc.ZT)(wI,lI),wI.prototype._apply=function(e){var t=II(e,this.type,this.Jc,this.Yc);return new OC(e.firestore,e.converter,(e=e._query,t=t,new im(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)))},wI);function wI(e,t,n){var r=this;return(r=lI.call(this)||this).type=e,r.Jc=t,r.Yc=n,r}function _I(e,t,n){var r=this;return(r=hI.call(this)||this).type=e,r.Jc=t,r.Yc=n,r}function EI(e,t,n){var r=this;return(r=fI.call(this)||this).type=e,r.zc=t,r.Hc=n,r}function CI(e,t){var n=this;return(n=pI.call(this)||this).Qc=e,n.Gc=t,n.type="orderBy",n}function TI(e,t,n){var r=this;return(r=dI.call(this)||this).Qc=e,r.jc=t,r.Wc=n,r.type="where",r}function II(e,t,n,r){if(n[0]=(0,uc.m9)(n[0]),n[0]instanceof GT)return function(e,n,r,i){if(!r)throw new vp(mp.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");for(var o=[],a=0,s=fm(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(fd(n,r.key));else{var c=r.data.field(u.field);if(Xp(c))throw new vp(mp.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c)throw u=u.field.canonicalString(),new vp(mp.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.");o.push(c)}}return new Yd(o,i)}(e._query,e.firestore._databaseId,n[0]._document,r);var i=mT(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new vp(mp.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new vp(mp.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!hm(e)&&-1!==c.indexOf("/"))throw new vp(mp.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Up.fromString(c));if(!id.isDocumentKey(l))throw new vp(mp.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");l=new id(l),s.push(fd(t,l))}else c=MT(n,r,c),s.push(c)}return new Yd(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function SI(e,t,n){if("string"==typeof(n=(0,uc.m9)(n))){if(""===n)throw new vp(mp.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!hm(t)&&-1!==n.indexOf("/"))throw new vp(mp.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");if(t=t.path.child(Up.fromString(n)),!id.isDocumentKey(t))throw new vp(mp.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+t+"' is not because it has an odd number of segments ("+t.length+").");return fd(e,new id(t))}if(n instanceof NC)return fd(e,n._key);throw new vp(mp.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+CC(n)+".")}function xI(e,t){if(!Array.isArray(e)||0===e.length)throw new vp(mp.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(10<e.length)throw new vp(mp.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function kI(e,t,n){if(!n.isEqual(t))throw new vp(mp.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function NI(){}function OI(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}NI.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),ad(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qp(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Jp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Tp()}},NI.prototype.convertObject=function(e,t){var n=this,r={};return Mp(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},NI.prototype.convertGeoPoint=function(e){return new tT(Qp(e.latitude),Qp(e.longitude))},NI.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},NI.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=function e(t){return Xp(t=t.mapValue.fields.__previous_value__)?e(t):t}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ed(e));default:return null}},NI.prototype.convertTimestamp=function(e){return e=$p(e),new Op(e.seconds,e.nanos)},NI.prototype.convertDocumentKey=function(e,t){var n=Up.fromString(e);return Ip(vg(n)),e=new oC(n.get(1),n.get(3)),n=new id(n.popFirst(5)),e.isEqual(t)||_p("Document "+n+" contains a document reference within a different database ("+e.projectId+"/"+e.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),n};var PI,AI=(PI=ut=NI,(0,sc.ZT)(MI,PI),MI.prototype.convertBytes=function(e){return new XC(e)},MI.prototype.convertReference=function(e){return e=this.convertDocumentKey(e,this.firestore._databaseId),new NC(this.firestore,null,e)},MI),RI=(DI.prototype.set=function(e,t,n){return this._verifyNotCommitted(),t=OI((e=LI(e,this._firestore)).converter,t,n),n=vT(this._dataReader,"WriteBatch.set",e._key,t,null!==e.converter,n),this._mutations.push(n.toMutation(e._key,Bm.none())),this},DI.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return this._verifyNotCommitted(),e=LI(e,this._firestore),t="string"==typeof(t=(0,uc.m9)(t))||t instanceof JC?DT(this._dataReader,"WriteBatch.update",e._key,t,n,r):RT(this._dataReader,"WriteBatch.update",e._key,t),this._mutations.push(t.toMutation(e._key,Bm.exists(!0))),this},DI.prototype.delete=function(e){return this._verifyNotCommitted(),e=LI(e,this._firestore),this._mutations=this._mutations.concat(new sv(e._key,Bm.none())),this},DI.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,0<this._mutations.length?this._commitHandler(this._mutations):Promise.resolve()},DI.prototype._verifyNotCommitted=function(){if(this._committed)throw new vp(mp.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},DI);function DI(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=mT(e)}function MI(e){var t=this;return(t=PI.call(this)||this).firestore=e,t}function LI(e,t){if((e=(0,uc.m9)(e)).firestore!==t)throw new vp(mp.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var FI,jI=(FI=ut,(0,sc.ZT)(UI,FI),UI.prototype.convertBytes=function(e){return new XC(e)},UI.prototype.convertReference=function(e){return e=this.convertDocumentKey(e,this.firestore._databaseId),new NC(this.firestore,null,e)},UI);function UI(e){var t=this;return(t=FI.call(this)||this).firestore=e,t}function VI(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=TC(e,NC);var o=TC(e.firestore,WC),a=mT(o);return BI(o,[("string"==typeof(t=(0,uc.m9)(t))||t instanceof JC?DT(a,"updateDoc",e._key,t,n,r):RT(a,"updateDoc",e._key,t)).toMutation(e._key,Bm.exists(!0))])}function qI(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e=(0,uc.m9)(e);var r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||zC(t[i])||(r=t[i],i++);var o,a,s,u,c,l,h={includeMetadataChanges:r.includeMetadataChanges};return zC(t[i])&&(o=t[i],t[i]=null===(r=o.next)||void 0===r?void 0:r.bind(o),t[i+1]=null===(r=o.error)||void 0===r?void 0:r.bind(o),t[i+2]=null===(r=o.complete)||void 0===r?void 0:r.bind(o)),e instanceof NC?(s=TC(e.firestore,WC),u=am(e._key.path),l={next:function(n){t[i]&&t[i](zI(s,e,n))},error:t[i+1],complete:t[i+2]}):(a=TC(e,OC),s=TC(a.firestore,WC),u=a._query,c=new jI(s),l={next:function(e){t[i]&&t[i](new nI(s,c,a,e))},error:t[i+1],complete:t[i+2]},uI(e._query)),function(e,t,n){var r=this,i=new FE(l),o=new G_(t,i,n);return e.asyncQueue.enqueueAndForget((function(){return(0,sc.mG)(r,void 0,void 0,(function(){var t;return(0,sc.Jh)(this,(function(n){switch(n.label){case 0:return t=z_,[4,eC(e)];case 1:return[2,t.apply(void 0,[n.sent(),o])]}}))}))})),function(){i.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,sc.mG)(r,void 0,void 0,(function(){var t;return(0,sc.Jh)(this,(function(n){switch(n.label){case 0:return t=H_,[4,eC(e)];case 1:return[2,t.apply(void 0,[n.sent(),o])]}}))}))}))}}(ZC(s),u,h)}function BI(e,t){return function(e,t){var n=this,r=new Ug;return e.asyncQueue.enqueueAndForget((function(){return(0,sc.mG)(n,void 0,void 0,(function(){var n;return(0,sc.Jh)(this,(function(i){switch(i.label){case 0:return n=uE,[4,XE(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(ZC(e),t)}function zI(e,t,n){var r=n.docs.get(t._key),i=new jI(e);return new eI(e,i,t._key,r,new XT(n.hasPendingWrites,n.fromCache),t.converter)}var HI,WI=(KI.prototype.get=function(e){var t=this,n=LI(e,this._firestore),r=new AI(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Tp();if((e=e[0]).isFoundDocument())return new GT(t._firestore,r,e.key,e,n.converter);if(e.isNoDocument())return new GT(t._firestore,r,n._key,null,n.converter);throw Tp()}))},KI.prototype.set=function(e,t,n){return t=OI((e=LI(e,this._firestore)).converter,t,n),n=vT(this._dataReader,"Transaction.set",e._key,t,null!==e.converter,n),this._transaction.set(e._key,n),this},KI.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return e=LI(e,this._firestore),t="string"==typeof(t=(0,uc.m9)(t))||t instanceof JC?DT(this._dataReader,"Transaction.update",e._key,t,n,r):RT(this._dataReader,"Transaction.update",e._key,t),this._transaction.update(e._key,t),this},KI.prototype.delete=function(e){return e=LI(e,this._firestore),this._transaction.delete(e._key),this},HI=KI,(0,sc.ZT)(GI,HI),GI.prototype.get=function(e){var t=this,n=LI(e,this._firestore),r=new jI(this._firestore);return HI.prototype.get.call(this,e).then((function(e){return new eI(t._firestore,r,n._key,e._document,new XT(!1,!1),n.converter)}))},GI);function GI(e,t){var n=this;return(n=HI.call(this,e,t)||this)._firestore=e,n}function KI(e,t){this._firestore=e,this._transaction=t,this._dataReader=mT(e)}function ZI(){if("undefined"==typeof Uint8Array)throw new vp(mp.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function YI(){if("undefined"==typeof atob)throw new vp(mp.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var $I,QI=(iS.fromBase64String=function(e){return YI(),new iS(XC.fromBase64String(e))},iS.fromUint8Array=function(e){return ZI(),new iS(XC.fromUint8Array(e))},iS.prototype.toBase64=function(){return YI(),this._delegate.toBase64()},iS.prototype.toUint8Array=function(){return ZI(),this._delegate.toUint8Array()},iS.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},iS.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},iS),JI=(rS.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){QC(e=TC(e,WC));var n=ZC(e),r=e._freezeSettings();return $C(n,e=new AE,new OE(e,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},rS.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){QC(e=TC(e,WC));var t=ZC(e),n=e._freezeSettings();return $C(t,e=new AE,new PE(e,n.cacheSizeBytes))}(e._delegate)},rS.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new vp(mp.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Ug;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,sc.mG)(t,void 0,void 0,(function(){var t;return(0,sc.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return(0,sc.mG)(this,void 0,void 0,(function(){var t;return(0,sc.Jh)(this,(function(n){switch(n.label){case 0:return Bg.yt()?(t=e+"main",[4,Bg.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Nb(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},rS),XI=(Object.defineProperty(nS.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),nS.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Ep("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},nS.prototype.useEmulator=function(e,t,n){!function(e,t,n,r){void 0===r&&(r={});var i=(e=TC(e,kC))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&Ep("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:t+":"+n,ssl:!1})),r.mockUserToken){if(n=(0,uc.Sg)(r.mockUserToken),!(r=r.mockUserToken.sub||r.mockUserToken.user_id))throw new vp(mp.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e._credentials=new uC(new rC(n,new cw(r)))}}(this._delegate,e,t,n=void 0===n?{}:n)},nS.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,sc.mG)(t,void 0,void 0,(function(){var t,n;return(0,sc.Jh)(this,(function(r){switch(r.label){case 0:return[4,$E(e)];case 1:return t=r.sent(),[4,JE(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),(i=n).Or.delete(0),p_(i))]}var i}))}))}))}(ZC(TC(this._delegate,WC)))},nS.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,sc.mG)(t,void 0,void 0,(function(){var t,n;return(0,sc.Jh)(this,(function(r){switch(r.label){case 0:return[4,$E(e)];case 1:return t=r.sent(),[4,JE(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return(0,sc.mG)(this,void 0,void 0,(function(){var t;return(0,sc.Jh)(this,(function(n){switch(n.label){case 0:return(t=e).Or.add(0),[4,d_(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(ZC(TC(this._delegate,WC)))},nS.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&wC("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,n)},nS.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},nS.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},nS.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Ug;return e.asyncQueue.enqueueAndForget((function(){return(0,sc.mG)(t,void 0,void 0,(function(){var t;return(0,sc.Jh)(this,(function(r){switch(r.label){case 0:return t=fE,[4,XE(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(ZC(TC(this._delegate,WC)))},nS.prototype.onSnapshotsInSync=function(e){return e=e,function(e,t){var n=this,r=new FE(t);return e.asyncQueue.enqueueAndForget((function(){return(0,sc.mG)(n,void 0,void 0,(function(){var t;return(0,sc.Jh)(this,(function(n){switch(n.label){case 0:return t=function(e,t){e.Gr.add(t),t.next()},[4,eC(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,sc.mG)(n,void 0,void 0,(function(){var t;return(0,sc.Jh)(this,(function(n){switch(n.label){case 0:return t=function(e,t){e.Gr.delete(t)},[4,eC(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(ZC(TC(this._delegate,WC)),zC(e)?e:{next:e})},Object.defineProperty(nS.prototype,"app",{get:function(){if(!this.Zc)throw new vp(mp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),nS.prototype.collection=function(e){try{return new CS(this,FC(this._delegate,e))}catch(e){throw pS(e,"collection()","Firestore.collection()")}},nS.prototype.doc=function(e){try{return new hS(this,jC(this._delegate,e))}catch(e){throw pS(e,"doc()","Firestore.doc()")}},nS.prototype.collectionGroup=function(e){try{return new wS(this,function(e,t){if(e=TC(e,kC),yC("collectionGroup","collection id",t),0<=t.indexOf("/"))throw new vp(mp.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new OC(e,null,(t=t,new im(Up.emptyPath(),t)))}(this._delegate,e))}catch(e){throw pS(e,"collectionGroup()","Firestore.collectionGroup()")}},nS.prototype.runTransaction=function(e){var t,n=this;return function(e,t){var n=this,r=new Ug;return e.asyncQueue.enqueueAndForget((function(){return(0,sc.mG)(n,void 0,void 0,(function(){var n;return(0,sc.Jh)(this,(function(i){switch(i.label){case 0:return[4,YE(e).then((function(e){return e.datastore}))];case 1:return n=i.sent(),new UE(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(ZC(t=this._delegate),(function(r){return r=new WI(t,r),e(new oS(n,r))}))},nS.prototype.batch=function(){var e=this;return ZC(this._delegate),new aS(new RI(this._delegate,(function(t){return BI(e._delegate,t)})))},nS.prototype.loadBundle=function(e){throw new vp(mp.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},nS.prototype.namedQuery=function(e){throw new vp(mp.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},nS),eS=($I=ut,(0,sc.ZT)(tS,$I),tS.prototype.convertBytes=function(e){return new QI(new XC(e))},tS.prototype.convertReference=function(e){return e=this.convertDocumentKey(e,this.firestore._databaseId),hS.tu(e,this.firestore,null)},tS);function tS(e){var t=this;return(t=$I.call(this)||this).firestore=e,t}function nS(e,t,n){var r=this;this._delegate=t,this.Xc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof oC||(this.Zc=e)}function rS(){}function iS(e){this._delegate=e}var oS=(lS.prototype.get=function(e){var t=this,n=OS(e);return this._delegate.get(n).then((function(e){return new yS(t._firestore,new eI(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},lS.prototype.set=function(e,t,n){return e=OS(e),n?(bC("Transaction.set",n),this._delegate.set(e,t,n)):this._delegate.set(e,t),this},lS.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=OS(e);return 2===arguments.length?this._delegate.update(o,t):(e=this._delegate).update.apply(e,(0,sc.ev)([o,t,n],r)),this},lS.prototype.delete=function(e){return e=OS(e),this._delegate.delete(e),this},lS),aS=(cS.prototype.set=function(e,t,n){return e=OS(e),n?(bC("WriteBatch.set",n),this._delegate.set(e,t,n)):this._delegate.set(e,t),this},cS.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=OS(e);return 2===arguments.length?this._delegate.update(o,t):(e=this._delegate).update.apply(e,(0,sc.ev)([o,t,n],r)),this},cS.prototype.delete=function(e){return e=OS(e),this._delegate.delete(e),this},cS.prototype.commit=function(){return this._delegate.commit()},cS),sS=(uS.prototype.fromFirestore=function(e,t){return e=new tI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null),this._delegate.fromFirestore(new bS(this._firestore,e),null!=t?t:{})},uS.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},uS.eu=function(e,t){var n=uS.nu,r=n.get(e);return r||(r=new WeakMap,n.set(e,r)),(n=r.get(t))||(n=new uS(e,new eS(e),t),r.set(t,n)),n},uS);function uS(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}function cS(e){this._delegate=e}function lS(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new eS(e)}sS.nu=new WeakMap;var hS=(fS.su=function(e,t,n){if(e.length%2!=0)throw new vp(mp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new fS(t,new NC(t._delegate,n,new id(e)))},fS.tu=function(e,t,n){return new fS(t,new NC(t._delegate,n,e))},Object.defineProperty(fS.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(fS.prototype,"parent",{get:function(){return new CS(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(fS.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),fS.prototype.collection=function(e){try{return new CS(this.firestore,FC(this._delegate,e))}catch(e){throw pS(e,"collection()","DocumentReference.collection()")}},fS.prototype.isEqual=function(e){return(e=(0,uc.m9)(e))instanceof NC&&UC(this._delegate,e)},fS.prototype.set=function(e,t){t=bC("DocumentReference.set",t);try{return function(e,t,n){e=TC(e,NC);var r=TC(e.firestore,WC);t=OI(e.converter,t,n);return BI(r,[vT(mT(r),"setDoc",e._key,t,null!==e.converter,n).toMutation(e._key,Bm.none())])}(this._delegate,e,t)}catch(e){throw pS(e,"setDoc()","DocumentReference.set()")}},fS.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?VI(this._delegate,e):VI.apply(void 0,(0,sc.ev)([this._delegate,e,t],n))}catch(e){throw pS(e,"updateDoc()","DocumentReference.update()")}},fS.prototype.delete=function(){return BI(TC((e=this._delegate).firestore,WC),[new sv(e._key,Bm.none())]);var e},fS.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=dS(t),i=mS(t,(function(t){return new yS(e.firestore,new eI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return qI(this._delegate,r,i)},fS.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=TC(e,NC);var t=TC(e.firestore,WC),n=ZC(t),r=new jI(t);return function(e,t){var n=this,r=new Ug;return e.asyncQueue.enqueueAndForget((function(){return(0,sc.mG)(n,void 0,void 0,(function(){var n;return(0,sc.Jh)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,sc.mG)(this,void 0,void 0,(function(){var r,i;return(0,sc.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(a=t,(s=e).persistence.runTransaction("read document","readonly",(function(e){return s.Mn.mn(e,a)})))];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new vp(mp.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=D_(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}var a,s}))}))},[4,QE(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new eI(t,r,e._key,n,new XT(null!==n&&n.hasLocalMutations,!0),e.converter)}))}:"server"===(null==e?void 0:e.source)?function(e){e=TC(e,NC);var t=TC(e.firestore,WC);return tC(ZC(t),e._key,{source:"server"}).then((function(n){return zI(t,e,n)}))}:function(e){e=TC(e,NC);var t=TC(e.firestore,WC);return tC(ZC(t),e._key).then((function(n){return zI(t,e,n)}))})(this._delegate).then((function(e){return new yS(t.firestore,new eI(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},fS.prototype.withConverter=function(e){return new fS(this.firestore,e?this._delegate.withConverter(sS.eu(this.firestore,e)):this._delegate.withConverter(null))},fS);function fS(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eS(e)}function pS(e,t,n){return e.message=e.message.replace(t,n),e}function dS(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!zC(r))return r}return{}}function mS(e,t){var n;return{next:function(e){n.next&&n.next(t(e))},error:null===(e=(n=zC(e[0])?e[0]:zC(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===e?void 0:e.bind(n),complete:null===(e=n.complete)||void 0===e?void 0:e.bind(n)}}var vS,gS,yS=(Object.defineProperty(NS.prototype,"ref",{get:function(){return new hS(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(NS.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(NS.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(NS.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),NS.prototype.data=function(e){return this._delegate.data(e)},NS.prototype.get=function(e,t){return this._delegate.get(e,t)},NS.prototype.isEqual=function(e){return sI(this._delegate,e._delegate)},NS),bS=(gS=yS,(0,sc.ZT)(kS,gS),kS.prototype.data=function(e){return this._delegate.data(e)},kS),wS=(xS.prototype.where=function(e,t,n){try{return new xS(this.firestore,cI(this._delegate,(r=n,i=t,o=$T("where",e),new mI(o,i,r))))}catch(e){throw pS(e,/(orderBy|where)\(\)/,"Query.$1()")}var r,i,o},xS.prototype.orderBy=function(e,t){try{return new xS(this.firestore,cI(this._delegate,(n=void 0===t?"asc":t,r=$T("orderBy",e),new vI(r,n))))}catch(e){throw pS(e,/(orderBy|where)\(\)/,"Query.$1()")}var n,r},xS.prototype.limit=function(e){try{return new xS(this.firestore,cI(this._delegate,(IC("limit",t=e),new gI("limit",t,"F"))))}catch(e){throw pS(e,"limit()","Query.limit()")}var t},xS.prototype.limitToLast=function(e){try{return new xS(this.firestore,cI(this._delegate,(IC("limitToLast",t=e),new gI("limitToLast",t,"L"))))}catch(e){throw pS(e,"limitToLast()","Query.limitToLast()")}var t},xS.prototype.startAt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new xS(this.firestore,cI(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new yI("startAt",e,!0)}.apply(void 0,e)))}catch(e){throw pS(e,"startAt()","Query.startAt()")}},xS.prototype.startAfter=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new xS(this.firestore,cI(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new yI("startAfter",e,!1)}.apply(void 0,e)))}catch(e){throw pS(e,"startAfter()","Query.startAfter()")}},xS.prototype.endBefore=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new xS(this.firestore,cI(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new bI("endBefore",e,!0)}.apply(void 0,e)))}catch(e){throw pS(e,"endBefore()","Query.endBefore()")}},xS.prototype.endAt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new xS(this.firestore,cI(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new bI("endAt",e,!1)}.apply(void 0,e)))}catch(e){throw pS(e,"endAt()","Query.endAt()")}},xS.prototype.isEqual=function(e){return VC(this._delegate,e._delegate)},xS.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=TC(e,OC);var t=TC(e.firestore,WC),n=ZC(t),r=new jI(t);return function(e,t){var n=this,r=new Ug;return e.asyncQueue.enqueueAndForget((function(){return(0,sc.mG)(n,void 0,void 0,(function(){var n;return(0,sc.Jh)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,sc.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,sc.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Kb(e,t,!0)];case 1:return o=a.sent(),r=new tE(t,o.Bn),i=r._o(o.documents),i=r.applyChanges(i,!1),n.resolve(i.snapshot),[3,3];case 2:return i=a.sent(),o=D_(i,"Failed to execute query '"+t+" against cache"),n.reject(o),[3,3];case 3:return[2]}}))}))},[4,QE(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new nI(t,r,e,n)}))}:"server"===(null==e?void 0:e.source)?function(e){e=TC(e,OC);var t=TC(e.firestore,WC),n=ZC(t),r=new jI(t);return nC(n,e._query,{source:"server"}).then((function(n){return new nI(t,r,e,n)}))}:function(e){e=TC(e,OC);var t=TC(e.firestore,WC),n=ZC(t),r=new jI(t);return uI(e._query),nC(n,e._query).then((function(n){return new nI(t,r,e,n)}))})(this._delegate).then((function(e){return new ES(t.firestore,new nI(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},xS.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=dS(t),i=mS(t,(function(t){return new ES(e.firestore,new nI(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return qI(this._delegate,r,i)},xS.prototype.withConverter=function(e){return new xS(this.firestore,e?this._delegate.withConverter(sS.eu(this.firestore,e)):this._delegate.withConverter(null))},xS),_S=(Object.defineProperty(SS.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(SS.prototype,"doc",{get:function(){return new bS(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(SS.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(SS.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),SS),ES=(Object.defineProperty(IS.prototype,"query",{get:function(){return new wS(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(IS.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(IS.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(IS.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(IS.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new bS(e._firestore,t)}))},enumerable:!1,configurable:!0}),IS.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new _S(t._firestore,e)}))},IS.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new bS(n._firestore,r))}))},IS.prototype.isEqual=function(e){return sI(this._delegate,e._delegate)},IS),CS=(vS=wS,(0,sc.ZT)(TS,vS),Object.defineProperty(TS.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(TS.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(TS.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new hS(this.firestore,e):null},enumerable:!1,configurable:!0}),TS.prototype.doc=function(e){try{return new hS(this.firestore,void 0===e?jC(this._delegate):jC(this._delegate,e))}catch(e){throw pS(e,"doc()","CollectionReference.doc()")}},TS.prototype.add=function(e){var t,n,r,i=this;return n=e,e=TC((t=this._delegate).firestore,WC),r=jC(t),n=OI(t.converter,n),BI(e,[vT(mT(t.firestore),"addDoc",r._key,n,null!==t.converter,{}).toMutation(r._key,Bm.exists(!1))]).then((function(){return r})).then((function(e){return new hS(i.firestore,e)}))},TS.prototype.isEqual=function(e){return UC(this._delegate,e._delegate)},TS.prototype.withConverter=function(e){return new TS(this.firestore,e?this._delegate.withConverter(sS.eu(this.firestore,e)):this._delegate.withConverter(null))},TS);function TS(e,t){var n=this;return(n=vS.call(this,e,t)||this).firestore=e,n._delegate=t,n}function IS(e,t){this._firestore=e,this._delegate=t}function SS(e,t){this._firestore=e,this._delegate=t}function xS(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eS(e)}function kS(){return null!==gS&&gS.apply(this,arguments)||this}function NS(e,t){this._firestore=e,this._delegate=t}function OS(e){return TC(e,NC)}function PS(e){this._delegate=e}function AS(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(JC.bind.apply(JC,(0,sc.ev)([void 0],e)))}AS.documentId=function(){return new AS(qp.keyField().canonicalString())},AS.prototype.isEqual=function(e){return(e=(0,uc.m9)(e))instanceof JC&&this._delegate._internalPath.isEqual(e._internalPath)},cn=AS,PS.serverTimestamp=function(){var e=new IT("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new PS(e)},PS.delete=function(){var e=new yT("deleteField");return e._methodName="FieldValue.delete",new PS(e)},PS.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ST("arrayUnion",e)}.apply(void 0,e);return n._methodName="FieldValue.arrayUnion",new PS(n)},PS.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new xT("arrayRemove",e)}.apply(void 0,e);return n._methodName="FieldValue.arrayRemove",new PS(n)},PS.increment=function(e){return(e=new kT("increment",e))._methodName="FieldValue.increment",new PS(e)},PS.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},s=PS;var RS,DS=n(909),MS={Firestore:XI,GeoPoint:tT,Timestamp:Op,Blob:QI,Transaction:oS,WriteBatch:aS,DocumentReference:hS,DocumentSnapshot:yS,Query:wS,QueryDocumentSnapshot:bS,QuerySnapshot:ES,CollectionReference:CS,FieldPath:cn,FieldValue:s,setLogLevel:function(e){gp.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(RS=ac.Z).INTERNAL.registerComponent(new DS.wA("firestore",(function(e){var t=e.getProvider("app").getImmediate();return t=t,e=e.getProvider("auth-internal"),new XI(t,new WC(t,e),new JI)}),"PUBLIC").setServiceProps(Object.assign({},MS))),RS.registerVersion("@firebase/firestore","2.3.8"),function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t,n,r="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return r?r.call(e):{next:(t=e,n=0,function(){return n<t.length?{done:!1,value:t[n++]}:{done:!0}})}}!function(e,n){if(n){var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[e=e[e.length-1]]))!=o&&null!=n&&t(i,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.a=null}function o(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){var t;null==this.a&&(this.a=[],(t=this).c((function(){t.g()}))),this.a.push(e)};var a=r.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.f(e)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(e){return void this.g(e)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(t){o(t)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=o,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=i(e),a=r.next();!a.done;a=r.next())o(a.value).Ra(t,n)}))},t.all=function(e){var n=i(e),r=n.next();return r.done?o([]):new t((function(e,t){for(var i=[],a=0;i.push(void 0),a++,o(r.value).Ra(function(t){return function(n){i[t]=n,0==--a&&e(i)}}(i.length-1),t),!(r=n.next()).done;);}))},t}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&s.test(e)?e:""}function l(){}function h(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function f(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==h(e)}function d(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function m(e){return Object.prototype.hasOwnProperty.call(e,v)&&e[v]||(e[v]=++g)}var v="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(e,t,n){return e.call.apply(e.bind,arguments)}function b(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function w(e,t,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:b).apply(null,arguments)}function _(e){var t=Array.prototype.slice.call(arguments,1);return function(){var n=t.slice();return n.push.apply(n,arguments),e.apply(this,n)}}var E=Date.now;function C(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function T(e){return e}function I(e,t,n){this.code=k+e,this.message=t||N[e]||"",this.a=n||null}function S(e){var t=e&&e.code;return t?new I(t.substring(k.length),e.message,e.serverResponse):null}C(I,Error),I.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},I.prototype.toJSON=function(){return this.w()};var x,k="auth/",N={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(e){for(var t in O)if(O[t].id===e)return{firebaseEndpoint:(e=O[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function A(e){if(e)try{return e.$goog_Thenable}catch(e){return}}function R(e){var t;Error.captureStackTrace?Error.captureStackTrace(this,R):(t=Error().stack)&&(this.stack=t),e&&(this.message=String(e))}function D(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");R.call(this,n+e[r])}function M(e){throw new D("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function L(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function F(e,t){e.f(t),e.b<100&&(e.b++,t.next=e.a,e.a=t)}function j(){this.b=this.a=null}x=P("__EID__")?"__EID__":void 0,C(R,Error),R.prototype.name="CustomError",C(D,R),D.prototype.name="AssertionError",L.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e};var U=new L((function(){return new V}),(function(e){e.reset()}));function V(){this.next=this.b=this.a=null}j.prototype.add=function(e,t){var n=U.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},V.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var q=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},B=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},z=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n,r=e.length,i=[],o=0,a="string"==typeof e?e.split(""):e,s=0;s<r;s++)s in a&&(n=a[s],t.call(void 0,n,s,e)&&(i[o++]=n));return i},H=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},W=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function G(e,t){return 0<=q(e,t)}function K(e,t){var n;return(n=0<=(t=q(e,t)))&&Array.prototype.splice.call(e,t,1),n}function Z(e,t){!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&Array.prototype.splice.call(e,r,1).length}))}function Y(){return Array.prototype.concat.apply([],arguments)}function $(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var Q,J=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},X=/&/g,ee=/</g,te=/>/g,ne=/"/g,re=/'/g,ie=/\x00/g,oe=/[\x00&<>"']/;function ae(e,t){return-1!=e.indexOf(t)}function se(e,t){return e<t?-1:t<e?1:0}var ue=a.navigator;function ce(e){return ae(Q,e)}function le(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function he(e){for(var t in e)return;return 1}function fe(e){var t,n={};for(t in e)n[t]=e[t];return n}Q=ue&&(ue=ue.userAgent)?ue:"";var pe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(e){for(var t,n,r=1;r<arguments.length;r++){for(t in n=arguments[r])e[t]=n[t];for(var i=0;i<pe.length;i++)t=pe[i],Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}}function me(e,t){e:{try{var n,r=e&&e.ownerDocument;if((n=(n=r&&(r.defaultView||r.parentWindow))||a).Element&&n.Location){var i=n;break e}}catch(e){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(d(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function ve(e,t){this.a=e===we&&t||"",this.b=be}function ge(e){return e instanceof ve&&e.constructor===ve&&e.b===be?e.a:(M("expected object of type Const, got '"+e+"'"),"type_error:Const")}ve.prototype.ta=!0,ve.prototype.sa=function(){return this.a},ve.prototype.toString=function(){return"Const{"+this.a+"}"};var ye,be={},we={};function _e(){if(void 0===ye){var e=null,t=a.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:T,createScript:T,createScriptURL:T})}catch(e){a.console&&a.console.error(e.message)}ye=e}else ye=e}return ye}function Ee(e,t){this.a=t===xe?e:""}function Ce(e){return e instanceof Ee&&e.constructor===Ee?e.a:(M("expected object of type TrustedResourceUrl, got '"+e+"' of type "+h(e)),"type_error:TrustedResourceUrl")}function Te(e,t){var n,r=ge(e);if(!Se.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return n=e=r.replace(Ie,(function(e,n){if(!Object.prototype.hasOwnProperty.call(t,n))throw Error('Found marker, "'+n+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[n])instanceof ve?ge(e):encodeURIComponent(String(e))})),new Ee(n=(e=_e())?e.createScriptURL(n):n,xe)}Ee.prototype.ta=!0,Ee.prototype.sa=function(){return this.a.toString()},Ee.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ie=/%{(\w+)}/g,Se=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,xe={};function ke(e,t){this.a=t===Me?e:""}function Ne(e){return e instanceof ke&&e.constructor===ke?e.a:(M("expected object of type SafeUrl, got '"+e+"' of type "+h(e)),"type_error:SafeUrl")}ke.prototype.ta=!0,ke.prototype.sa=function(){return this.a.toString()},ke.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Oe=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Pe=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Ae=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Re(e){return e instanceof ke?e:(e="object"==typeof e&&e.ta?e.sa():String(e),e=Ae.test(e)||(t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Pe))&&Oe.test(t[1])?new ke(e,Me):null);var t}function De(e){return e instanceof ke?e:(e="object"==typeof e&&e.ta?e.sa():String(e),new ke(e=Ae.test(e)?e:"about:invalid#zClosurez",Me))}var Me={},Le=new ke("about:invalid#zClosurez",Me);function Fe(e,t,n){this.a=n===je?e:""}Fe.prototype.ta=!0,Fe.prototype.sa=function(){return this.a.toString()},Fe.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var je={};function Ue(e,t,n,r){return e=e instanceof ke?e:De(e),t=t||a,n=n instanceof ve?ge(n):n||"",t.open(Ne(e),n,r,void 0)}function Ve(e){for(var t=e.split("%s"),n="",r=Array.prototype.slice.call(arguments,1);r.length&&1<t.length;)n+=t.shift()+r.shift();return n+t.join("%s")}function qe(e){return oe.test(e)&&-1!=(e=-1!=(e=-1!=(e=-1!=(e=-1!=(e=-1!=e.indexOf("&")?e.replace(X,"&amp;"):e).indexOf("<")?e.replace(ee,"&lt;"):e).indexOf(">")?e.replace(te,"&gt;"):e).indexOf('"')?e.replace(ne,"&quot;"):e).indexOf("'")?e.replace(re,"&#39;"):e).indexOf("\0")&&(e=e.replace(ie,"&#0;")),e}function Be(e){return Be[" "](e),e}Be[" "]=l;var ze,He=ce("Opera"),We=ce("Trident")||ce("MSIE"),Ge=ce("Edge"),Ke=Ge||We,Ze=ce("Gecko")&&!(ae(Q.toLowerCase(),"webkit")&&!ce("Edge"))&&!(ce("Trident")||ce("MSIE"))&&!ce("Edge"),Ye=ae(Q.toLowerCase(),"webkit")&&!ce("Edge");function $e(){var e=a.document;return e?e.documentMode:void 0}var Qe="",Je=(Je=Q,Ze?/rv:([^\);]+)(\)|;)/.exec(Je):Ge?/Edge\/([\d\.]+)/.exec(Je):We?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Je):Ye?/WebKit\/(\S+)/.exec(Je):He?/(?:Version)[ \/]?(\S+)/.exec(Je):void 0);Je&&(Qe=Je?Je[1]:""),ze=We&&null!=(Je=$e())&&Je>parseFloat(Qe)?String(Je):Qe;var Xe={};function et(e){return t=e,n=function(){for(var t=0,n=J(String(ze)).split("."),r=J(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++)for(var a=n[o]||"",s=r[o]||"";a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],(0!=a[0].length||0!=s[0].length)&&(t=se(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||se(0==a[2].length,0==s[2].length)||se(a[2],s[2]),a=a[3],s=s[3],0==t););return 0<=t},r=Xe,Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=n();var t,n,r}var tt=a.document&&We&&($e()||parseInt(ze,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(e){}var nt=!We||9<=Number(tt);function rt(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function it(e,t){le(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:st.hasOwnProperty(n)?e.setAttribute(st[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ot,at,st={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ut(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function ct(e){a.setTimeout((function(){throw e}),0)}function lt(e,t){at||function(){var e;at=a.Promise&&a.Promise.resolve?(e=a.Promise.resolve(void 0),function(){e.then(pt)}):function(){var e=pt;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!ce("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ot=ot||function(){var e=a.MessageChannel;if(void 0===(e=void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ce("Presto")?function(){var e=ut(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=w((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}:e)||ce("Trident")||ce("MSIE"))return function(e){a.setTimeout(e,0)};var t=new e,n={},r=n;return t.port1.onmessage=function(){var e;void 0!==n.next&&(e=(n=n.next).Hb,n.Hb=null,e())},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}())(e):a.setImmediate(e)}}(),ht||(at(),ht=!0),ft.add(e,t)}var ht=!1,ft=new j;function pt(){for(var e,t;t=e=void 0,t=null,(e=ft).a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t=t;){try{t.a.call(t.b)}catch(e){ct(e)}F(U,t)}ht=!1}function dt(e,t){if(this.a=mt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=l)try{var n=this;e.call(t,(function(e){xt(n,vt,e)}),(function(e){if(!(e instanceof Dt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}xt(n,gt,e)}))}catch(e){xt(this,gt,e)}}var mt=0,vt=2,gt=3;function yt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}yt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var bt=new L((function(){return new yt}),(function(e){e.reset()}));function wt(e,t,n){var r=bt.get();return r.g=e,r.b=t,r.f=n,r}function _t(e){if(e instanceof dt)return e;var t=new dt(l);return xt(t,vt,e),t}function Et(e){return new dt((function(t,n){n(e)}))}function Ct(e,t,n){kt(e,t,n,null)||lt(_(t,e))}function Tt(e){return new dt((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Ct(e[o],_(i,o,!0),_(i,o,!1));else t(r)}))}function It(e,t){e.b||e.a!=vt&&e.a!=gt||Nt(e),e.f?e.f.next=t:e.b=t,e.f=t}function St(e,t,n,r){var i=wt(null,null,null);return i.a=new dt((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(n){o(n)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Dt?o(t):e(i)}catch(t){o(t)}}:o})),It(i.a.c=e,i),i.a}function xt(e,t,n){var r,i;e.a==mt&&(e===n&&(t=gt,n=new TypeError("Promise cannot resolve to itself")),e.a=1,kt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Nt(e),t!=gt||n instanceof Dt||(i=n,(r=e).g=!0,lt((function(){r.g&&Rt.call(null,i)})))))}function kt(e,t,n,r){if(e instanceof dt)return It(e,wt(t||l,n||null,r)),1;if(A(e))return e.then(t,n,r),1;if(d(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(i,e))}),o)}catch(e){o(e)}}(e,i,t,n,r),1}catch(e){return n.call(r,e),1}}function Nt(e){e.h||(e.h=!0,lt(e.gc,e))}function Ot(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Pt(e,t,n,r){if(n==gt&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,At(t,n,r);else try{t.c?t.g.call(t.f):At(t,n,r)}catch(e){Rt.call(null,e)}F(bt,t)}function At(e,t,n){t==vt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}dt.prototype.then=function(e,t,n){return St(this,p(e)?e:null,p(t)?t:null,n)},dt.prototype.$goog_Thenable=!0,(e=dt.prototype).oa=function(e,t){return(e=wt(e,e,t)).c=!0,It(this,e),this},e.o=function(e,t){return St(this,null,e,t)},e.cancel=function(e){var t;this.a==mt&&(t=new Dt(e),lt((function(){!function e(t,n){if(t.a==mt)if(t.c){var r=t.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,!((o=s.a==t?s:o)&&1<i)));s=s.next)o||(a=s);o&&(r.a==mt&&1==i?e(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Ot(r),Pt(r,o,gt,n)))}t.c=null}else xt(t,gt,n)}(this,t)}),this))},e.$c=function(e){this.a=mt,xt(this,vt,e)},e.ad=function(e){this.a=mt,xt(this,gt,e)},e.gc=function(){for(var e;e=Ot(this);)Pt(this,e,this.a,this.i);this.h=!1};var Rt=ct;function Dt(e){R.call(this,e)}function Mt(){0!=Lt&&(Ft[m(this)]=this),this.ya=this.ya,this.pa=this.pa}C(Dt,R);var Lt=0,Ft={};function jt(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Lt)){var t=m(e);if(0!=Lt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ft[t]}}Mt.prototype.ya=!(Dt.prototype.name="cancel"),Mt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ut=Object.freeze||function(e){return e},Vt=!We||9<=Number(tt),qt=We&&!et("9"),Bt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{a.addEventListener("test",l,t),a.removeEventListener("test",l,t)}catch(e){}return e}();function zt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Ht(e,t){if(zt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Ze){e:{try{Be(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Wt[e.pointerType]||"",(this.a=e).defaultPrevented&&this.preventDefault()}}zt.prototype.preventDefault=function(){this.defaultPrevented=!0},C(Ht,zt);var Wt=Ut({2:"touch",3:"pen",4:"mouse"});Ht.prototype.preventDefault=function(){Ht.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,qt)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}},Ht.prototype.g=function(){return this.a};var Gt="closure_listenable_"+(1e6*Math.random()|0),Kt=0;function Zt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++Kt,this.wa=this.Qa=!1}function Yt(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function $t(e){this.src=e,this.a={},this.b=0}function Qt(e,t){var n=t.type;n in e.a&&K(e.a[n],t)&&(Yt(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function Jt(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}$t.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=Jt(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new Zt(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var Xt="closure_lm_"+(1e6*Math.random()|0),en={};function tn(e,t,n,r,i){if(r&&r.once)rn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)tn(e,t[o],n,r,i);else n=pn(n),e&&e[Gt]?mn(e,t,n,d(r)?!!r.capture:!!r,i):nn(e,t,n,!1,r,i)}function nn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a,s,u=d(i)?!!i.capture:!!i,c=hn(e);if(c||(e[Xt]=c=new $t(e)),!(n=c.add(t,n,r,u,o)).proxy)if(a=ln,s=Vt?function(e){return a.call(s.src,s.listener,e)}:function(e){if(!(e=a.call(s.src,s.listener,e)))return e},(n.proxy=r=s).src=e,r.listener=n,e.addEventListener)void 0===(i=Bt?i:u)&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(sn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function rn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)rn(e,t[o],n,r,i);else n=pn(n),e&&e[Gt]?vn(e,t,n,d(r)?!!r.capture:!!r,i):nn(e,t,n,!0,r,i)}function on(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)on(e,t[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=pn(n),e&&e[Gt]?(e=e.v,(t=String(t).toString())in e.a&&-1<(n=Jt(o=e.a[t],n,r,i))&&(Yt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):(e=e&&hn(e))&&(t=e.a[t.toString()],(n=(e=-1)<(e=t?Jt(t,n,r,i):e)?t[e]:null)&&an(n))}function an(e){var t,n,r;"number"!=typeof e&&e&&!e.wa&&((t=e.src)&&t[Gt]?Qt(t.v,e):(n=e.type,r=e.proxy,t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(sn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=hn(t))?(Qt(n,e),0==n.b&&(n.src=null,t[Xt]=null)):Yt(e)))}function sn(e){return e in en?en[e]:en[e]="on"+e}function un(e,t,n,r){var i=!0;if((e=hn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=cn(o,r),i=i&&!1!==o)}return i}function cn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&an(e),n.call(r,t)}function ln(e,t){if(e.wa)return!0;if(Vt)return cn(e,new Ht(t,this));if(!t)e:{t=["window","event"];for(var n=a,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Ht(r=t,this),n=!0,!(r.keyCode<0||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}!i&&null!=r.returnValue||(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=un(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=un(r[i],e,!1,t),n=n&&o}return n}function hn(e){return(e=e[Xt])instanceof $t?e:null}var fn="__closure_events_fn_"+(1e9*Math.random()>>>0);function pn(e){return p(e)?e:(e[fn]||(e[fn]=function(t){return e.handleEvent(t)}),e[fn])}function dn(){Mt.call(this),this.v=new $t(this),(this.bc=this).hb=null}function mn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function vn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function gn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a,s,u=t[o];u&&!u.wa&&u.capture==n&&(a=u.listener,s=u.Wa||u.src,u.Qa&&Qt(e.v,u),i=!1!==a.call(s,r)&&i)}return i&&!r.defaultPrevented}function yn(e,t,n){if(p(e))n&&(e=w(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=w(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function bn(e){var t=null;return new dt((function(n,r){-1==(t=yn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw a.clearTimeout(t),e}))}function wn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"==typeof e)return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function _n(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(f(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function En(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof En)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Cn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Tn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Tn(i,r=e.a[t])||(i[e.a[n++]=r]=1),t++;e.a.length=n}}function Tn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}C(dn,Mt),dn.prototype[Gt]=!0,dn.prototype.addEventListener=function(e,t,n,r){tn(this,e,t,n,r)},dn.prototype.removeEventListener=function(e,t,n,r){on(this,e,t,n,r)},dn.prototype.dispatchEvent=function(e){var t;if(n=this.hb)for(t=[];n;n=n.hb)t.push(n);var n=this.bc,r=e.type||e;if("string"==typeof e?e=new zt(e,n):e instanceof zt?e.target=e.target||n:(a=e,de(e=new zt(r,n),a)),a=!0,t)for(var i=t.length-1;0<=i;i--)var o=e.b=t[i],a=gn(o,r,!0,e)&&a;if(a=gn(o=e.b=n,r,!0,e)&&a,a=gn(o,r,!1,e)&&a,t)for(i=0;i<t.length;i++)a=gn(o=e.b=t[i],r,!1,e)&&a;return a},dn.prototype.Da=function(){if(dn.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)Yt(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=En.prototype).X=function(){Cn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return Cn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Tn(this.b,e)?this.b[e]:t},e.set=function(e,t){Tn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var In=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Sn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Sn?(this.i=void 0!==t?t:e.i,xn(this,e.c),this.l=e.l,this.a=e.a,kn(this,e.g),this.f=e.f,Nn(this,Zn(e.b)),this.h=e.h):e&&(n=String(e).match(In))?(this.i=!!t,xn(this,n[1]||"",!0),this.l=Dn(n[2]||""),this.a=Dn(n[3]||"",!0),kn(this,n[4]),this.f=Dn(n[5]||"",!0),Nn(this,n[6]||"",!0),this.h=Dn(n[7]||"")):(this.i=!!t,this.b=new Bn(null,this.i))}function xn(e,t,n){e.c=n?Dn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function kn(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Nn(e,t,n){var r,i;t instanceof Bn?(e.b=t,r=e.b,(i=e.i)&&!r.f&&(zn(r),r.c=null,r.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Wn(this,t),Kn(this,n,e))}),r)),r.f=i):(n||(t=Mn(t,Vn)),e.b=new Bn(t,e.i))}function On(e,t,n){e.b.set(t,n)}function Pn(e,t){return e.b.get(t)}function An(e){return e instanceof Sn?new Sn(e):new Sn(e,void 0)}function Rn(e,t,n,r){var i=new Sn(null,void 0);return e&&xn(i,e),t&&(i.a=t),n&&kn(i,n),r&&(i.f=r),i}function Dn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Mn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Ln),e=n?e.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):e):null}function Ln(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Sn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Mn(t,Fn,!0),":");var n=this.a;return!n&&"file"!=t||(e.push("//"),(t=this.l)&&e.push(Mn(t,Fn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Mn(n,"/"==n.charAt(0)?Un:jn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Mn(n,qn)),e.join("")},Sn.prototype.resolve=function(e){var t=new Sn(this),n=!!e.c;n?xn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)kn(t,e.g);else if(n=!!e.f)if("/"!=r.charAt(0)&&(this.a&&!this.f?r="/"+r:-1!=(i=t.f.lastIndexOf("/"))&&(r=t.f.substr(0,i+1)+r)),".."==(i=r)||"."==i)r="";else if(ae(i,"./")||ae(i,"/.")){r=0==i.lastIndexOf("/",0);for(var i=i.split("/"),o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i;return n?t.f=r:n=""!==e.b.toString(),n?Nn(t,Zn(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Fn=/[#\/\?@]/g,jn=/[#\?:]/g,Un=/[#\?]/g,Vn=/[#\?@]/g,qn=/#/g;function Bn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function zn(e){e.a||(e.a=new En,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r,i=e[n].indexOf("="),o=null;0<=i?(r=e[n].substring(0,i),o=e[n].substring(i+1)):r=e[n],t(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Hn(e){var t=_n(e);if(void 0===t)throw Error("Keys are undefined");var n=new Bn(null,void 0);e=wn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?Kn(n,i,o):n.add(i,o)}return n}function Wn(e,t){zn(e),t=Yn(e,t),Tn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Tn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Cn(e)))}function Gn(e,t){return zn(e),t=Yn(e,t),Tn(e.a.b,t)}function Kn(e,t,n){Wn(e,t),0<n.length&&(e.c=null,e.a.set(Yn(e,t),$(n)),e.b+=n.length)}function Zn(e){var t=new Bn;return t.c=e.c,e.a&&(t.a=new En(e.a),t.b=e.b),t}function Yn(e,t){return t=String(t),e.f?t.toLowerCase():t}function $n(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),e(t,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(a=n[i])&&(r.push(o),er(i,r),r.push(":"),e(t,a,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":er(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Qn,e,t),t.join("")}function Qn(){}(e=Bn.prototype).add=function(e,t){zn(this),this.c=null,e=Yn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){zn(this),this.a.forEach((function(n,r){B(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){zn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){zn(this);var t=[];if("string"==typeof e)Gn(this,e)&&(t=Y(t,this.a.get(Yn(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=Y(t,e[n])}return t},e.set=function(e,t){return zn(this),this.c=null,Gn(this,e=Yn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++)for(var r=t[n],i=encodeURIComponent(String(r)),o=(r=this.X(r),0);o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}return this.c=e.join("&")};var Jn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Xn=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function er(e,t){t.push('"',e.replace(Xn,(function(e){var t=Jn[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Jn[e]=t),t})),'"')}function tr(){var e=wr();return We&&tt&&11==tt||/Edge\/\d+/.test(e)}function nr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function rr(e,t){t=t||a.window;var n="about:blank";e&&(n=Ne(Re(e)||Le)),t.location.href=n}function ir(e){return!!((e=(e||wr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function or(e){e=e||a.window;try{e.close()}catch(e){}}function ar(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=wr().toLowerCase(),r&&(t.target=r,ae(n,"crios/")&&(t.target="_blank")),gr(wr())==mr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof ke?n:Re(void 0!==n.href?n.href:String(n))||Le,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((ce("iPhone")&&!ce("iPod")&&!ce("iPad")||ce("iPad")||ce("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(me(a=ut(document,"A"),"HTMLAnchorElement"),t=t instanceof ke?t:De(t),a.href=Ne(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Ue("",r,n,a),e=Ne(t),a&&(Ke&&ae(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+qe(e)+'">',e=new Fe(e=(r=_e())?r.createHTML(e):e,0,je),r=a.document)&&(r.write((o=e)instanceof Fe&&o.constructor===Fe?o.a:(M("expected object of type SafeHtml, got '"+o+"' of type "+h(o)),"type_error:SafeHtml")),r.close())):(a=Ue(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}var sr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ur=/^[^@]+@[^@]+$/;function cr(){var e=null;return new dt((function(t){"complete"==a.document.readyState?t():(e=function(){t()},rn(window,"load",e))})).o((function(t){throw on(window,"load",e),t}))}function lr(e){return e=e||wr(),!("file:"!==Ir()&&"ionic:"!==Ir()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function hr(){var e=a.window;try{return e&&e!=e.top}catch(e){return}}function fr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function pr(){return ac.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ac.Z.INTERNAL.hasOwnProperty("node")?"Node":fr()?"Worker":"Browser"}function dr(){var e=pr();return"ReactNative"===e||"Node"===e}var mr="Firefox",vr="Chrome";function gr(e){var t=e.toLowerCase();return ae(t,"opera/")||ae(t,"opr/")||ae(t,"opios/")?"Opera":ae(t,"iemobile")?"IEMobile":ae(t,"msie")||ae(t,"trident/")?"IE":ae(t,"edge/")?"Edge":ae(t,"firefox/")?mr:ae(t,"silk/")?"Silk":ae(t,"blackberry")?"Blackberry":ae(t,"webos")?"Webos":!ae(t,"safari/")||ae(t,"chrome/")||ae(t,"crios/")||ae(t,"android")?!ae(t,"chrome/")&&!ae(t,"crios/")||ae(t,"edge/")?ae(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":vr:"Safari"}var yr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function br(e,t){t=t||[];var n,r=[],i={};for(n in yr)i[yr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=pr())?r=gr(i=wr()):"Worker"===r&&(r=gr(i=wr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function wr(){return a.navigator&&a.navigator.userAgent||""}function _r(e,t){e=e.split("."),t=t||a;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length?void 0:t}function Er(){try{var e=a.localStorage,t=Or();if(e)return e.setItem(t,"1"),e.removeItem(t),!tr()||!!a.indexedDB}catch(e){return fr()&&!!a.indexedDB}return!1}function Cr(){return(Tr()||"chrome-extension:"===Ir()||lr())&&!dr()&&Er()&&!fr()}function Tr(){return"http:"===Ir()||"https:"===Ir()}function Ir(){return a.location&&a.location.protocol||null}function Sr(e){return!ir(e=e||wr())&&gr(e)!=mr}function xr(e){return void 0===e?null:$n(e)}function kr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Nr(e){if(null!==e)return JSON.parse(e)}function Or(e){return e||Math.floor(1e9*Math.random()).toString()}function Pr(e){return"Safari"!=gr(e=e||wr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Ar(){var e=a.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Rr(e,t){if(t<e)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=wr(),t=pr(),this.b=ir(e)||"ReactNative"===t}function Dr(){var e=a.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Mr(){var e=a.document,t=null;return Dr()||!e?_t():new dt((function(n){t=function(){Dr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}function Lr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function Fr(){return _r("fireauth.oauthhelper",a)||_r("fireauth.iframe",a)}Rr.prototype.get=function(){var e=a.navigator;return!e||"boolean"!=typeof e.onLine||!Tr()&&"chrome-extension:"!==Ir()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var jr,Ur={};function Vr(e){Ur[e]||(Ur[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var qr={};Object.defineProperty(qr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(qr,"abcd",{configurable:!0,enumerable:!0,value:2}),jr=2==qr.abcd}catch(e){jr=!1}function Br(e,t,n){jr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function zr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Br(e,n,t[n])}function Hr(e){var t={};return zr(t,e),t}function Wr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Br(t,n,Wr(e[n]));return t}function Gr(e){var t=e&&(e[Qr]?"phone":null);if(!(t&&e&&e[$r]))throw new I("internal-error","Internal assert: invalid MultiFactorInfo object");Br(this,"uid",e[$r]),Br(this,"displayName",e[Zr]||null);var n=null;Br(this,"enrollmentTime",n=e[Yr]?new Date(e[Yr]).toUTCString():n),Br(this,"factorId",t)}function Kr(e){try{var t=new Jr(e)}catch(e){t=null}return t}Gr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Zr="displayName",Yr="enrolledAt",$r="mfaEnrollmentId",Qr="phoneInfo";function Jr(e){Gr.call(this,e),Br(this,"phoneNumber",e[Qr])}function Xr(e){var t={},n=e[ri],r=e[oi],i=e[ai];if(e=Kr(e[ii]),!i||i!=ti&&i!=ni&&!n||i==ni&&!r||i==ei&&!e)throw Error("Invalid checkActionCode response!");i==ni?(t[ui]=n||null,t[li]=n||null,t[si]=r):(t[ui]=r||null,t[li]=r||null,t[si]=n||null),t[ci]=e||null,Br(this,fi,i),Br(this,hi,Wr(t))}C(Jr,Gr),Jr.prototype.w=function(){var e=Jr.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var ei="REVERT_SECOND_FACTOR_ADDITION",ti="EMAIL_SIGNIN",ni="VERIFY_AND_CHANGE_EMAIL",ri="email",ii="mfaInfo",oi="newEmail",ai="requestType",si="email",ui="fromEmail",ci="multiFactorInfo",li="previousEmail",hi="data",fi="operation";function pi(e){var t=Pn(e=An(e),di)||null,n=Pn(e,mi)||null,r=(r=Pn(e,yi)||null)&&wi[r]||null;if(!t||!n||!r)throw new I("argument-error",di+", "+mi+"and "+yi+" are required in a valid action code URL.");zr(this,{apiKey:t,operation:r,code:n,continueUrl:Pn(e,vi)||null,languageCode:Pn(e,gi)||null,tenantId:Pn(e,bi)||null})}var di="apiKey",mi="oobCode",vi="continueUrl",gi="languageCode",yi="mode",bi="tenantId",wi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ei,signIn:ti,verifyAndChangeEmail:ni,verifyEmail:"VERIFY_EMAIL"};function _i(e){try{return new pi(e)}catch(e){return null}}function Ei(e){if(void 0===(t=e[xi]))throw new I("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new I("invalid-continue-uri");if(this.h=t,this.b=this.a=null,this.g=!1,(r=e[Ci])&&"object"==typeof r){var t=r[Oi],n=r[ki],r=r[Ni];if("string"==typeof t&&t.length){if(this.a=t,void 0!==n&&"boolean"!=typeof n)throw new I("argument-error",ki+" property must be a boolean when specified.");if(this.g=!!n,void 0!==r&&("string"!=typeof r||"string"==typeof r&&!r.length))throw new I("argument-error",Ni+" property must be a non empty string when specified.");this.b=r||null}else{if(void 0!==t)throw new I("argument-error",Oi+" property must be a non empty string when specified.");if(void 0!==n||void 0!==r)throw new I("missing-android-pkg-name")}}else if(void 0!==r)throw new I("argument-error",Ci+" property must be a non null object when specified.");if(this.f=null,(t=e[Si])&&"object"==typeof t){if("string"==typeof(t=t[Pi])&&t.length)this.f=t;else if(void 0!==t)throw new I("argument-error",Pi+" property must be a non empty string when specified.")}else if(void 0!==t)throw new I("argument-error",Si+" property must be a non null object when specified.");if(void 0!==(t=e[Ii])&&"boolean"!=typeof t)throw new I("argument-error",Ii+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[Ti])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new I("argument-error",Ti+" property must be a non empty string when specified.");this.i=e||null}var Ci="android",Ti="dynamicLinkDomain",Ii="handleCodeInApp",Si="iOS",xi="url",ki="installApp",Ni="minimumVersion",Oi="packageName",Pi="bundleId";function Ai(e){var t,n={};for(t in n.continueUrl=e.h,n.canHandleCodeInApp=e.c,(n.androidPackageName=e.a)&&(n.androidMinimumVersion=e.b,n.androidInstallApp=e.g),n.iOSBundleId=e.f,n.dynamicLinkDomain=e.i,n)null===n[t]&&delete n[t];return n}var Ri=null;function Di(e){var t=Li(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Mi(e){try{return new Di(e)}catch(e){return null}}function Li(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=function(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Ri[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Ri){Ri={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;n<5;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ri[o]&&(Ri[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}(e);for(e=[],n=t=0;t<r.length;){var i,o,a,s=r[t++];s<128?e[n++]=String.fromCharCode(s):191<s&&s<224?(i=r[t++],e[n++]=String.fromCharCode((31&s)<<6|63&i)):239<s&&s<365?(a=((7&s)<<18|(63&(i=r[t++]))<<12|(63&(o=r[t++]))<<6|63&r[t++])-65536,e[n++]=String.fromCharCode(55296+(a>>10)),e[n++]=String.fromCharCode(56320+(1023&a))):(i=r[t++],o=r[t++],e[n++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&o))}return JSON.parse(e.join(""))}catch(e){}return null}Di.prototype.T=function(){return this.f},Di.prototype.l=function(){return this.c},Di.prototype.toString=function(){return this.h};var Fi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),ji=["client_id","response_type","scope","redirect_uri","state"],Ui={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:ji},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:ji},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:ji},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Fi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Vi(e){for(var t in Ui)if(Ui[t].fa==e)return Ui[t];return null}function qi(e){var t={};t["facebook.com"]=Gi,t["google.com"]=Zi,t["github.com"]=Ki,t["twitter.com"]=Yi;var n=e&&e[zi];try{if(n)return new(t[n]||Wi)(e);if(void 0!==e[Bi])return new Hi(e)}catch(e){}return null}var Bi="idToken",zi="providerId";function Hi(e){var t,n=e[zi];if(n||!e[Bi]||(t=Mi(e[Bi]))&&t.b&&(n=t.b),!n)throw Error("Invalid additional user info!");t=!1,void 0!==e.isNewUser?t=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(t=!0),Br(this,"providerId",n="anonymous"==n||"custom"==n?null:n),Br(this,"isNewUser",t)}function Wi(e){Hi.call(this,e),Br(this,"profile",Wr((e=Nr(e.rawUserInfo||"{}"))||{}))}function Gi(e){if(Wi.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ki(e){if(Wi.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Br(this,"username",this.profile&&this.profile.login||null)}function Zi(e){if(Wi.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Yi(e){if(Wi.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Br(this,"username",e.screenName||null)}function $i(e){var t=Pn(r=An(e),"link"),n=Pn(An(t),"link"),r=Pn(r,"deep_link_id");return Pn(An(r),"link")||r||n||t||e}function Qi(e,t){if(!e&&!t)throw new I("internal-error","Internal assert: no raw session string available");if(e&&t)throw new I("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?Ji:Xi}C(Wi,Hi),C(Gi,Wi),C(Ki,Wi),C(Zi,Wi),C(Yi,Wi);var Ji="enroll",Xi="signin";function eo(){}function to(e,t){return e.then((function(e){if(e[za]){var n=Mi(e[za]);if(!n||t!=n.i)throw new I("user-mismatch");return e}throw new I("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==k+"user-not-found"?new I("user-mismatch"):e}))}function no(e,t){if(!t)throw new I("internal-error","failed to construct a credential");this.a=t,Br(this,"providerId",e),Br(this,"signInMethod",e)}function ro(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function io(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new no(e.providerId,e.pendingToken)}catch(e){}return null}function oo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Br(this,"idToken",t.idToken),t.accessToken&&Br(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Br(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new I("internal-error","failed to construct a credential");Br(this,"accessToken",t.oauthToken),Br(this,"secret",t.oauthTokenSecret)}Br(this,"providerId",e),Br(this,"signInMethod",n)}function ao(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Hn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function so(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new oo(e.providerId,t,e.signInMethod)}catch(e){}}return null}function uo(e,t){this.Qc=t||[],zr(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(Vi(e)||{}).Ja||null,this.pb=null}function co(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new I("argument-error",'SAML provider IDs must be prefixed with "saml."');uo.call(this,e,[])}function lo(e){uo.call(this,e,ji),this.a=[]}function ho(){lo.call(this,"facebook.com")}function fo(e){if(!e)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return d(e)&&(t=e.accessToken),(new ho).credential({accessToken:t})}function po(){lo.call(this,"github.com")}function mo(e){if(!e)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return d(e)&&(t=e.accessToken),(new po).credential({accessToken:t})}function vo(){lo.call(this,"google.com"),this.Ca("profile")}function go(e,t){var n=e;return d(e)&&(n=e.idToken,t=e.accessToken),(new vo).credential({idToken:n,accessToken:t})}function yo(){uo.call(this,"twitter.com",Fi)}function bo(e,t){var n=e;if(!(n=d(n)?n:{oauthToken:e,oauthTokenSecret:t}).oauthToken||!n.oauthTokenSecret)throw new I("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new oo("twitter.com",n,"twitter.com")}function wo(e,t,n){this.a=e,this.f=t,Br(this,"providerId","password"),Br(this,"signInMethod",n===Eo.EMAIL_LINK_SIGN_IN_METHOD?Eo.EMAIL_LINK_SIGN_IN_METHOD:Eo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function _o(e){return e&&e.email&&e.password?new wo(e.email,e.password,e.signInMethod):null}function Eo(){zr(this,{providerId:"password",isOAuthProvider:!1})}function Co(e,t){if(!(t=To(t)))throw new I("argument-error","Invalid email link!");return new wo(e,t.code,Eo.EMAIL_LINK_SIGN_IN_METHOD)}function To(e){return(e=_i(e=$i(e)))&&e.operation===ti?e:null}function Io(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new I("internal-error");this.a=e,Br(this,"providerId","phone"),this.fa="phone",Br(this,"signInMethod","phone")}function So(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return B(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Io(t)}return null}function xo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function ko(e){try{this.a=e||ac.Z.auth()}catch(e){throw new I("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}zr(this,{providerId:"phone",isOAuthProvider:!1})}function No(e,t){if(!e)throw new I("missing-verification-id");if(!t)throw new I("missing-verification-code");return new Io({fb:e,eb:t})}function Oo(e){if(e.temporaryProof&&e.phoneNumber)return new Io({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return go(o,n);case"facebook.com":return fo(n);case"github.com":return mo(n);case"twitter.com":return bo(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new no(t,a):new oo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new lo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(e){return null}}function Po(e){if(!e.isOAuthProvider)throw new I("invalid-oauth-provider")}function Ao(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new I("invalid-auth-event");if(this.g&&this.a)throw new I("invalid-auth-event");if(this.g&&!this.f)throw new I("invalid-auth-event")}function Ro(e){return(e=e||{}).type?new Ao(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&S(e.error),e.postBody,e.tenantId):null}function Do(){this.b=null,this.a=[]}Qi.prototype.Ha=function(){return this.a?_t(this.a):_t(this.b)},Qi.prototype.w=function(){return this.type==Ji?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},eo.prototype.ka=function(){},eo.prototype.b=function(){},eo.prototype.c=function(){},eo.prototype.w=function(){},no.prototype.ka=function(e){return ls(e,ro(this))},no.prototype.b=function(e,t){var n=ro(this);return n.idToken=t,hs(e,n)},no.prototype.c=function(e,t){return to(fs(e,ro(this)),t)},no.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},oo.prototype.ka=function(e){return ls(e,ao(this))},oo.prototype.b=function(e,t){var n=ao(this);return n.idToken=t,hs(e,n)},oo.prototype.c=function(e,t){return to(fs(e,ao(this)),t)},oo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},uo.prototype.Ka=function(e){return this.Jb=fe(e),this},C(co,uo),C(lo,uo),lo.prototype.Ca=function(e){return G(this.a,e)||this.a.push(e),this},lo.prototype.Rb=function(){return $(this.a)},lo.prototype.credential=function(e,t){if(!(t=d(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!t.accessToken)throw new I("argument-error","credential failed: must provide the ID token and/or the access token.");return new oo(this.providerId,t,this.providerId)},C(ho,lo),Br(ho,"PROVIDER_ID","facebook.com"),Br(ho,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),C(po,lo),Br(po,"PROVIDER_ID","github.com"),Br(po,"GITHUB_SIGN_IN_METHOD","github.com"),C(vo,lo),Br(vo,"PROVIDER_ID","google.com"),Br(vo,"GOOGLE_SIGN_IN_METHOD","google.com"),C(yo,uo),Br(yo,"PROVIDER_ID","twitter.com"),Br(yo,"TWITTER_SIGN_IN_METHOD","twitter.com"),wo.prototype.ka=function(e){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Ks(e,ws,{email:this.a,oobCode:this.f}):Ks(e,Bs,{email:this.a,password:this.f})},wo.prototype.b=function(e,t){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Ks(e,_s,{idToken:t,email:this.a,oobCode:this.f}):Ks(e,Ds,{idToken:t,email:this.a,password:this.f})},wo.prototype.c=function(e,t){return to(this.ka(e),t)},wo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},zr(Eo,{PROVIDER_ID:"password"}),zr(Eo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),zr(Eo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Io.prototype.ka=function(e){return e.gb(xo(this))},Io.prototype.b=function(e,t){var n=xo(this);return n.idToken=t,Ks(e,Hs,n)},Io.prototype.c=function(e,t){var n=xo(this);return n.operation="REAUTH",to(e=Ks(e,Ws,n),t)},Io.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},ko.prototype.gb=function(e,t){var n=this.a.a;return _t(t.verify()).then((function(r){if("string"!=typeof r)throw new I("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"!==t.type)throw new I("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.');var i=d(e)?e.session:null,o=d(e)?e.phoneNumber:e;return(i=i&&i.type==Ji?i.Ha().then((function(e){return Ks(n,Ls,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}}).then((function(e){return e.phoneSessionInfo.sessionInfo}))})):i&&i.type==Xi?i.Ha().then((function(t){return t={mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}},Ks(n,Fs,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))})):Ks(n,As,{phoneNumber:o,recaptchaToken:r})).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}))}))},zr(ko,{PROVIDER_ID:"phone"}),zr(ko,{PHONE_SIGN_IN_METHOD:"phone"}),Ao.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Ao.prototype.T=function(){return this.h},Ao.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Mo,Lo=null;function Fo(e){var t="unauthorized-domain",n=void 0,r=An(e);e=r.a,"chrome-extension"==(r=r.c)?n=Ve("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Ve("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",I.call(this,t,n)}function jo(e,t,n){I.call(this,e,n),(e=t||{}).Kb&&Br(this,"email",e.Kb),e.ea&&Br(this,"phoneNumber",e.ea),e.credential&&Br(this,"credential",e.credential),e.$b&&Br(this,"tenantId",e.$b)}function Uo(e){if(e.code){var t=e.code||"";0==t.indexOf(k)&&(t=t.substring(k.length));var n={credential:Oo(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new I(t,e.message||void 0);return new jo(t,n,e.message)}return null}function Vo(){}function qo(e){return e.c||(e.c=e.b())}function Bo(){}function zo(e){if(e.f||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return e.f;for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}function Ho(){}function Wo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Tb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function Go(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Ko(e,t,n){this.reset(e,t,n,void 0,void 0)}function Zo(e){this.f=e,this.b=this.c=this.a=null}function Yo(e,t){this.name=e,this.value=t}C(Fo,I),C(jo,I),jo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&de(e,t),e},jo.prototype.toJSON=function(){return this.w()},Vo.prototype.c=null,C(Bo,Vo),Bo.prototype.a=function(){var e=zo(this);return e?new ActiveXObject(e):new XMLHttpRequest},Bo.prototype.b=function(){var e={};return zo(this)&&(e[0]=!0,e[1]=!0),e},Mo=new Bo,C(Ho,Vo),Ho.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Wo;throw Error("Unsupported browser")},Ho.prototype.b=function(){return{}},(e=Wo.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Go(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Go(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Go(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Ko.prototype.a=null,Ko.prototype.reset=function(e,t,n,r,i){r||E(),delete this.a},Yo.prototype.toString=function(){return this.name};var $o=new Yo("SEVERE",1e3),Qo=new Yo("WARNING",900),Jo=new Yo("CONFIG",700),Xo=new Yo("FINE",500);Zo.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c||(t.a?e(t.a):(M("Root logger has no level set."),null))}(this).value)for(p(t)&&(t=t()),e=new Ko(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var ea,ta={},na=null;function ra(e){var t,n,r;return na||(na=new Zo(""),(ta[""]=na).c=Jo),(t=ta[e])||(t=new Zo(e),r=e.lastIndexOf("."),n=e.substr(r+1),(r=ra(e.substr(0,r))).b||(r.b={}),(r.b[n]=t).a=r,ta[e]=t),t}function ia(e,t){e&&e.log(Xo,t,void 0)}function oa(e){this.f=e}function aa(e){dn.call(this),this.u=e,this.h=void 0,this.readyState=sa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ra("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}C(oa,Vo),oa.prototype.a=function(){return new aa(this.f)},oa.prototype.b=(ea={},function(){return ea}),C(aa,dn);var sa=0;function ua(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function ca(e){e.readyState=4,e.g=null,e.c=null,e.m=null,la(e)}function la(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function ha(e){dn.call(this),this.headers=new En,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=fa,this.u=this.S=!1}(e=aa.prototype).open=function(e,t){if(this.readyState!=sa)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,la(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ca(this)),this.readyState=sa},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,la(this)),this.a&&(this.readyState=3,la(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==a.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,ua(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){var t;this.a&&((t=this.m.decode(e.value||new Uint8Array(0),{stream:!e.done}))&&(this.response=this.responseText+=t),(e.done?ca:la)(this),3==this.readyState&&ua(this))},e.tc=function(e){this.a&&(this.response=this.responseText=e,ca(this))},e.sc=function(e){this.a&&(this.response=e,ca(this))},e.Va=function(e){var t=this.i;t&&t.log(Qo,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&ca(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(Qo,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b)return(e=this.i)&&e.log(Qo,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),"";for(var e=[],t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(aa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),C(ha,dn);var fa="";ha.prototype.b=ra("goog.net.XhrIo");var pa=/^https?$/i,da=["POST","PUT"];function ma(e){return"content-type"==e.toLowerCase()}function va(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,ga(e),ba(e)}function ga(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function ya(e){if(e.c&&void 0!==o)if(e.C[1]&&4==_a(e)&&2==Ea(e))ia(e.b,Ca(e,"Local request error detected and ignored"));else if(e.i&&4==_a(e))yn(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==_a(e)){ia(e.b,Ca(e,"Request complete")),e.c=!1;try{var t,n,r,i,s=Ea(e);e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}if((t=u)||((n=0===s)&&(!(i=String(e.l).match(In)[1]||null)&&a.self&&a.self.location&&(i=(r=a.self.location.protocol).substr(0,r.length-1)),n=!pa.test(i?i.toLowerCase():"")),t=n),t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<_a(e)?e.a.statusText:""}catch(t){ia(e.b,"Can not get status: "+t.message),c=""}e.h=c+" ["+Ea(e)+"]",ga(e)}}finally{ba(e)}}}function ba(e,t){if(e.a){wa(e);var n=e.a,r=e.C[0]?l:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&e.log($o,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function wa(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(a.clearTimeout(e.s),e.s=null)}function _a(e){return e.a?e.a.readyState:0}function Ea(e){try{return 2<_a(e)?e.a.status:-1}catch(e){return-1}}function Ca(e,t){return t+" ["+e.P+" "+e.l+" "+Ea(e)+"]"}function Ta(e){var t=Ma;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ia(e,t,n){e.a=!0,e.c=n,e.f=!t,Na(e)}function Sa(e){if(e.a){if(!e.v)throw new Oa;e.v=!1}}function xa(e,t,n,r){e.g.push([t,n,r]),e.a&&Na(e)}function ka(e){return W(e.g,(function(e){return p(e[1])}))}function Na(e){var t;e.h&&e.a&&ka(e)&&(n=e.h,(t=Ra[n])&&(a.clearTimeout(t.a),delete Ra[n]),e.h=0),e.b&&(e.b.l--,delete e.b);for(var n=e.c,r=t=!1;e.g.length&&!e.i;){var i=(s=e.g.shift())[0],o=s[1],s=s[2];if(i=e.f?o:i)try{var u=i.call(s||e.s,n);void 0!==u&&(e.f=e.f&&(u==n||u instanceof Error),e.c=n=u),(A(n)||"function"==typeof a.Promise&&n instanceof a.Promise)&&(r=!0,e.i=!0)}catch(r){n=r,e.f=!0,ka(e)||(t=!0)}}e.c=n,r&&(u=w(e.m,e,!0),r=w(e.m,e,!1),n instanceof Ta?(xa(n,u,r),n.C=!0):n.then(u,r)),t&&(n=new Aa(n),Ra[n.a]=n,e.h=n.a)}function Oa(){R.call(this)}function Pa(){R.call(this)}function Aa(e){this.a=a.setTimeout(w(this.c,this),0),this.b=e}(e=ha.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ia(this.b,Ca(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ia(this.b,Ca(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ba(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ba(this,!0)),ha.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?ya(this):this.Jc())},e.Jc=function(){ya(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case fa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log($o,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ia(this.b,"Can not get response: "+e.message),null}},Ta.prototype.cancel=function(e){var t;this.a?this.c instanceof Ta&&this.c.cancel():(this.b&&(t=this.b,delete this.b,e?t.cancel(e):(t.l--,t.l<=0&&t.cancel())),this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Pa,Sa(this),Ia(this,!1,e)))},Ta.prototype.m=function(e,t){this.i=!1,Ia(this,e,t)},Ta.prototype.then=function(e,t,n){var r,i,o=new dt((function(e,t){r=e,i=t}));return xa(this,r,(function(e){e instanceof Pa?o.cancel():i(e)})),o.then(e,t,n)},Ta.prototype.$goog_Thenable=!0,C(Oa,R),Oa.prototype.message="Deferred has already fired",Oa.prototype.name="AlreadyCalledError",C(Pa,R),Pa.prototype.message="Deferred was canceled",Pa.prototype.name="CanceledError",Aa.prototype.c=function(){throw delete Ra[this.a],this.b};var Ra={};function Da(e){var t={},n=t.document||document,r=Ce(e).toString(),i=ut(document,"SCRIPT"),o={Xb:i,Ma:void 0},s=new Ta(o),l=null,h=null!=t.timeout?t.timeout:5e3;return 0<h&&(l=window.setTimeout((function(){La(i,!0);var e=new Ua(ja,"Timeout reached for loading script "+r);Sa(s),Ia(s,!1,e)}),h),o.Ma=l),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(La(i,t.xd||!1,l),Sa(s),Ia(s,!0,null))},i.onerror=function(){La(i,!0,l);var e=new Ua(Fa,"Error while loading script "+r);Sa(s),Ia(s,!1,e)},de(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),it(i,o),o=e,me(e=i,"HTMLScriptElement"),e.src=Ce(o),(o=(o=e.ownerDocument&&e.ownerDocument.defaultView)&&o!=a?c(o.document):u=null===u?c(a.document):u)&&e.setAttribute("nonce",o),((n=((o=n)||document).getElementsByTagName("HEAD"))&&0!=n.length?n[0]:o.documentElement).appendChild(i),s}function Ma(){var e;this&&this.Xb&&(e=this.Xb)&&"SCRIPT"==e.tagName&&La(e,!0,this.Ma)}function La(e,t,n){null!=n&&a.clearTimeout(n),e.onload=l,e.onerror=l,e.onreadystatechange=l,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Fa=0,ja=1;function Ua(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),R.call(this,n),this.code=e}function Va(e){this.f=e}function qa(e,t,n){if(this.c=e,this.l=(e=t||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Ha,this.g=fe(e.secureTokenHeaders||Wa),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||Ga,this.a=fe(e.firebaseHeaders||Ka),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==pr(),!(n=a.XMLHttpRequest||n&&ac.Z.INTERNAL.node&&ac.Z.INTERNAL.node.XMLHttpRequest)&&!fr())throw new I("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,fr()?this.f=new oa(self):dr()?this.f=new Va(n):this.f=new Ho,this.b=null}C(Ua,R),C(Va,Vo),Va.prototype.a=function(){return new this.f},Va.prototype.b=function(){return{}};var Ba,za="idToken",Ha=new Rr(3e4,6e4),Wa={"Content-Type":"application/x-www-form-urlencoded"},Ga=new Rr(3e4,6e4),Ka={"Content-Type":"application/json"};function Za(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function Ya(e,t){t&&(e.l=$a("https://securetoken.googleapis.com/v1/token",t),e.h=$a("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=$a("https://identitytoolkit.googleapis.com/v2/",t))}function $a(e,t){return e=An(e),t=An(t.url),e.f=e.a+e.f,xn(e,t.c),e.a=t.a,kn(e,t.g),e.toString()}function Qa(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function Ja(e,t,n,r,i,o,s){var u;(e=((u=gr(u=wr())==vr&&(u=u.match(/\sChrome\/(\d+)/i))&&2==u.length?parseInt(u[1],10):null)&&u<30||We&&tt&&!(9<tt))&&!fr()?(Ba=Ba||new dt((function(e,t){var n,r;n=e,r=t,((window.gapi||{}).client||{}).request?n():(a[es]=function(){((window.gapi||{}).client||{}).request?n():r(Error("CORS_UNSUPPORTED"))},function(e,t){xa(e,null,(function(){r(Error("CORS_UNSUPPORTED"))}),void 0)}(Da(Te(Xa,{onload:es}))))})),w(e.s,e)):w(e.u,e))(t,n,r,i,o,s)}qa.prototype.T=function(){return this.b},qa.prototype.u=function(e,t,n,r,i,o){if(fr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new I("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s,u=new ha(this.f);o&&(u.g=Math.max(0,o),s=setTimeout((function(){u.dispatchEvent("timeout")}),o)),mn(u,"complete",(function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ia(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){e=null}t&&t(e)})),vn(u,"ready",(function(){s&&clearTimeout(s),jt(this)})),vn(u,"timeout",(function(){s&&clearTimeout(s),jt(this),t&&t(null)})),function(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=(e.D||Mo).a(),e.C=e.D?qo(e.D):qo(Mo),e.a.onreadystatechange=w(e.Wb,e);try{ia(e.b,Ca(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(t){return ia(e.b,Ca(e,"Error opening Xhr: "+t.message)),void va(e,t)}t=r||"";var o,s=new En(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||"string"==typeof e)B(e,t,void 0);else for(var n=_n(e),r=wn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){s.set(t,e)})),i=function(e){e:{for(var t=ma,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return t<0?null:"string"==typeof e?e.charAt(t):e[t]}(s.Y()),r=a.FormData&&t instanceof a.FormData,!G(da,n)||i||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{wa(e),0<e.g&&(e.u=(o=e.a,We&&et(9)&&"number"==typeof o.timeout&&void 0!==o.ontimeout),ia(e.b,Ca(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=w(e.Ma,e)):e.s=yn(e.Ma,e.g,e)),ia(e.b,Ca(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){ia(e.b,Ca(e,"Send error: "+t.message)),va(e,t)}}(u,e,n,r,i)};var Xa=new ve(we,"https://apis.google.com/js/client.js?onload=%{onload}"),es="__fcb"+Math.floor(1e6*Math.random()).toString();function ts(e){if("string"!=typeof(e=e.email)||!ur.test(e))throw new I("invalid-email")}function ns(e){"email"in e&&ts(e)}function rs(e){if(!e[za]){if(e.mfaPendingCredential)throw new I("multi-factor-auth-required",null,fe(e));throw new I("internal-error")}}function is(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new I("internal-error")}else{if(!e.sessionInfo)throw new I("missing-verification-id");if(!e.code)throw new I("missing-verification-code")}}qa.prototype.s=function(e,t,n,r,i){var o=this;Ba.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},qa.prototype.Ab=function(){return Ks(this,Ms,{})},qa.prototype.Cb=function(e,t){return Ks(this,Rs,{idToken:e,email:t})},qa.prototype.Db=function(e,t){return Ks(this,Ds,{idToken:e,password:t})};var os={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function as(e){if(!e.phoneVerificationInfo)throw new I("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new I("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new I("missing-verification-code")}function ss(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new I("internal-error")}function us(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&Gn(e=new Bn(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function cs(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Uo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Uo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Uo(e)):e.errorMessage&&(t=Zs(e.errorMessage)),t)throw t;rs(e)}function ls(e,t){return t.returnIdpCredential=!0,Ks(e,js,t)}function hs(e,t){return t.returnIdpCredential=!0,Ks(e,Vs,t)}function fs(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,Ks(e,Us,t)}function ps(e){if(!e.oobCode)throw new I("invalid-action-code")}(e=qa.prototype).Eb=function(e,t){var n={idToken:e},r=[];return le(os,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Ks(this,Rs,n)},e.wb=function(e,t){return de(e={requestType:"PASSWORD_RESET",email:e},t),Ks(this,ks,e)},e.xb=function(e,t){return de(e={requestType:"EMAIL_SIGNIN",email:e},t),Ks(this,Is,e)},e.vb=function(e,t){return de(e={requestType:"VERIFY_EMAIL",idToken:e},t),Ks(this,Ss,e)},e.Fb=function(e,t,n){return de(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),Ks(this,xs,e)},e.gb=function(e){return Ks(this,zs,e)},e.ob=function(e,t){return Ks(this,Ps,{oobCode:e,newPassword:t})},e.Sa=function(e){return Ks(this,ms,{oobCode:e})},e.kb=function(e){return Ks(this,ds,{oobCode:e})};var ds={endpoint:"setAccountInfo",A:ps,Z:"email",B:!0},ms={endpoint:"resetPassword",A:ps,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new I("internal-error")},B:!0},vs={endpoint:"signupNewUser",A:function(e){if(ts(e),!e.password)throw new I("weak-password")},G:rs,V:!0,B:!0},gs={endpoint:"createAuthUri",B:!0},ys={endpoint:"deleteAccount",O:["idToken"]},bs={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new I("internal-error")}},ws={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ts,G:rs,V:!0,B:!0},_s={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ts,G:rs,V:!0},Es={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:as,G:rs,B:!0,Na:!0},Cs={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:as,G:rs,B:!0,Na:!0},Ts={endpoint:"getAccountInfo"},Is={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new I("internal-error");ts(e)},Z:"email",B:!0},Ss={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new I("internal-error")},Z:"email",B:!0},xs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new I("internal-error")},Z:"email",B:!0},ks={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new I("internal-error");ts(e)},Z:"email",B:!0},Ns={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Os={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new I("internal-error")}},Ps={endpoint:"resetPassword",A:ps,Z:"email",B:!0},As={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Rs={endpoint:"setAccountInfo",O:["idToken"],A:ns,V:!0},Ds={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(ns(e),!e.password)throw new I("weak-password")},G:rs,V:!0},Ms={endpoint:"signupNewUser",G:rs,V:!0,B:!0},Ls={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new I("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new I("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},Fs={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},js={endpoint:"verifyAssertion",A:ss,Za:us,G:cs,V:!0,B:!0},Us={endpoint:"verifyAssertion",A:ss,Za:us,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new I("user-not-found");if(e.errorMessage)throw Zs(e.errorMessage);rs(e)},V:!0,B:!0},Vs={endpoint:"verifyAssertion",A:function(e){if(ss(e),!e.idToken)throw new I("internal-error")},Za:us,G:cs,V:!0},qs={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new I("invalid-custom-token")},G:rs,V:!0,B:!0},Bs={endpoint:"verifyPassword",A:function(e){if(ts(e),!e.password)throw new I("wrong-password")},G:rs,V:!0,B:!0},zs={endpoint:"verifyPhoneNumber",A:is,G:rs,B:!0},Hs={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new I("internal-error");is(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Uo(e);rs(e)}},Ws={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:is,G:rs,B:!0},Gs={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[za]^!!e.refreshToken)throw new I("internal-error")},B:!0,Na:!0};function Ks(e,t,n){if(!function(e,t){if(!t||!t.length)return 1;if(e){for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return}return 1}}(n,t.O))return Et(new I("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return _t(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),function(e,t,n,r,i,o,a){var s=An(t+n);On(s,"key",e.c),a&&On(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&On(s,c,i[c]);return new dt((function(t,n){Ja(e,s.toString(),(function(e){e?e.error?n(Ys(e,o||{})):t(e):n(new I("network-request-failed"))}),r,u?void 0:$n(kr(i)),e.a,e.v.get())}))}(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new I("internal-error");return r[t.Z]}))}function Zs(e){return Ys({error:{errors:[{message:e}],code:400,message:e}})}function Ys(e,t){var n,r=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(r=i[r]?new I(i[r]):null)return r;for(n in r=e.error&&e.error.message||"",de(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=r.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,i)if(0===r.indexOf(n))return new I(i[n],t);return new I("internal-error",t=!t&&e?xr(e):t)}function $s(e){var t;this.b=e,this.a=null,this.sb=(t=this,(eu=eu||new dt((function(e,t){function n(){Ar(),_r("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Ar(),t(Error("Network Error"))},timeout:Js.get()})}var r;_r("gapi.iframes.Iframe")?e():_r("gapi.load")?n():(r="__iframefcb"+Math.floor(1e6*Math.random()).toString(),a[r]=function(){_r("gapi.load")?n():t(Error("Network Error"))},_t(Da(r=Te(Qs,{onload:r}))).o((function(){t(Error("Network Error"))})))})).o((function(e){throw eu=null,e}))).then((function(){return new dt((function(e,n){_r("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:_r("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Xs.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))})))}var Qs=new ve(we,"https://apis.google.com/js/api.js?onload=%{onload}"),Js=new Rr(3e4,6e4),Xs=new Rr(5e3,15e3),eu=null;function tu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,e=this.g?Rn((e=An(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):Rn("https",this.l,null,"/__/auth/iframe"),this.a=e,On(this.a,"apiKey",this.h),On(this.a,"appName",this.i),this.b=null,this.c=[]}function nu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function ru(e){try{return ac.Z.app(e).auth().Ga()}catch(e){return[]}}function iu(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function ou(e){var t=nr();return Ks(e,Ns,{}).then((function(e){return e.authorizedDomains||[]})).then((function(e){e:{for(var n=(r=An(t)).c,r=r.a,i=0;i<e.length;i++){var o=e[i],a=r,s=n;if(a=0==o.indexOf("chrome-extension://")?An(o).a==a&&"chrome-extension"==s:("http"==s||"https"==s)&&(sr.test(o)?a==o:(o=o.split(".").join("\\."),new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)))){e=!0;break e}}e=!1}if(!e)throw new Fo(nr())}))}function au(e){return e.m||(e.m=cr().then((function(){var t,n,r,i;e.u||(t=e.c,n=e.i,r=ru(e.b),(i=new tu(e.s,e.g,e.b,e.f)).f=t,i.b=n,i.c=$(r||[]),e.u=i.toString()),e.v=new $s(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,_r("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Ro(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",_t(n)}return n.status="ERROR",_t(n)}))}(e)})),e.m)}function su(e){return e.l||(e.C=e.c?br(e.c,ru(e.b)):null,e.l=new qa(e.g,P(e.i),e.C),e.f&&Ya(e.l,e.f)),e.l}function uu(e,t,n,r,i,o,a,s,u,c,l,h){return(e=new nu(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=fe(u||null),e.f=c,e.zb(l).toString()}function cu(e){if(this.a=e||ac.Z.INTERNAL.reactNative&&ac.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new I("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function lu(e){this.b=e,this.a={},this.f=w(this.c,this)}tu.prototype.toString=function(){return this.f?On(this.a,"v",this.f):Wn(this.a.b,"v"),this.b?On(this.a,"eid",this.b):Wn(this.a.b,"eid"),this.c.length?On(this.a,"fw",this.c.join(",")):Wn(this.a.b,"fw"),this.a.toString()},nu.prototype.zb=function(e){return this.h=e,this},nu.prototype.toString=function(){var e;if(On(e=this.v?Rn((e=An(this.v.url)).c,e.a,e.g,"/emulator/auth/handler"):Rn("https",this.u,null,"/__/auth/handler"),"apiKey",this.s),On(e,"appName",this.c),On(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=ac.Z.app(this.c).auth().la()}catch(e){n=null}for(r in t.pb=n,On(e,"providerId",this.a.providerId),t=kr((n=this.a).Jb))t[r]=t[r].toString();for(var r=n.Qc,i=(t=fe(t),0);i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),he(t)||On(e,"customParameters",xr(t))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&On(e,"scopes",n.join(",")),this.l?On(e,"redirectUrl",this.l):Wn(e.b,"redirectUrl"),this.g?On(e,"eventId",this.g):Wn(e.b,"eventId"),this.i?On(e,"v",this.i):Wn(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Pn(e,a)&&On(e,a,this.b[a]);return this.h?On(e,"tid",this.h):Wn(e.b,"tid"),this.f?On(e,"eid",this.f):Wn(e.b,"eid"),(a=ru(this.c)).length&&On(e,"fw",a.join(",")),e.toString()},(e=iu.prototype).Pb=function(e,t,n){var r=new I("popup-closed-by-user"),i=new I("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){var n,r;r={type:"webStorageSupport"},au(n=o).then((function(){return e=n.v,t=r,e.sb.then((function(){return new dt((function(n){e.a.send(t.type,t,n,_r("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}));var e,t})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})).then((function(n){n||(e&&or(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return t=e,new dt((function(e){return function n(){bn(2e3).then((function(){return t&&!t.closed?n():void e()}))}()}));var t})).then((function(){if(!a)return bn(n).then((function(){t(r)}))}))},e.Yb=function(){var e=wr();return!Sr(e)&&!Pr(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return Et(new I("popup-blocked"));if(a&&!Sr())return this.ma().o((function(t){or(e),i(t)})),r(),_t();this.a||(this.a=ou(su(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw or(e),i(t),t}));return r(),t})).then((function(){Po(n),a||rr(uu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Ob=function(e,t,n,r){this.a||(this.a=ou(su(this)));var i=this;return this.a.then((function(){Po(t),rr(uu(i.s,i.g,i.b,e,t,nr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return au(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new I("network-request-failed")}))},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){Z(this.h,(function(t){return t==e}))},(e=cu.prototype).get=function(e){return _t(this.a.getItem(e)).then((function(e){return e&&Nr(e)}))},e.set=function(e,t){return _t(this.a.setItem(e,xr(t)))},e.U=function(e){return _t(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var hu,fu=[];function pu(e,t,n){he(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function du(e){this.a=e}function mu(e){this.c=e,this.b=!1,this.a=[]}function vu(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return Et(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new dt((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return gu(e,c),t})).o((function(t){throw gu(e,c),t}))}function gu(e,t){var n,r;t&&(n=t.messageChannel,r=t.onMessage,n&&(n.port1.removeEventListener("message",r),n.port1.close()),Z(e.a,(function(e){return e==t})))}function yu(){if(!Eu())throw new I("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e,t,n,r=this;fr()&&self?(this.v=(n=fr()?self:null,B(fu,(function(e){e.b==n&&(t=e)})),t||(t=new lu(n),fu.push(t)),t),pu(this.v,"keyChanged",(function(e,t){return xu(r).then((function(e){return 0<e.length&&B(r.a,(function(t){t(e)})),{keyProcessed:G(e,t.key)}}))})),pu(this.v,"ping",(function(){return _t(["keyChanged"])}))):((e=a.navigator)&&e.serviceWorker?_t().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):_t(null)).then((function(e){(r.h=e)&&(r.g=new mu(new du(e)),vu(r.g,"ping",null,!0).then((function(e){e[0].fulfilled&&G(e[0].value,"keyChanged")&&(r.s=!0)})).o((function(){})))}))}function bu(e){return new dt((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(e){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){var i;(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):(i=e,new dt((function(e,t){var n=i.m.deleteDatabase("firebaseLocalStorageDb");n.onsuccess=function(){e()},n.onerror=function(e){t(Error(e.target.error))}})).then((function(){return bu(e)})).then((function(e){t(e)})).o((function(e){n(e)})))}}))}function wu(e){return e.i||(e.i=bu(e)),e.i}function _u(e,t){var n=0;return new dt((function r(i,o){wu(e).then(t).then(i).o((function(t){return 3<++n?void o(t):wu(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}))}))}))}function Eu(){try{return a.indexedDB}catch(e){return}}function Cu(e){return e.objectStore("firebaseLocalStorage")}function Tu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Iu(e){return new dt((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Su(e,t){return e.g&&e.h&&((n=a.navigator)&&n.serviceWorker&&n.serviceWorker.controller||null)===e.h?vu(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):_t();var n}function xu(e){return wu(e).then((function(e){var t=Cu(Tu(e,!1));return t.getAll?Iu(t.getAll()):new dt((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,i=[];for(r in t)r in n&&typeof t[r]==typeof n[r]?"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&i.push(r):t[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in t||i.push(r);return i}(e.c,n),e.c=n}return r}))}function ku(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Nu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=_t().then((function(){if(Eu()){var e=Or(),r="__sak"+e;return hu=hu||new yu,(n=hu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){B(t.a,(function(t){t(e)}))})),e}))}function Ou(){this.a={},this.type="inMemory"}function Pu(){if(!function(){var e="Node"==pr();if(!(e=Au()||e&&ac.Z.INTERNAL.node&&ac.Z.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==pr())throw new I("internal-error","The LocalStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Au()||ac.Z.INTERNAL.node.localStorage,this.type="localStorage"}function Au(){try{var e=a.localStorage,t=Or();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Ru(){this.type="nullStorage"}function Du(){if(!function(){var e="Node"==pr();if(!(e=Mu()||e&&ac.Z.INTERNAL.node&&ac.Z.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==pr())throw new I("internal-error","The SessionStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Mu()||ac.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Mu(){try{var e=a.sessionStorage,t=Or();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Lu(){var e={};e.Browser=Uu,e.Node=Vu,e.ReactNative=qu,e.Worker=Bu,this.a=e[pr()]}lu.prototype.c=function(e){var t,n=e.data.eventType,r=e.data.eventId,i=this.a[n];i&&0<i.length&&(e.ports[0].postMessage({status:"ack",eventId:r,eventType:n,response:null}),t=[],B(i,(function(n){t.push(_t().then((function(){return n(e.origin,e.data.data)})))})),Tt(t).then((function(t){var i=[];B(t,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),B(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:r,eventType:n,response:i})})))},du.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},mu.prototype.close=function(){for(;0<this.a.length;)gu(this,this.a[0]);this.b=!0},(e=yu.prototype).set=function(e,t){var n=this,r=!1;return _u(this,(function(t){return Iu((t=Cu(Tu(t,!0))).get(e))})).then((function(i){return _u(n,(function(o){if(o=Cu(Tu(o,!0)),i)return i.value=t,Iu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Iu(o.add(a))}))})).then((function(){return n.c[e]=t,Su(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return _u(this,(function(t){return Iu(Cu(Tu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return _u(this,(function(r){return n=!0,t.b++,Iu(Cu(Tu(r,!0)).delete(e))})).then((function(){return delete t.c[e],Su(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){var t;0==this.a.length&&(ku(t=this),function e(){t.f=setTimeout((function(){t.l=xu(t).then((function(e){0<e.length&&B(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()),this.a.push(e)},e.ia=function(e){Z(this.a,(function(t){return t==e})),0==this.a.length&&ku(this)},(e=Nu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){Z(this.a,(function(t){return t==e}))},(e=Ou.prototype).get=function(e){return _t(this.a[e])},e.set=function(e,t){return this.a[e]=t,_t()},e.U=function(e){return delete this.a[e],_t()},e.ca=function(){},e.ia=function(){},(e=Pu.prototype).get=function(e){var t=this;return _t().then((function(){return Nr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return _t().then((function(){var r=xr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return _t().then((function(){t.a.removeItem(e)}))},e.ca=function(e){a.window&&tn(a.window,"storage",e)},e.ia=function(e){a.window&&on(a.window,"storage",e)},(e=Ru.prototype).get=function(){return _t(null)},e.set=function(){return _t()},e.U=function(){return _t()},e.ca=function(){},e.ia=function(){},(e=Du.prototype).get=function(e){var t=this;return _t().then((function(){return Nr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return _t().then((function(){var r=xr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return _t().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Fu,ju,Uu={F:Pu,cb:Du},Vu={F:Pu,cb:Du},qu={F:cu,cb:Ru},Bu={F:Pu,cb:Ru},zu={rd:"local",NONE:"none",td:"session"};function Hu(){var e=!(Pr(wr())||!hr()),t=Sr(),n=Er();this.m=e,this.h=t,this.l=n,this.a={},e=Fu=Fu||new Lu;try{this.g=!tr()&&Fr()||!a.indexedDB?new e.a.F:new Nu(new(fr()?Ou:e.a.F))}catch(e){this.g=new Ou,this.h=!0}try{this.i=new e.a.cb}catch(e){this.i=new Ou}this.v=new Ou,this.f=w(this.Zb,this),this.b={}}function Wu(){return ju=ju||new Hu}function Gu(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function Ku(e,t){return"firebase:"+e.name+(t?":"+t:"")}function Zu(e,t,n){return n=Ku(t,n),"local"==t.F&&(e.b[n]=null),Gu(e,t.F).U(n)}function Yu(e){e.c&&(clearInterval(e.c),e.c=null)}function $u(e){this.a=e,this.b=Wu()}(e=Hu.prototype).get=function(e,t){return Gu(this,e.F).get(Ku(e,t))},e.set=function(e,t,n){var r=Ku(e,n),i=this,o=Gu(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){var r;e=Ku(e,t),this.l&&(this.b[e]=a.localStorage.getItem(e)),he(this.a)&&(Gu(this,"local").ca(this.f),this.h||(tr()||!Fr())&&a.indexedDB||!this.l||(Yu(r=this),r.c=setInterval((function(){for(var e in r.a){var t=a.localStorage.getItem(e),n=r.b[e];t!=n&&(r.b[e]=t,t=new Ht({type:"storage",key:e,target:window,oldValue:n,newValue:t,a:!0}),r.Zb(t))}}),1e3))),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=Ku(e,t),this.a[e]&&(Z(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),he(this.a)&&(Gu(this,"local").ia(this.f),Yu(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?Gu(this,"local").ia(this.f):Yu(this),this.m)if(n=a.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?a.localStorage.setItem(t,r):a.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===a.localStorage.getItem(t)||(o.b[t]=a.localStorage.getItem(t),o.nb(t))};We&&tt&&10==tt&&a.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else B(e,w(this.nb,this))},e.nb=function(e){this.a[e]&&B(this.a[e],(function(e){e()}))};var Qu,Ju={name:"authEvent",F:"local"};function Xu(){this.a=Wu()}function ec(e,t){this.b=tc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===Qu&&(Qu=a.Int32Array?new Int32Array(cc):cc),this.reset()}C(ec,(function(){this.b=-1}));for(var tc=64,nc=tc-1,rc=[],ic=0;ic<nc;ic++)rc[ic]=0;var oc=Y(128,rc);function sc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;t<64;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;t<64;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|Qu[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function uc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(sc(e),i=0);else{if(!f(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&o<=255&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(sc(e),i=0)}}e.c=i,e.g+=n}ec.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):$(this.h)};var cc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function lc(){ec.call(this,8,hc)}C(lc,ec);var hc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function fc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new Xu,this.g=new $u(this.h),this.f=null,this.b=[],this.a=this.c=null}function pc(e){return new I("invalid-cordova-configuration",e)}function dc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function mc(e){return e.f||(e.f=e.ma().then((function(){return new dt((function(t){function n(e){o=!0,s&&s.cancel(),vc(r).then((function(t){var n,o=i;t&&e&&e.url&&(n=null,o=(n=-1!=(o=$i(e.url)).indexOf("/__/auth/callback")?(n="object"==typeof(n=Nr(Pn(n=An(o),"firebaseError")||null))?S(n):null)?new Ao(t.c,t.b,null,null,n,null,t.T()):new Ao(t.c,t.b,o,t.f,null,null,t.T()):n)||i),dc(r,o)}))}var r,i,o,s,u;e.Ea((function n(r){return t(r),e.Ta(n),!1})),r=e,i=new Ao("unknown",null,null,null,new I("no-auth-event")),o=!1,s=bn(500).then((function(){return vc(r).then((function(){o||dc(r,i)}))})),u=a.handleOpenURL,a.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(_r("BuildInfo.packageName",a).toLowerCase()+"://")&&n({url:e}),"function"==typeof u)try{u(e)}catch(e){console.error(e)}},Lo=Lo||new Do,function(e){var t=Lo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=_r("universalLinks.subscribe",a))&&e(null,t.b))}(n)}))}))),e.f}function vc(e){var t,n=null;return(t=e.g).b.get(Ju,t.a).then(Ro).then((function(t){return n=t,Zu((t=e.g).b,Ju,t.a)})).then((function(){return n}))}function gc(e){this.a=e,this.b=Wu()}(e=fc.prototype).ma=function(){return this.Ia||(this.Ia=(lr(void 0)?cr().then((function(){return new dt((function(e,t){var n=a.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Et(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof _r("universalLinks.subscribe",a))throw pc("cordova-universal-links-plugin-fix is not installed");if(void 0===_r("BuildInfo.packageName",a))throw pc("cordova-plugin-buildinfo is not installed");if("function"!=typeof _r("cordova.plugins.browsertab.openUrl",a))throw pc("cordova-plugin-browsertab is not installed");if("function"!=typeof _r("cordova.InAppBrowser.open",a))throw pc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new I("cordova-not-ready")})))},e.Pb=function(e,t){return t(new I("operation-not-supported-in-this-environment")),_t()},e.Nb=function(){return Et(new I("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return Et(new I("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=_t().then((function(){return Po(t),mc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),s=new Ao(t,r,null,o,new I("no-auth-event"),null,i),u=_r("BuildInfo.packageName",a);if("string"!=typeof u)throw new I("invalid-cordova-configuration");var c=_r("BuildInfo.displayName",a),l={};if(wr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!wr().toLowerCase().match(/android/))return Et(new I("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(e){var t=new lc;uc(t,e),e=[];var n=8*t.g;t.c<56?uc(t,oc,56-t.c):uc(t,oc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(sc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return H(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(o),l.sessionId=o;var h=uu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(Ju,s.w(),t)})).then((function(){var t=_r("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof t)throw new I("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=_r("cordova.plugins.browsertab.openUrl",a)))throw new I("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=_r("cordova.InAppBrowser.open",a)))throw new I("invalid-cordova-configuration");t=wr(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new dt((function(e,t){u=function(){var t=_r("cordova.plugins.browsertab.close",a);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){s=s||bn(2e3).then((function(){t(new I("redirect-cancelled-by-user"))}))},l=function(){Dr()&&c()},o.addEventListener("resume",c,!1),wr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return vc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Ta(u),i.c=null}))},e.Ea=function(e){this.b.push(e),mc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Ao("unknown",null,null,null,new I("no-auth-event")),e(t))}))},e.Ta=function(e){Z(this.b,(function(t){return t==e}))};var yc={name:"pendingRedirect",F:"session"};function bc(e){return Zu(e.b,yc,e.a)}function wc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Mc,this.C=new Vc,this.g=new gc(Rc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=_c(this.D,this.v,this.m,x,this.J)}function _c(e,t,n,r,i){var o=ac.Z.SDK_VERSION||null;return new(lr()?fc:iu)(e,t,n,o,r,i)}function Ec(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Cc(e){e.a.Yb()&&Ec(e).o((function(t){var n=new Ao("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Nc(t)&&e.s(n)})),e.a.Ub()||Lc(e.b)}function Tc(e,t){G(e.h,t)||e.h.push(t),e.f||(t=e.g).b.get(yc,t.a).then((function(e){return"pending"==e})).then((function(t){t?bc(e.g).then((function(){Ec(e).o((function(t){var n=new Ao("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Nc(t)&&e.s(n)}))})):Cc(e)})).o((function(){Cc(e)}))}function Ic(e,t){Z(e.h,(function(e){return e==t}))}wc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=_c(this.D,this.v,this.m,null,this.J),this.i={}},wc.prototype.s=function(e){if(!e)throw new I("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Lc(this.b),t};var Sc=new Rr(2e3,1e4),xc=new Rr(3e4,6e4);function kc(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Nc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Oc(e,t,n,r,i){var o,a;return(a=e.g).b.set(yc,"pending",a.a).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(Nc(t))throw new I("operation-not-supported-in-this-environment");return o=t,bc(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new dt((function(){})):bc(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function Pc(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),Sc.get())}wc.prototype.ra=function(){return this.b.ra()};var Ac={};function Rc(e,t,n){return e=e+":"+t,n?e+":"+n.url:e}function Dc(e,t,n,r){var i=Rc(t,n,r);return Ac[i]||(Ac[i]=new wc(e,t,n,r)),Ac[i]}function Mc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Lc(e){e.g||(e.g=!0,Uc(e,!1,null,null))}function Fc(e){e.g&&!e.i&&Uc(e,!1,null,null)}function jc(e,t){if(e.b=function(){return _t(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Uc(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Et(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):jc(e,n):jc(e,{user:null}),e.f=[],e.c=[]}function Vc(){}function qc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function Bc(e,t){this.a=t,Br(this,"verificationId",e)}function zc(e,t,n,r){return new ko(e).gb(t,n).then((function(e){return new Bc(e,r)}))}function Hc(e){var t=Li(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new I("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");zr(this,{token:e,expirationTime:Lr(1e3*t.exp),authTime:Lr(1e3*t.auth_time),issuedAtTime:Lr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function Wc(e,t,n){var r=t&&t[Kc];if(!r)throw new I("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=fe(t),this.g=n,this.c=new Qi(null,r),this.b=[];var i=this;B(t[Gc]||[],(function(e){(e=Kr(e))&&i.b.push(e)})),Br(this,"auth",this.a),Br(this,"session",this.c),Br(this,"hints",this.b)}Mc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Mc.prototype.h=function(e,t){var n,r,i,o;e?(this.reset(),this.g=!0,n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code,this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Uc(this,!0,null,e.a),_t()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){Uc(e,s,t,null)})).o((function(t){Uc(e,s,null,t)}))}(this,e,t):Et(new I("invalid-auth-event")):(Uc(this,!1,null,null),_t())):Et(new I("invalid-auth-event"))},Mc.prototype.ra=function(){var e=this;return new dt((function(t,n){var r,i;e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),r=e,i=new I("timeout"),r.a&&r.a.cancel(),r.a=bn(xc.get()).then((function(){r.b||(r.g=!0,Uc(r,!0,null,i))})))}))},Vc.prototype.h=function(e,t){var n,r,i,o,a;e?(n=e.c,r=e.b,e.a?(t.na(e.c,null,e.a,e.b),_t()):t.Fa(n,r)?(i=t,o=(e=e).b,a=e.c,i.Fa(a,o)(e.g,e.f,e.T(),e.i).then((function(e){i.na(a,e,null,o)})).o((function(e){i.na(a,null,e,o)}))):Et(new I("invalid-auth-event"))):Et(new I("invalid-auth-event"))},Bc.prototype.confirm=function(e){return e=No(this.verificationId,e),this.a(e)};var Gc="mfaInfo",Kc="mfaPendingCredential";function Zc(e,t,n,r){I.call(this,"multi-factor-auth-required",r,t),this.b=new Wc(e,t,n),Br(this,"resolver",this.b)}function Yc(e,t,n){if(e&&d(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new Zc(t,e.serverResponse,n,e.message)}catch(e){}return null}function $c(){}function Qc(e){Br(this,"factorId",e.fa),this.a=e}function Jc(e){if(Qc.call(this,e),this.a.fa!=ko.PROVIDER_ID)throw new I("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Xc(e,t){for(var n in zt.call(this,e),t)this[n]=t[n]}function el(e,t){this.a=e,this.b=[],this.c=w(this.yc,this),tn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&B(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[$r]=e.uid),e.displayName&&(r[Zr]=e.displayName),e.enrollmentTime&&(r[Yr]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[Qr]=e.phoneNumber);try{t=new Jr(r)}catch(e){}e=t}else e=null;e&&n.push(e)})),tl(this,n)}function tl(e,t){e.b=t,Br(e,"enrolledFactors",t)}function nl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function rl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function il(e,t){void 0===t&&(t=e.b?(t=e.b).a-t.g:0),e.c=Date.now()+1e3*t}function ol(e,t){e.b=Mi(t[za]||""),e.a=t.refreshToken,il(e,void 0!==(t=t.expiresIn)?Number(t):void 0)}function al(e,t){this.a=e||null,this.b=t||null,zr(this,{lastSignInTime:Lr(t||null),creationTime:Lr(e||null)})}function sl(e,t,n,r,i,o){zr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function ul(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r,i=ac.Z.SDK_VERSION?br(ac.Z.SDK_VERSION):null;this.a=new qa(this.l,P(x),i),(this.u=e.emulatorConfig||null)&&Ya(this.a,this.u),this.h=new rl(this.a),gl(this,t[za]),ol(this.h,t),Br(this,"refreshToken",this.h.a),wl(this,n||{}),dn.call(this),this.P=!1,this.s&&Cr()&&(this.b=Dc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=(r=this,new nl((function(){return r.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var e=r.h.c-Date.now()-3e5;return 0<e?e:0}))),this.ba=w(this.ib,this);var o=this;this.za=null,this.Pa=function(e){o.xa(e.h)},this.qa=null,this.Ba=function(e){cl(o,e.c)},this.$=null,this.aa=[],this.Oa=function(e){fl(o,e.f)},this.ja=null,this.S=new el(this,n),Br(this,"multiFactor",this.S)}function cl(e,t){e.u=t,Ya(e.a,t),e.b&&(t=e.b,e.b=Dc(e.s,e.l,e.m,e.u),e.P&&(Ic(t,e),Tc(e.b,e)))}function ll(e,t){e.qa&&on(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&tn(t,"languageCodeChanged",e.Pa)}function hl(e,t){e.$&&on(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&tn(t,"emulatorConfigChanged",e.Ba)}function fl(e,t){e.aa=t,Qa(e.a,ac.Z.SDK_VERSION?br(ac.Z.SDK_VERSION,e.aa):null)}function pl(e,t){e.ja&&on(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&tn(t,"frameworkChanged",e.Oa)}function dl(e){try{return ac.Z.app(e.m).auth()}catch(t){throw new I("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function ml(e){e.J||e.D.b||(e.D.start(),on(e,"tokenChanged",e.ba),tn(e,"tokenChanged",e.ba))}function vl(e){on(e,"tokenChanged",e.ba),e.D.stop()}function gl(e,t){e.Aa=t,Br(e,"_lat",t)}function yl(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Tt(t).then((function(){return e}))}function bl(e){e.b&&!e.P&&(e.P=!0,Tc(e.b,e))}function wl(e,t){zr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new al(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function _l(){}function El(e){return _t().then((function(){if(e.J)throw new I("app-deleted")}))}function Cl(e){return H(e.providerData,(function(e){return e.providerId}))}function Tl(e,t){t&&(Il(e,t.providerId),e.providerData.push(t))}function Il(e,t){Z(e.providerData,(function(e){return e.providerId==t}))}function Sl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Br(e,t,n)}function xl(e,t){var n,r;e!=t&&(zr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Br(e,"metadata",new al((r=t.metadata).a,r.b)):Br(e,"metadata",new al),B(t.providerData,(function(t){Tl(e,t)})),n=e.h,r=t.h,n.b=r.b,n.a=r.a,n.c=r.c,Br(e,"refreshToken",e.h.a),tl(e.S,t.S.b))}function kl(e){return e.I().then((function(t){var n,r=e.isAnonymous;return Ks((n=e).a,Ts,{idToken:t}).then(w(n.Kc,n)).then((function(){return r||Sl(e,"isAnonymous",!1),t}))}))}function Nl(e,t){t[za]&&e.Aa!=t[za]&&(ol(e.h,t),e.dispatchEvent(new Xc("tokenChanged")),gl(e,t[za]),Sl(e,"refreshToken",e.h.a))}function Ol(e,t){return kl(e).then((function(){if(G(Cl(e),t))return yl(e).then((function(){throw new I("provider-already-linked")}))}))}function Pl(e,t,n){return Hr({user:e,credential:Oo(t),additionalUserInfo:t=qi(t),operationType:n})}function Al(e,t){return Nl(e,t),e.reload().then((function(){return e}))}function Rl(e,t,n,r,i){if(!Cr())return Et(new I("operation-not-supported-in-this-environment"));if(e.i&&!i)return Et(e.i);var o=Vi(n.providerId),a=Or(e.uid+":::"),s=null,u=ar(s=(!Sr()||hr())&&e.s&&n.isOAuthProvider?uu(e.s,e.l,e.m,t,n,null,a,ac.Z.SDK_VERSION||null,null,null,e.tenantId,e.u):s,o&&o.va,o&&o.ua);return r=r().then((function(){if(Ml(e),!i)return e.I().then((function(){}))})).then((function(){return kc(e.b,u,t,n,a,!!s,e.tenantId)})).then((function(){return new dt((function(n,r){e.na(t,null,new I("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=Pc(e.b,e,t,u,a)}))})).then((function(e){return u&&or(u),e?Hr(e):null})).o((function(e){throw u&&or(u),e})),Ll(e,r,i)}function Dl(e,t,n,r,i){if(!Cr())return Et(new I("operation-not-supported-in-this-environment"));if(e.i&&!i)return Et(e.i);var o=null,a=Or(e.uid+":::");return r=r().then((function(){if(Ml(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,yl(e)})).then((function(t){return e.ha?(t=e.ha).b.set(Ul,e.w(),t.a):t})).then((function(){return Oc(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return Vl(e.ha);throw o})).then((function(){if(o)throw o})),Ll(e,r,i)}function Ml(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new I("internal-error");throw new I("auth-domain-config-required")}}function Ll(e,t,n){var r,i=(t=t,n=n,(r=e).i&&!n?(t.cancel(),Et(r.i)):t.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(r.i||r.dispatchEvent(new Xc("userInvalidated")),r.i=e),e})));return e.N.push(i),i.oa((function(){K(e.N,i)})),i.o((function(t){var n=null;throw(n=t&&"auth/multi-factor-auth-required"===t.code?Yc(t.w(),dl(e),w(e.jc,e)):n)||t}))}function Fl(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[za]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new ul(t,n,e);return e.providerData&&B(e.providerData,(function(e){e&&Tl(i,Hr(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function jl(e){this.a=e,this.b=Wu()}Wc.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=fe(t.f);return delete n[Gc],delete n[Kc],de(n,e),t.g(n)}))},C(Zc,I),$c.prototype.tb=function(e,t,n){return t.type==Ji?(o=this,a=e,s=n,t.Ha().then((function(e){return e={idToken:e},void 0!==s&&(e.displayName=s),de(e,{phoneVerificationInfo:xo(o.a)}),Ks(a,Es,e)}))):(r=this,i=e,t.Ha().then((function(e){return de(e={mfaPendingCredential:e},{phoneVerificationInfo:xo(r.a)}),Ks(i,Cs,e)})));var r,i,o,a,s},C(Qc,$c),C(Jc,Qc),C(Xc,zt),(e=el.prototype).yc=function(e){var t;tl(this,(e=e.hd,t=[],B(e.mfaInfo||[],(function(e){(e=Kr(e))&&t.push(e)})),t))},e.Sb=function(){return this.a.I().then((function(e){return new Qi(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return Nl(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return Ks(r,Gs,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=z(t.b,(function(e){return e.uid!=n}));return tl(t,r),Nl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(e){return e.w()}))}}},nl.prototype.start=function(){this.a=this.c,function e(t,n){t.stop(),t.b=bn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,n)).then(Mr).then((function(){return t.h()})).then((function(){e(t,!0)})).o((function(n){t.i(n)&&e(t,!1)}))}(this,!0)},nl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},rl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},rl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Et(new I("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?function(e,t){return n=e.f,r=t,new dt((function(e,t){"refresh_token"==r.grant_type&&r.refresh_token||"authorization_code"==r.grant_type&&r.code?Ja(n,n.l+"?key="+encodeURIComponent(n.c),(function(n){n?n.error?t(Ys(n)):n.access_token&&n.refresh_token?e(n):t(new I("internal-error")):t(new I("network-request-failed"))}),"POST",Hn(r).toString(),n.g,n.m.get()):t(new I("internal-error"))})).then((function(t){return e.b=Mi(t.access_token),e.a=t.refresh_token,il(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}));var n,r}(this,{grant_type:"refresh_token",refresh_token:this.a}):_t(null):_t({accessToken:this.b.toString(),refreshToken:this.a})},al.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},C(ul,dn),ul.prototype.xa=function(e){this.za=e,Za(this.a,e)},ul.prototype.la=function(){return this.za},ul.prototype.Ga=function(){return $(this.aa)},ul.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Br(ul.prototype,"providerId","firebase"),(e=ul.prototype).reload=function(){var e=this;return Ll(this,El(this).then((function(){return kl(e).then((function(){return yl(e)})).then(_l)})))},e.oc=function(e){return this.I(e).then((function(e){return new Hc(e)}))},e.I=function(e){var t=this;return Ll(this,El(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new I("internal-error");return e.accessToken!=t.Aa&&(gl(t,e.accessToken),t.dispatchEvent(new Xc("tokenChanged"))),Sl(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new I("internal-error");wl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t,n=(t=(t=e).providerUserInfo)&&t.length?H(t,(function(e){return new sl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[],r=0;r<n.length;r++)Tl(this,n[r]);Sl(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Xc("userReloaded",{hd:e}))},e.Lc=function(e){return Vr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return Ll(this,e.c(this.a,this.uid).then((function(e){return Nl(t,e),n=Pl(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Vr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return Ll(this,Ol(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Pl(t,e,"link"),Al(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return Ll(this,Ol(this,"phone").then((function(){return zc(dl(n),e,t,w(n.rb,n))})))},e.Mc=function(e,t){var n=this;return Ll(this,_t().then((function(){return zc(dl(n),e,t,w(n.ub,n))})),!0)},e.Cb=function(e){var t=this;return Ll(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Nl(t,e),t.reload()})))},e.ed=function(e){var t=this;return Ll(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Nl(t,e),t.reload()})))},e.Db=function(e){var t=this;return Ll(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return Nl(t,e),t.reload()})))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return El(this);var t=this;return Ll(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Nl(t,e),Sl(t,"displayName",e.displayName||null),Sl(t,"photoURL",e.photoUrl||null),B(t.providerData,(function(e){"password"===e.providerId&&(Br(e,"displayName",t.displayName),Br(e,"photoURL",t.photoURL))})),yl(t)})).then(_l))},e.cd=function(e){var t=this;return Ll(this,kl(this).then((function(n){return G(Cl(t),e)?Ks(t.a,bs,{idToken:n,deleteProvider:[e]}).then((function(e){var n={};return B(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),B(Cl(t),(function(e){n[e]||Il(t,e)})),n[ko.PROVIDER_ID]||Br(t,"phoneNumber",null),yl(t)})):yl(t).then((function(){throw new I("no-such-provider")}))})))},e.delete=function(){var e=this;return Ll(this,this.I().then((function(t){return Ks(e.a,ys,{idToken:t})})).then((function(){e.dispatchEvent(new Xc("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");ll(e,null),hl(e,null),pl(e,null),e.N=[],e.J=!0,vl(e),Br(e,"refreshToken",null),e.b&&Ic(e.b,e)}))},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?w(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?w(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?w(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?w(this.Mb,this):null},e.Ec=function(e){var t=this;return Rl(this,"linkViaPopup",e,(function(){return Ol(t,e.providerId).then((function(){return yl(t)}))}),!1)},e.Nc=function(e){return Rl(this,"reauthViaPopup",e,(function(){return _t()}),!0)},e.Fc=function(e){var t=this;return Dl(this,"linkViaRedirect",e,(function(){return Ol(t,e.providerId)}),!1)},e.Oc=function(e){return Dl(this,"reauthViaRedirect",e,(function(){return _t()}),!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ll(this,this.I().then((function(n){return hs(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Pl(i,e,"link"),Al(i,e)})).then((function(){return o})))},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ll(this,_t().then((function(){return to(fs(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Pl(i,e,"reauthenticate"),Nl(i,e),i.i=null,i.reload()})).then((function(){return o})),!0)},e.vb=function(e){var t=this,n=null;return Ll(this,this.I().then((function(t){return n=t,void 0===e||he(e)?{}:Ai(new Ei(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Fb=function(e,t){var n=this,r=null;return Ll(this,this.I().then((function(e){return r=e,void 0===t||he(t)?{}:Ai(new Ei(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return Ll(this,e=to(_t(e),n.uid).then((function(e){return t=Pl(n,e,"reauthenticate"),Nl(n,e),n.i=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&de(e,this.metadata.w()),B(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),de(e,this.S.w()),e};var Ul={name:"redirectUser",F:"session"};function Vl(e){return Zu(e.b,Ul,e.a)}function ql(e){var t,n,r,i;this.a=e,this.b=Wu(),this.c=null,this.f=(n=Hl("local"),r=Hl("session"),i=Hl("none"),function(e,t,n){var r=Ku(t,n),i=Gu(e,t.F);return e.get(t,n).then((function(o){var s=null;try{s=Nr(a.localStorage.getItem(r))}catch(o){}if(s&&!o)return a.localStorage.removeItem(r),e.set(t,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}((t=this).b,n,t.a).then((function(){return t.b.get(r,t.a)})).then((function(e){return e?r:t.b.get(i,t.a).then((function(e){return e?i:t.b.get(n,t.a).then((function(e){return e?n:t.b.get(zl,t.a).then((function(e){return e?Hl(e):n}))}))}))})).then((function(e){return t.c=e,Bl(t,e.F)})).o((function(){t.c||(t.c=n)}))),this.b.addListener(Hl("local"),this.a,w(this.g,this))}function Bl(e,t){var n,r,i=[];for(n in zu)zu[n]!==t&&i.push(Zu(e.b,Hl(zu[n]),e.a));return i.push(Zu(e.b,zl,e.a)),r=i,new dt((function(e,t){var n=r.length,i=[];if(n)for(var o=function(t,r){n--,i[t]=r,0==n&&e(i)},a=function(e){t(e)},s=0;s<r.length;s++)Ct(r[s],_(o,s),a);else e(i)}))}ql.prototype.g=function(){var e=this,t=Hl("local");Zl(this,(function(){return _t().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return Bl(e,"local").then((function(){e.c=t}))}))}))};var zl={name:"persistence",F:"session"};function Hl(e){return{name:"authUser",F:e}}function Wl(e,t){return Zl(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function Gl(e){return Zl(e,(function(){return Zu(e.b,e.c,e.a)}))}function Kl(e,t,n){return Zl(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Fl(e||{})}))}))}function Zl(e,t){return e.f=e.f.then(t,t),e.f}function Yl(e){if(this.l=!1,Br(this,"settings",new qc),Br(this,"app",e),!this.app.options||!this.app.options.apiKey)throw new I("invalid-api-key");var t,n,r,i,o,a;e=ac.Z.SDK_VERSION?br(ac.Z.SDK_VERSION):null,this.a=new qa(this.app.options&&this.app.options.apiKey,P(x),e),this.P=[],this.s=[],this.N=[],this.Pa=ac.Z.INTERNAL.createSubscribe(w(this.zc,this)),this.W=void 0,this.ib=ac.Z.INTERNAL.createSubscribe(w(this.Ac,this)),th(this,null),this.i=new ql(this.app.options.apiKey+":"+this.app.name),this.D=new jl(this.app.options.apiKey+":"+this.app.name),this.$=ah(this,(n=(t=this).app.options.authDomain,e=function(e){var t=function(e,t){return e.b.get(Ul,e.a).then((function(e){return e&&t&&(e.authDomain=t),Fl(e||{})}))}(e.D,e.app.options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),Vl(e.D)}));return ah(e,t)}(t).then((function(){return Kl(t.i,n,t.R)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return Wl(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Gl(t.i)}))):null})).then((function(e){th(t,e||null)})),ah(t,e))),this.h=ah(this,(r=this).$.then((function(){return eh(r)})).o((function(){})).then((function(){if(!r.l)return r.ja()})).o((function(){})).then((function(){var e;r.l||(r.ba=!0,(e=r.i).b.addListener(Hl("local"),e.a,r.ja))}))),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.qa=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,o=(i=this).app.options.authDomain,a=i.app.options.apiKey,o&&Cr()&&(i.Oa=i.$.then((function(){var e;if(!i.l)return i.b=Dc(o,a,i.app.name,i.R),Tc(i.b,i),rh(i)&&bl(rh(i)),i.m&&(bl(i.m),(e=i.m).xa(i.la()),ll(e,i),fl(e=i.m,i.J),pl(e,i),cl(e=i.m,i.R),hl(e,i),i.m=null),i.b}))),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,dn.call(this),e=this,Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){var e;return this.R?Hr({protocol:(e=An(this.R.url)).c,host:e.a,port:e.g,options:Hr({disableWarnings:this.R.ec})}):null},enumerable:!1}),this.J=[],this.R=null}function $l(e){zt.call(this,"languageCodeChanged"),this.h=e}function Ql(e){zt.call(this,"emulatorConfigChanged"),this.c=e}function Jl(e){zt.call(this,"frameworkChanged"),this.f=e}function Xl(e){return e.Oa||Et(new I("auth-domain-config-required"))}function eh(e){if(!Cr())return Et(new I("operation-not-supported-in-this-environment"));var t=Xl(e).then((function(){return e.b.ra()})).then((function(e){return e?Hr(e):null}));return ah(e,t)}function th(e,t){var n,r;rh(e)&&(n=rh(e),r=e.Ba,Z(n.W,(function(e){return e==r})),on(rh(e),"tokenChanged",e.qa),on(rh(e),"userDeleted",e.za),on(rh(e),"userInvalidated",e.Aa),vl(rh(e))),t&&(t.W.push(e.Ba),tn(t,"tokenChanged",e.qa),tn(t,"userDeleted",e.za),tn(t,"userInvalidated",e.Aa),0<e.u&&ml(t)),Br(e,"currentUser",t),t&&(t.xa(e.la()),ll(t,e),fl(t,e.J),pl(t,e),cl(t,e.R),hl(t,e))}function nh(e,t){var n=null,r=null;return ah(e,t.then((function(t){return n=Oo(t),r=qi(t),function(e,t){var n={};return n.apiKey=e.app.options.apiKey,n.authDomain=e.app.options.authDomain,n.appName=e.app.name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return r=n,i=t,o=e.D,a=e.Ga(),s=new ul(r,i),o&&(s.ha=o),a&&fl(s,a),s.reload().then((function(){return s}));var r,i,o,a,s})).then((function(t){return rh(e)&&t.uid==rh(e).uid?xl(rh(e),t):(th(e,t),bl(t)),e.da(t)})).then((function(){oh(e)}))}(e,t)}),(function(t){var n=null;throw(n=t&&"auth/multi-factor-auth-required"===t.code?Yc(t.w(),e,w(e.kc,e)):n)||t})).then((function(){return Hr({user:rh(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function rh(e){return e.currentUser}function ih(e){return rh(e)&&rh(e)._lat||null}function oh(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](ih(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](ih(e))}}function ah(e,t){return e.P.push(t),t.oa((function(){K(e.P,t)})),t}function sh(){}function uh(){this.a={},this.b=1e12}ql.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new I("invalid-persistence-type"),n=new I("unsupported-persistence-type");e:{for(r in zu)if(zu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(pr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Eu()&&"none"!==e)throw n;break;default:if(!Er()&&"none"!==e)throw n}}(e),Zl(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,Bl(n,e)})).then((function(){if(n.c=Hl(e),t)return n.b.set(n.c,t,n.a)})):_t()}))},C(Yl,dn),C($l,zt),C(Ql,zt),C(Jl,zt),(e=Yl.prototype).yb=function(e){return ah(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,Za(this.a,this.aa),this.dispatchEvent(new $l(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=a.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new I("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");n=t=!!t&&!!t.disableWarnings,"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!n&&cr().then((function(){var e=a.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),a.document.body.appendChild(e)})),this.R={url:e,ec:t},this.settings.jb=!0,Ya(this.a,this.R),this.dispatchEvent(new Ql(this.R))}var n},e.Gc=function(e){this.J.push(e),Qa(this.a,ac.Z.SDK_VERSION?br(ac.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new Jl(this.J))},e.Ga=function(){return $(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:this.app.options.apiKey,authDomain:this.app.options.authDomain,appName:this.app.name,currentUser:rh(this)&&rh(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?w(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return nh(i,ls(i.a,o))}))},e.Xc=function(e){if(!Cr())return Et(new I("operation-not-supported-in-this-environment"));var t=this,n=Vi(e.providerId),r=Or(),i=null,o=ar(i=(!Sr()||hr())&&this.app.options.authDomain&&e.isOAuthProvider?uu(this.app.options.authDomain,this.app.options.apiKey,this.app.name,"signInViaPopup",e,null,r,ac.Z.SDK_VERSION||null,null,null,this.T(),this.R):i,n&&n.va,n&&n.ua);return ah(this,n=Xl(this).then((function(n){return kc(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new dt((function(e,n){t.na("signInViaPopup",null,new I("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=Pc(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&or(o),e?Hr(e):null})).o((function(e){throw o&&or(o),e})))},e.Yc=function(e){if(!Cr())return Et(new I("operation-not-supported-in-this-environment"));var t=this;return ah(this,Xl(this).then((function(){return Zl(e=t.i,(function(){return e.b.set(zl,e.c.F,e.a)}));var e})).then((function(){return Oc(t.b,"signInViaRedirect",e,void 0,t.T())})))},e.ra=function(){var e=this;return eh(this).then((function(t){return e.b&&Fc(e.b.b),t})).o((function(t){throw e.b&&Fc(e.b.b),t}))},e.dd=function(e){if(!e)return Et(new I("null-user"));if(this.S!=e.tenantId)return Et(new I("tenant-id-mismatch"));var t=this,n={};n.apiKey=this.app.options.apiKey,n.authDomain=this.app.options.authDomain,n.appName=this.app.name;var r,i,o,a,s,u=(r=e,i=n,o=t.D,a=t.Ga(),s=r.h,(n={})[za]=s.b&&s.b.toString(),n.refreshToken=s.a,i=new ul(i||{apiKey:r.l,authDomain:r.s,appName:r.m},n),o&&(i.ha=o),a&&fl(i,a),xl(i,r),i);return ah(this,this.h.then((function(){if(t.app.options.apiKey!=e.l)return u.reload()})).then((function(){return rh(t)&&e.uid==rh(t).uid?(xl(rh(t),e),t.da(e)):(th(t,u),bl(u),t.da(u))})).then((function(){oh(t)})))},e.Bb=function(){var e=this;return ah(this,this.h.then((function(){return e.b&&Fc(e.b.b),rh(e)?(th(e,null),Gl(e.i).then((function(){oh(e)}))):_t()})))},e.Zc=function(){var e=this;return Kl(this.i,this.app.options.authDomain).then((function(t){if(!e.l){var n,r;if((n=rh(e)&&t)&&(n=rh(e).uid,r=t.uid,n=null!=n&&""!==n&&null!=r&&""!==r&&n==r),n)return xl(rh(e),t),rh(e).I();(rh(e)||t)&&(th(e,t),t&&(bl(t),t.ha=e.D),e.b&&Tc(e.b,e),oh(e))}}))},e.da=function(e){return Wl(this.i,e)},e.mc=function(){oh(this),this.da(rh(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then((function(){return nh(t,_t(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(rh(t))}))},e.Ac=function(e){var t,n,r=this;n=function(){e.next(rh(r))},(t=this).N.push(n),ah(t,t.h.then((function(){!t.l&&G(t.N,n)&&t.W!==t.getUid()&&(t.W=t.getUid(),n(ih(t)))})))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof e?e(rh(r)):"function"==typeof e.next&&e.next(rh(r))})),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof e?e(rh(r)):"function"==typeof e.next&&e.next(rh(r))})),this.ib(e,t,n)},e.nc=function(e){var t=this;return ah(this,this.h.then((function(){return rh(t)?rh(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return nh(t,Ks(t.a,qs,{token:e}))})).then((function(e){var n=e.user;return Sl(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return nh(n,Ks(n.a,Bs,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return nh(n,Ks(n.a,vs,{email:e,password:t}))}))},e.ab=function(e){var t=this;return this.h.then((function(){return nh(t,e.ka(t.a))}))},e.Sc=function(e){return Vr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then((function(){var t=rh(e);if(t&&t.isAnonymous){var n=Hr({providerId:null,isNewUser:!1});return Hr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return nh(e,e.a.Ab()).then((function(t){var n=t.user;return Sl(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return rh(this)&&rh(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&rh(this)&&ml(rh(this))},e.Pc=function(e){var t=this;B(this.s,(function(n){n==e&&t.u--})),this.u<0&&(this.u=0),0==this.u&&rh(this)&&vl(rh(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),ah(this,this.h.then((function(){t.l||G(t.s,e)&&e(ih(t))})))},e.removeAuthTokenListener=function(e){Z(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(Hl("local"),e.a,this.ja),this.b&&(Ic(this.b,this),Fc(this.b.b)),Promise.resolve()},e.hc=function(e){return ah(this,Ks(this.a,gs,{identifier:e,continueUri:Tr()?nr():"http://localhost"}).then((function(e){return e.signinMethods||[]})))},e.Bc=function(e){return!!To(e)},e.xb=function(e,t){var n=this;return ah(this,_t().then((function(){var e=new Ei(t);if(!e.c)throw new I("argument-error",Ii+" must be true when sending sign in link to email");return Ai(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},e.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},e.ob=function(e,t){return ah(this,this.a.ob(e,t).then((function(){})))},e.Sa=function(e){return ah(this,this.a.Sa(e).then((function(e){return new Xr(e)})))},e.kb=function(e){return ah(this,this.a.kb(e).then((function(){})))},e.wb=function(e,t){var n=this;return ah(this,_t().then((function(){return void 0===t||he(t)?{}:Ai(new Ei(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.Wc=function(e,t){return ah(this,zc(this,e,t,w(this.ab,this)))},e.Vc=function(e,t){var n=this;return ah(this,_t().then((function(){var r=t||nr(),i=Co(e,r);if(!(r=To(r)))throw new I("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new I("tenant-id-mismatch");return n.ab(i)})))},sh.prototype.render=function(){},sh.prototype.reset=function(){},sh.prototype.getResponse=function(){},sh.prototype.execute=function(){};var ch=null;function lh(e,t){return(t=hh(t))&&e.a[t]||null}function hh(e){return(e=void 0===e?1e12:e)?e.toString():null}function fh(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=rt(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():tn(this.f,"click",this.i)}function ph(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function dh(){}function mh(){}uh.prototype.render=function(e,t){return this.a[this.b.toString()]=new fh(e,t),this.b++},uh.prototype.reset=function(e){var t=lh(this,e);e=hh(e),t&&e&&(t.delete(),delete this.a[e])},uh.prototype.getResponse=function(e){return(e=lh(this,e))?e.getResponse():null},uh.prototype.execute=function(e){(e=lh(this,e))&&e.execute()},fh.prototype.getResponse=function(){return ph(this),this.b},fh.prototype.execute=function(){ph(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(t){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(e){}e.h&&e.execute()}),6e4)}),500))},fh.prototype.delete=function(){ph(this),this.g=!0,clearTimeout(this.a),this.a=null,on(this.f,"click",this.i)},Br(dh,"FACTOR_ID","phone"),mh.prototype.g=function(){return _t(ch=ch||new uh)},mh.prototype.c=function(){};var vh=null;function gh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var yh=new ve(we,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),bh=new Rr(3e4,6e4);gh.prototype.g=function(e){var t=this;return new dt((function(n,r){var i=setTimeout((function(){r(new I("network-request-failed"))}),bh.get());!a.grecaptcha||e!==t.f&&!t.b?(a[t.a]=function(){var o;a.grecaptcha?(t.f=e,o=a.grecaptcha.render,a.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(a.grecaptcha)):(clearTimeout(i),r(new I("internal-error"))),delete a[t.a]},_t(Da(Te(yh,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new I("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},gh.prototype.c=function(){this.b--};var wh=null;function _h(e,t,n,r,i,o,s){if(Br(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,s=s?vh=vh||new mh:wh=wh||new gh,this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Th])throw new I("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ih],!a.document)throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!rt(t)||!this.i&&rt(t).hasChildNodes())throw new I("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new qa(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Eh];this.a[Eh]=function(e){var t;Sh(u,e),"function"==typeof c?c(e):"string"!=typeof c||"function"==typeof(t=_r(c,a))&&t(e)};var l=this.a[Ch];this.a[Ch]=function(){var e;Sh(u,null),"function"==typeof l?l():"string"!=typeof l||"function"==typeof(e=_r(l,a))&&e()}}var Eh="callback",Ch="expired-callback",Th="sitekey",Ih="size";function Sh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(e){}}function xh(e,t){return e.h.push(t),t.oa((function(){K(e.h,t)})),t}function kh(e){if(e.J)throw new I("internal-error","RecaptchaVerifier instance has been destroyed.")}function Nh(e,t,n){var r=!1;try{this.b=n||ac.Z.app()}catch(e){throw new I("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new I("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(e){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}o=ac.Z.SDK_VERSION?br(ac.Z.SDK_VERSION,o):null,_h.call(this,n,e,t,(function(){try{var e=i.b.auth().la()}catch(t){e=null}return e}),o,P(x),r)}function Oh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new I("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],i<0||i>=Ph.length)throw new I("internal-error","Argument validator received an unsupported number of arguments.");n=Ph[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new I("argument-error",e+" failed: "+r)}(e=_h.prototype).Ia=function(){var e=this;return this.f||(this.f=xh(this,_t().then((function(){if(Tr()&&!fr())return cr();throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,Ks(e.s,Os,{})})).then((function(t){e.a[Th]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t}))))},e.render=function(){kh(this);var e=this;return xh(this,this.Ia().then((function(){var t,n;return null===e.c&&(n=e.v,e.i||(t=rt(n),n=function(){var e,t=arguments,n=document,r=String(t[0]),i=t[1];return!nt&&i&&(i.name||i.type)&&(r=["<",r],i.name&&r.push(' name="',qe(i.name),'"'),i.type&&(r.push(' type="',qe(i.type),'"'),de(e={},i),delete e.type,i=e),r.push(">"),r=r.join("")),r=ut(n,r),i&&("string"==typeof i?r.className=i:Array.isArray(i)?r.className=i.join(" "):it(r,i)),2<t.length&&function(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||d(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(d(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){a="function"==typeof o.item;break e}}a=!1}B(a?$(o):o,r)}}}(n,r,t),r}("DIV"),t.appendChild(n)),e.c=e.g.render(n,e.a)),e.c})))},e.verify=function(){kh(this);var e=this;return xh(this,this.render().then((function(t){return new dt((function(n){var r,i=e.g.getResponse(t);i?n(i):(e.l.push(r=function(t){var i;t&&(i=r,Z(e.l,(function(e){return e==i})),n(t))}),e.i&&e.g.execute(e.c))}))})))},e.reset=function(){kh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){kh(this),this.J=!0,this.m.c();for(var e,t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i)for(t=rt(this.v);e=t.firstChild;)t.removeChild(e)},C(Nh,_h);var Ph="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ah(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"==typeof e}}}function Rh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"==typeof e}}}function Dh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:d}}function Mh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"==typeof e}}}function Lh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function Fh(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function jh(e,t){return d(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function Uh(e){return d(e)&&"string"==typeof e.uid}function Vh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function qh(e,t){for(var n in t){var r=t[n].name;e[r]=Hh(r,e[n],t[n].j)}}function Bh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:_((function(e){return this[e]}),n),set:_((function(e,t,n,r){Oh(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function zh(e,t,n,r){e[t]=Hh(t,n,r)}function Hh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Oh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=(e=(e=e).split("."))[e.length-1];for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}qh(Yl.prototype,{kb:{name:"applyActionCode",j:[Ah("code")]},Sa:{name:"checkActionCode",j:[Ah("code")]},ob:{name:"confirmPasswordReset",j:[Ah("code"),Ah("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Ah("email"),Ah("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Ah("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Ah("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Vh(Dh(),Mh(),"nextOrObserver"),Mh("opt_error",!0),Mh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Vh(Dh(),Mh(),"nextOrObserver"),Mh("opt_error",!0),Mh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Ah("email"),Vh(Dh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Ah("email"),Dh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Ah("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Fh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Fh()]},Tc:{name:"signInWithCustomToken",j:[Ah("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Ah("email"),Ah("password")]},Vc:{name:"signInWithEmailLink",j:[Ah("email"),Ah("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Ah("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Vh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof ul)}},Lh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ah(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Ah("url"),Dh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Ah("code")]}}),Bh(Yl.prototype,{lc:{name:"languageCode",lb:Vh(Ah(),Lh(),"languageCode")},ti:{name:"tenantId",lb:Vh(Ah(),Lh(),"tenantId")}}),(Yl.Persistence=zu).LOCAL="local",Yl.Persistence.SESSION="session",Yl.Persistence.NONE="none",qh(ul.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Rh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Rh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Fh()]},rb:{name:"linkWithCredential",j:[Fh()]},Dc:{name:"linkWithPhoneNumber",j:[Ah("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Fh()]},ub:{name:"reauthenticateWithCredential",j:[Fh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Ah("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Vh(Dh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ah(null,!0)]},cd:{name:"unlink",j:[Ah("provider")]},Cb:{name:"updateEmail",j:[Ah("email")]},Db:{name:"updatePassword",j:[Ah("password")]},ed:{name:"updatePhoneNumber",j:[Fh("phone")]},Eb:{name:"updateProfile",j:[Dh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Ah("email"),Vh(Dh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]}}),qh(uh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),qh(sh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),qh(dt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Bh(qc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Rh("appVerificationDisabledForTesting")}}),qh(Bc.prototype,{confirm:{name:"confirm",j:[Ah("verificationCode")]}}),zh(eo,"fromJSON",(function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[so,_o,So,io],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[Vh(Ah(),Dh(),"json")]),zh(Eo,"credential",(function(e,t){return new wo(e,t)}),[Ah("email"),Ah("password")]),qh(wo.prototype,{w:{name:"toJSON",j:[Ah(null,!0)]}}),qh(ho.prototype,{Ca:{name:"addScope",j:[Ah("scope")]},Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),zh(ho,"credential",fo,[Vh(Ah(),Dh(),"token")]),zh(Eo,"credentialWithLink",Co,[Ah("email"),Ah("emailLink")]),qh(po.prototype,{Ca:{name:"addScope",j:[Ah("scope")]},Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),zh(po,"credential",mo,[Vh(Ah(),Dh(),"token")]),qh(vo.prototype,{Ca:{name:"addScope",j:[Ah("scope")]},Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),zh(vo,"credential",go,[Vh(Ah(),Vh(Dh(),Lh()),"idToken"),Vh(Ah(),Lh(),"accessToken",!0)]),qh(yo.prototype,{Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),zh(yo,"credential",bo,[Vh(Ah(),Dh(),"token"),Ah("secret",!0)]),qh(lo.prototype,{Ca:{name:"addScope",j:[Ah("scope")]},credential:{name:"credential",j:[Vh(Ah(),Vh(Dh(),Lh()),"optionsOrIdToken"),Vh(Ah(),Lh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),qh(oo.prototype,{w:{name:"toJSON",j:[Ah(null,!0)]}}),qh(no.prototype,{w:{name:"toJSON",j:[Ah(null,!0)]}}),zh(ko,"credential",No,[Ah("verificationId"),Ah("verificationCode")]),qh(ko.prototype,{gb:{name:"verifyPhoneNumber",j:[Vh(Ah(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?jh(e.session,Ji)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?jh(e.session,Xi)&&Uh(e.multiFactorHint):e.session&&e.multiFactorUid?jh(e.session,Xi)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),qh(Io.prototype,{w:{name:"toJSON",j:[Ah(null,!0)]}}),qh(I.prototype,{toJSON:{name:"toJSON",j:[Ah(null,!0)]}}),qh(jo.prototype,{toJSON:{name:"toJSON",j:[Ah(null,!0)]}}),qh(Fo.prototype,{toJSON:{name:"toJSON",j:[Ah(null,!0)]}}),qh(Zc.prototype,{toJSON:{name:"toJSON",j:[Ah(null,!0)]}}),qh(Wc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),qh(el.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},Ah("displayName",!0)]},bd:{name:"unenroll",j:[Vh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Uh},Ah(),"multiFactorInfoIdentifier")]}}),qh(Nh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),zh(pi,"parseLink",_i,[Ah("link")]),zh(dh,"assertion",(function(e){return new Jc(e)}),[Fh("phone")]),function(){if(void 0===ac.Z||!ac.Z.INTERNAL||!ac.Z.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ti,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ei,VERIFY_AND_CHANGE_EMAIL:ni,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Yl,AuthCredential:eo,Error:I};zh(e,"EmailAuthProvider",Eo,[]),zh(e,"FacebookAuthProvider",ho,[]),zh(e,"GithubAuthProvider",po,[]),zh(e,"GoogleAuthProvider",vo,[]),zh(e,"TwitterAuthProvider",yo,[]),zh(e,"OAuthProvider",lo,[Ah("providerId")]),zh(e,"SAMLAuthProvider",co,[Ah("providerId")]),zh(e,"PhoneAuthProvider",ko,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof Yl)}}]),zh(e,"RecaptchaVerifier",Nh,[Vh(Ah(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Dh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof ac.Z.app.App)}}]),zh(e,"ActionCodeURL",pi,[]),zh(e,"PhoneMultiFactorGenerator",dh,[]),ac.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new Yl(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),ac.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:w((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:w(e.nc,e),addAuthTokenListener:w(e.cc,e),removeAuthTokenListener:w(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ac.Z.registerVersion("@firebase/auth","0.16.8"),ac.Z.INTERNAL.extendNamespace({User:ul})}()}.apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),n(9446);var LS,FS="firebasestorage.googleapis.com",jS="storageBucket",US=(LS=uc.ZR,(0,sc.ZT)(VS,LS),VS.prototype._codeEquals=function(e){return qS(e)===this.code},Object.defineProperty(VS.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),VS);function VS(e,t){return(e=LS.call(this,qS(e),"Firebase Storage: "+t+" ("+qS(e)+")")||this).customData={serverResponse:null},e._baseMessage=e.message,Object.setPrototypeOf(e,VS.prototype),e}function qS(e){return"storage/"+e}function BS(){return new US("unknown","An unknown error occurred, please check the error payload for server response.")}function zS(){return new US("canceled","User canceled the upload/download.")}function HS(){return new US("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function WS(e){return new US("invalid-argument",e)}function GS(){return new US("app-deleted","The Firebase app was deleted.")}function KS(e){return new US("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ZS(e,t){return new US("invalid-format","String does not match format '"+e+"': "+t)}function YS(e){throw new US("internal-error","Internal error: "+e)}var $S={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},QS=function(e,t){this.data=e,this.contentType=t||null};function JS(e,t){switch(e){case $S.RAW:return new QS(XS(t));case $S.BASE64:case $S.BASE64URL:return new QS(ex(e,t));case $S.DATA_URL:return new QS(function(e){return(e=new nx(e)).base64?ex($S.BASE64,e.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw ZS($S.DATA_URL,"Malformed data URL.")}return XS(t)}(e.rest)}(t),new nx(t).contentType)}throw BS()}function XS(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ex(e,t){switch(e){case $S.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw ZS(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case $S.BASE64URL:if(r=-1!==t.indexOf("+"),n=-1!==t.indexOf("/"),r||n)throw ZS(e,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var i;try{i=atob(t)}catch(t){throw ZS(e,"Invalid character found")}for(var o=new Uint8Array(i.length),a=0;a<i.length;a++)o[a]=i.charCodeAt(a);return o}var tx,nx=function(e){var t;if(this.base64=!1,(this.contentType=null)===(t=e.match(/^data:([^,]+)?,/)))throw ZS($S.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=t[1]||null;null!=r&&(this.base64=(n=";base64",(t=r).length>=n.length&&t.substring(t.length-n.length)===n),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)},rx={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ix(e){switch(e){case"running":case"pausing":case"canceling":return rx.RUNNING;case"paused":return rx.PAUSED;case"success":return rx.SUCCESS;case"canceled":return rx.CANCELED;case"error":default:return rx.ERROR}}(Me=tx=tx||{})[Me.NO_ERROR=0]="NO_ERROR",Me[Me.NETWORK_ERROR=1]="NETWORK_ERROR",Me[Me.ABORT=2]="ABORT";var ox=(ax.prototype.send=function(e,t,n,r){if(this.sent_)throw YS("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},ax.prototype.getErrorCode=function(){if(!this.sent_)throw YS("cannot .getErrorCode() before sending");return this.errorCode_},ax.prototype.getStatus=function(){if(!this.sent_)throw YS("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},ax.prototype.getResponseText=function(){if(!this.sent_)throw YS("cannot .getResponseText() before sending");return this.xhr_.responseText},ax.prototype.abort=function(){this.xhr_.abort()},ax.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},ax.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},ax.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},ax);function ax(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=tx.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=tx.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=tx.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}var sx=(ux.prototype.createConnection=function(){return new ox},ux);function ux(){}var cx=(Object.defineProperty(lx.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(lx.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),lx.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},lx.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},lx.makeFromBucketSpec=function(e,t){var n;try{n=lx.makeFromUrl(e,t)}catch(t){return new lx(e,"")}if(""===n.path)return n;throw new US("invalid-default-bucket","Invalid default bucket '"+e+"'.")},lx.makeFromUrl=function(e,t){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var a=t.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+(t===FS?"(?:storage.googleapis.com|storage.cloud.google.com)":t)+"/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<s.length;u++){var c=s[u],l=c.regex.exec(e);if(l){n=new lx(l[c.indices.bucket],l[c.indices.path]||""),c.postModify(n);break}}if(null==n)throw new US("invalid-url","Invalid URL '"+e+"'.");return n},lx);function lx(e,t){this.bucket=e,this.path_=t}var hx=(fx.prototype.getPromise=function(){return this.promise_},fx.prototype.cancel=function(e){},fx);function fx(e){this.promise_=Promise.reject(e)}function px(e){return"string"==typeof e||e instanceof String}function dx(e){return mx()&&e instanceof Blob}function mx(){return"undefined"!=typeof Blob}function vx(e,t,n,r){if(r<t)throw WS("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(n<r)throw WS("Invalid value for '"+e+"'. Expected "+n+" or less.")}function gx(e,t){var n=t.match(/^(\w+):\/\/.+/);return(null==(null==n?void 0:n[1])?"https://"+t:t)+"/v0"+e}function yx(e){var t,n=encodeURIComponent,r="?";for(t in e)e.hasOwnProperty(t)&&(r=r+(n(t)+"=")+n(e[t])+"&");return r.slice(0,-1)}var bx=(wx.prototype.start_=function(){var e,t,n,r,i,o,a,s,u,c=this;function l(e,t){var n,r=c.resolve_,i=c.reject_,o=t.connection;if(t.wasSuccessCode)try{var a=c.callback_(o,o.getResponseText());void 0!==a?r(a):r()}catch(e){i(e)}else null!==o?((n=BS()).serverResponse=o.getResponseText(),c.errorCallback_?i(c.errorCallback_(o,n)):i(n)):t.canceled?i(n=(c.appDelete_?GS:zS)()):i(n=new US("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}function h(){return 2===a}function f(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];s||(s=!0,t.apply(null,e))}function p(t){i=setTimeout((function(){i=null,e(d,h())}),t)}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];s||(e||h()||o?f.call.apply(f,(0,sc.ev)([null,e],t)):(r<64&&(r*=2),p(1===a?(a=2,0):1e3*(r+Math.random()))))}function m(e){u||(u=!0,s||(null!==i?(e||(a=2),clearTimeout(i),p(0)):e||(a=1)))}this.canceled_?l(0,new _x(!1,null,!0)):this.backoffId_=(e=function(e,t){var n;function r(e){var t=e.loaded;e=e.lengthComputable?e.total:-1;null!==c.progressCallback_&&c.progressCallback_(t,e)}t?e(!1,new _x(!1,null,!0)):(n=c.pool_.createConnection(),c.pendingConnection_=n,null!==c.progressCallback_&&n.addUploadProgressListener(r),n.send(c.url_,c.method_,c.body_,c.headers_).then((function(){null!==c.progressCallback_&&n.removeUploadProgressListener(r),c.pendingConnection_=null;var t,i=n.getErrorCode()===tx.NO_ERROR,o=n.getStatus();i&&!c.isRetryStatusCode_(o)?(t=-1!==c.successCodes_.indexOf(o),e(!0,new _x(t,n))):(t=n.getErrorCode()===tx.ABORT,e(!1,new _x(!1,null,t)))})))},t=l,n=this.timeout_,i=null,u=s=o=!(r=1),p(a=0),setTimeout((function(){o=!0,m(!0)}),n),m)},wx.prototype.getPromise=function(){return this.promise_},wx.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},wx.prototype.isRetryStatusCode_=function(e){var t=500<=e&&e<600,n=-1!==[408,429].indexOf(e);e=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||e},wx);function wx(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}var _x=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function Ex(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(mx())return new Blob(e);throw new US("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Cx=(Tx.prototype.size=function(){return this.size_},Tx.prototype.type=function(){return this.type_},Tx.prototype.slice=function(e,t){if(dx(this.data_)){var n=this.data_;return null===(i=(r=e,i=t,(n=n).webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null))?null:new Tx(i)}var r,i;return new Tx(new Uint8Array(this.data_.buffer,e,t-e),!0)},Tx.getBlob=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(mx()){var n=e.map((function(e){return e instanceof Tx?e.data_:e}));return new Tx(Ex.apply(null,n))}n=e.map((function(e){return px(e)?JS($S.RAW,e).data:e.data_}));var r=0;n.forEach((function(e){r+=e.byteLength}));var i=new Uint8Array(r),o=0;return n.forEach((function(e){for(var t=0;t<e.length;t++)i[o++]=e[t]})),new Tx(i,!0)},Tx.prototype.uploadData=function(){return this.data_},Tx);function Tx(e,t){var n=0,r="";dx(e)?(n=(this.data_=e).size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}function Ix(e){var t;try{t=JSON.parse(e)}catch(e){return null}return"object"!=typeof(e=t)||Array.isArray(e)?null:t}function Sx(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function xx(e,t){return t}var kx=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||xx},Nx=null;function Ox(){if(Nx)return Nx;var e=[];e.push(new kx("bucket")),e.push(new kx("generation")),e.push(new kx("metageneration")),e.push(new kx("name","fullPath",!0));var t=new kx("name");return t.xform=function(e,t){return!px(t=t)||t.length<2?t:Sx(t)},e.push(t),(t=new kx("size")).xform=function(e,t){return void 0!==t?Number(t):t},e.push(t),e.push(new kx("timeCreated")),e.push(new kx("updated")),e.push(new kx("md5Hash",null,!0)),e.push(new kx("cacheControl",null,!0)),e.push(new kx("contentDisposition",null,!0)),e.push(new kx("contentEncoding",null,!0)),e.push(new kx("contentLanguage",null,!0)),e.push(new kx("contentType",null,!0)),e.push(new kx("metadata","customMetadata",!0)),Nx=e}function Px(e,t,n){return null===(t=Ix(t))?null:function(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath;return r=new cx(n,r),t._makeStorageReference(r)}})}(r,e),r}(e,t,n)}function Ax(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var Rx="prefixes",Dx="items";var Mx=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Lx(e){if(!e)throw BS()}function Fx(e,t){return function(n,r){return Lx(null!==(r=Px(e,r,t))),r}}function jx(e,t){return function(n,r){return Lx(null!==(r=function(e,t,n){return null===(n=Ix(n))?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Rx])for(var i=0,o=n[Rx];i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new cx(t,a));r.prefixes.push(s)}if(n[Dx])for(var u=0,c=n[Dx];u<c.length;u++){var l=c[u];s=e._makeStorageReference(new cx(t,l.name)),r.items.push(s)}return r}(e,t,n)}(e,t,r))),r}}function Ux(e){return function(t,n){var r,i=401===t.getStatus()?t.getResponseText().includes("Firebase App Check token is invalid")?new US("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new US("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(r=e.bucket,new US("quota-exceeded","Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,new US("unauthorized","User does not have permission to access '"+i+"'.")):n;return i.serverResponse=n.serverResponse,i}}function Vx(e){var t=Ux(e);return function(n,r){var i=t(n,r);return 404===n.getStatus()&&(n=e.path,i=new US("object-not-found","Object '"+n+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function qx(e,t,n){var r=gx(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime;return(i=new Mx(r,"GET",Fx(e,n),i)).errorHandler=Vx(t),i}function Bx(e,t,n){return(n=Object.assign({},n)).fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=(e=t,(t=null)&&t.contentType||e&&e.type()||"application/octet-stream")),n}var zx=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function Hx(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){Lx(!1)}return Lx(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Wx=function(e,t,n){"function"==typeof e||null!=t||null!=n?(this.next=e,this.error=t,this.complete=n):(this.next=(e=e).next,this.error=e.error,this.complete=e.complete)};function Gx(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var Kx=(Zx.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},Zx.prototype._shouldDoResumable=function(e){return 262144<e.size()},Zx.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},Zx.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},Zx.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=Bx(t,r,i);return i={name:a.fullPath},o=gx(o,e.host),r={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},n=Ax(a,n),e=e.maxUploadRetryTime,(e=new Mx(o,"POST",(function(e){var t;Hx(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){Lx(!1)}return Lx(px(t)),t}),e)).urlParams=i,e.headers=r,e.body=n,e.errorHandler=Ux(t),e}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata);n=e._ref.storage._makeRequest(r,t,n);(e._request=n).getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},Zx.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){return e=e.maxUploadRetryTime,(e=new Mx(n,"POST",(function(e){var t=Hx(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){Lx(!1)}return n||Lx(!1),n=Number(n),Lx(!isNaN(n)),new zx(n,r.size(),"final"===t)}),e)).headers={"X-Goog-Upload-Command":"query"},e.errorHandler=Ux(t),e}(e._ref.storage,e._ref._location,t,e._blob);r=e._ref.storage._makeRequest(i,n,r);(e._request=r).getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},Zx.prototype._continueUpload=function(){var e=this,t=262144*this._chunkMultiplier,n=new zx(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=function(e,t,n,r,i,o,a,s){var u=new zx(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new US("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;if(0<i&&(l=Math.min(l,i)),i=(a=u.current)+l,c={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},null===(a=r.slice(a,i)))throw HS();return i=t.maxUploadRetryTime,(i=new Mx(n,"POST",(function(e,n){var i=Hx(e,["active","final"]),a=u.current+l,s=r.size();return n="final"===i?Fx(t,o)(e,n):null,new zx(a,s,"final"===i,n)}),i)).headers=c,i.body=a.uploadData(),i.progressCallback=s||null,i.errorHandler=Ux(e),i}(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(i){return e._error=i,void e._transition("error")}o=e._ref.storage._makeRequest(a,i,o),(e._request=o).getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},Zx.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},Zx.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=qx(e._ref.storage,e._ref._location,e._mappings);n=e._ref.storage._makeRequest(r,t,n);(e._request=n).getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},Zx.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=Bx(t,r,i);if(i="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ax(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",null===(r=Cx.getBlob(i,r,"\r\n--"+s+"--")))throw HS();return s={name:u.fullPath},u=gx(o,e.host),o=e.maxUploadRetryTime,(o=new Mx(u,"POST",Fx(e,n),o)).urlParams=s,o.headers=a,o.body=r.uploadData(),o.errorHandler=Ux(t),o}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata);n=e._ref.storage._makeRequest(r,t,n);(e._request=n).getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},Zx.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},Zx.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=zS(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},Zx.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(Zx.prototype,"snapshot",{get:function(){var e=ix(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),Zx.prototype.on=function(e,t,n,r){var i=this,o=new Wx(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},Zx.prototype.then=function(e,t){return this._promise.then(e,t)},Zx.prototype.catch=function(e){return this.then(null,e)},Zx.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},Zx.prototype._removeObserver=function(e){-1!==(e=this._observers.indexOf(e))&&this._observers.splice(e,1)},Zx.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},Zx.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(ix(this._state)){case rx.SUCCESS:Gx(this._resolve.bind(null,this.snapshot))();break;case rx.CANCELED:case rx.ERROR:Gx(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},Zx.prototype._notifyObserver=function(e){switch(ix(this._state)){case rx.RUNNING:case rx.PAUSED:e.next&&Gx(e.next.bind(e,this.snapshot))();break;case rx.SUCCESS:e.complete&&Gx(e.complete.bind(e))();break;case rx.CANCELED:case rx.ERROR:e.error&&Gx(e.error.bind(e,this._error))();break;default:e.error&&Gx(e.error.bind(e,this._error))()}},Zx.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},Zx.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},Zx.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},Zx);function Zx(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Ox(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}var Yx=($x.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},$x.prototype._newRef=function(e,t){return new $x(e,t)},Object.defineProperty($x.prototype,"root",{get:function(){var e=new cx(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty($x.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty($x.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty($x.prototype,"name",{get:function(){return Sx(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty($x.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty($x.prototype,"parent",{get:function(){var e=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);return null===e?null:(e=new cx(this._location.bucket,e),new $x(this._service,e))},enumerable:!1,configurable:!0}),$x.prototype._throwIfRoot=function(e){if(""===this._location.path)throw KS(e)},$x);function $x(e,t){this._service=e,this._location=t instanceof cx?t:cx.makeFromUrl(t,e.host)}function Qx(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){var n;return(0,sc.Jh)(this,(function(r){switch(r.label){case 0:return null!=t&&"number"==typeof t.maxResults&&vx("options.maxResults",1,1e3,t.maxResults),n=t||{},i=e.storage,o=e._location,"/",a=n.pageToken,s=n.maxResults,u={},o.isRoot?u.prefix="":u.prefix=o.path+"/",0<"/".length&&(u.delimiter="/"),a&&(u.pageToken=a),s&&(u.maxResults=s),a=gx(o.bucketOnlyServerUrl(),i.host),s=i.maxOperationRetryTime,(s=new Mx(a,"GET",jx(i,o.bucket),s)).urlParams=u,s.errorHandler=Ux(o),[4,e.storage.makeRequestWithTokens(s)];case 1:return[2,r.sent().getPromise()]}var i,o,a,s,u}))}))}function Jx(e){return(0,sc.mG)(this,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(t){switch(t.label){case 0:return e._throwIfRoot("getDownloadURL"),n=e.storage,r=e._location,i=Ox(),o=gx(r.fullServerUrl(),n.host),a=n.maxOperationRetryTime,(a=new Mx(o,"GET",function(e,t){return function(n,r){var i=Px(e,r,t);return Lx(null!==i),function(e,t,n){if(null===(t=Ix(t)))return null;if(!px(t.downloadTokens))return null;if(0===(t=t.downloadTokens).length)return null;var r=encodeURIComponent;return t.split(",").map((function(t){var i=e.bucket,o=e.fullPath;return gx("/b/"+r(i)+"/o/"+r(o),n)+yx({alt:"media",token:t})}))[0]}(i,r,e.host)}}(n,i),a)).errorHandler=Vx(r),[4,e.storage.makeRequestWithTokens(a)];case 1:return[2,t.sent().getPromise().then((function(e){if(null===e)throw new US("no-download-url","The given file does not have any download URLs.");return e}))]}var n,r,i,o,a}))}))}function Xx(e,t){var n;n=e._location.path,t=(t=t).split("/").filter((function(e){return 0<e.length})).join("/"),t=0===n.length?t:n+"/"+t,t=new cx(e._location.bucket,t);return new Yx(e.storage,t)}function ek(e){return/^[A-Za-z]+:\/\//.test(e)}function tk(e,t){if(e instanceof ik){var n=e;if(null==n._bucket)throw new US("no-default-bucket","No default bucket found. Did you set the '"+jS+"' property when initializing the app?");return n=new Yx(n,n._bucket),null!=t?tk(n,t):n}if(void 0===t)return e;if(t.includes(".."))throw WS('`path` param cannot contain ".."');return Xx(e,t)}function nk(e,t){if(t&&ek(t)){if(e instanceof ik)return new Yx(e,t);throw WS("To use ref(service, url), the first argument must be a Storage instance.")}return tk(e,t)}function rk(e,t){return null==(t=null==t?void 0:t[jS])?null:cx.makeFromBucketSpec(t,e)}var ik=(Object.defineProperty(ok.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=cx.makeFromBucketSpec(this._url,e):this._bucket=rk(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(ok.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){vx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(ok.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){vx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),ok.prototype._getAuthToken=function(){return(0,sc.mG)(this,void 0,void 0,(function(){var e;return(0,sc.Jh)(this,(function(t){switch(t.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(e=t.sent()))return[2,e.accessToken];t.label=2;case 2:return[2,null]}}))}))},ok.prototype._getAppCheckToken=function(){return(0,sc.mG)(this,void 0,void 0,(function(){var e;return(0,sc.Jh)(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},ok.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},ok.prototype._makeStorageReference=function(e){return new Yx(this,e)},ok.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new hx(GS());var i,o,a,s,u,c,l=(i=e,o=this._appId,a=t,s=n,u=this._pool,c=this._firebaseVersion,e=yx(i.urlParams),t=i.url+e,e=n=Object.assign({},i.headers),(o=o)&&(e["X-Firebase-GMPID"]=o),o=n,null!==(a=a)&&0<a.length&&(o.Authorization="Firebase "+a),c=c,n["X-Firebase-Storage-Version"]="webjs/"+(null!=c?c:"AppManager"),c=n,null!==(s=s)&&(c["X-Firebase-AppCheck"]=s),new bx(t,i.method,n,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,u));return this._requests.add(l),l.getPromise().then((function(){return r._requests.delete(l)}),(function(){return r._requests.delete(l)})),l},ok.prototype.makeRequestWithTokens=function(e){return(0,sc.mG)(this,void 0,void 0,(function(){var t,n;return(0,sc.Jh)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=r.sent(),t=n[0],n=n[1],[2,this._makeRequest(e,t,n)]}}))}))},ok);function ok(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=FS,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?cx.makeFromBucketSpec(i,this._host):rk(this._host,this.app.options)}function ak(e,t){return nk(e=(0,uc.m9)(e),t)}var sk=(Object.defineProperty(uk.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(uk.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(uk.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(uk.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),uk);function uk(e,t,n){this._delegate=e,this.task=t,this.ref=n}var ck=(Object.defineProperty(lk.prototype,"snapshot",{get:function(){return new sk(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),lk.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new sk(t,n,n._ref))}),t)},lk.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"==typeof t?function(e){return t(new sk(e,i,i._ref))}:{next:t.next?function(e){return t.next(new sk(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},lk);function lk(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}var hk=(Object.defineProperty(fk.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new pk(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(fk.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new pk(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(fk.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),fk);function fk(e,t){this._delegate=e,this._service=t}var pk=(Object.defineProperty(dk.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(dk.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(dk.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),dk.prototype.toString=function(){return this._delegate.toString()},dk.prototype.child=function(e){return new dk(Xx(this._delegate,e),this.storage)},Object.defineProperty(dk.prototype,"root",{get:function(){return new dk(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(dk.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new dk(e,this.storage)},enumerable:!1,configurable:!0}),dk.prototype.put=function(e,t){return this._throwIfRoot("put"),new ck(function(e,t,n){return t=t,n=n,(e=e=(0,uc.m9)(e))._throwIfRoot("uploadBytesResumable"),new Kx(e,new Cx(t),n)}(this._delegate,e,t),this)},dk.prototype.putString=function(e,t,n){return void 0===t&&(t=$S.RAW),this._throwIfRoot("putString"),e=JS(t,e),null==(n=(0,sc.pi)({},n)).contentType&&null!=e.contentType&&(n.contentType=e.contentType),new ck(new Kx(this._delegate,new Cx(e.data,!0),n),this)},dk.prototype.listAll=function(){var e,t=this;return e=this._delegate,function(e){var t={prefixes:[],items:[]};return function e(t,n,r){return(0,sc.mG)(this,void 0,void 0,(function(){var i,o;return(0,sc.Jh)(this,(function(a){switch(a.label){case 0:return[4,Qx(t,{pageToken:r})];case 1:return i=a.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(o=n.items).push.apply(o,i.items),null==i.nextPageToken?[3,3]:[4,e(t,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(e,t).then((function(){return t}))}(e=(0,uc.m9)(e)).then((function(e){return new hk(e,t.storage)}))},dk.prototype.list=function(e){var t,n=this;return t=this._delegate,e=e||void 0,Qx(t=(0,uc.m9)(t),e).then((function(e){return new hk(e,n.storage)}))},dk.prototype.getMetadata=function(){return function(e){return function(e){return(0,sc.mG)(this,void 0,void 0,(function(){var t;return(0,sc.Jh)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=qx(e.storage,e._location,Ox()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=(0,uc.m9)(e))}(this._delegate)},dk.prototype.updateMetadata=function(e){return t=this._delegate,e=e,function(e,t){return(0,sc.mG)(this,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("updateMetadata"),r=e.storage,i=e._location,o=t,a=Ox(),s=gx(i.fullServerUrl(),r.host),u=Ax(o,a),o=r.maxOperationRetryTime,(o=new Mx(s,"PATCH",Fx(r,a),o)).headers={"Content-Type":"application/json; charset=utf-8"},o.body=u,o.errorHandler=Vx(i),[4,e.storage.makeRequestWithTokens(o)];case 1:return[2,n.sent().getPromise()]}var r,i,o,a,s,u}))}))}(t=(0,uc.m9)(t),e);var t},dk.prototype.getDownloadURL=function(){return e=this._delegate,Jx(e=(0,uc.m9)(e));var e},dk.prototype.delete=function(){return this._throwIfRoot("delete"),e=this._delegate,function(e){return(0,sc.mG)(this,void 0,void 0,(function(){return(0,sc.Jh)(this,(function(t){switch(t.label){case 0:return e._throwIfRoot("deleteObject"),n=e.storage,i=gx((r=e._location).fullServerUrl(),n.host),n=n.maxOperationRetryTime,(n=new Mx(i,"DELETE",(function(e,t){}),n)).successCodes=[200,204],n.errorHandler=Vx(r),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,t.sent().getPromise()]}var n,r,i}))}))}(e=(0,uc.m9)(e));var e},dk.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw KS(e)},dk);function dk(e,t){this._delegate=e,this.storage=t}var mk,vk,gk=(Object.defineProperty(yk.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(yk.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),yk.prototype.ref=function(e){if(ek(e))throw WS("ref() expected a child path but got a URL, use refFromURL instead.");return new pk(ak(this._delegate,e),this)},yk.prototype.refFromURL=function(e){if(!ek(e))throw WS("refFromURL() expected a full URL but got a child path, use ref() instead.");try{cx.makeFromUrl(e,this._delegate.host)}catch(e){throw WS("refFromUrl() expected a valid full URL but got an invalid one.")}return new pk(ak(this._delegate,e),this)},yk.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},yk.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},yk.prototype.useEmulator=function(e,t){this._delegate.host="http://"+e+":"+t},yk);function yk(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}mk=ac.Z,vk={TaskState:rx,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:$S,Storage:ik,Reference:pk},mk.INTERNAL.registerComponent(new DS.wA("storage",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate();return t=e.getProvider("auth-internal"),e=e.getProvider("app-check-internal"),new gk(r,new ik(r,t,e,new sx,n,ac.Z.SDK_VERSION))}),"PUBLIC").setServiceProps(vk).setMultipleInstances(!0)),mk.registerVersion("@firebase/storage","0.5.6");var bk={apiKey:"AIzaSyDjUJCarnJVRMGrhsdK8DKzOuqRceGou94",authDomain:"react-blog-app-dd4c0.firebaseapp.com",projectId:"react-blog-app-dd4c0",storageBucket:"react-blog-app-dd4c0.appspot.com",messagingSenderId:"552212038069",appId:"1:552212038069:web:014e7fd4baeed5b0a999fc",measurementId:"G-1VXV3YBQ9R"};const wk=new(function(){function e(){qe(this,e),ac.Z.initializeApp(bk),this.auth=ac.Z.auth(),this.database=ac.Z.database(),this.firebase=ac.Z,this.storage=ac.Z.storage()}return ze(e,[{key:"auth",value:function(){return this.auth}},{key:"database",value:function(){return this.database}},{key:"storage",value:function(){return this.storage}}]),e}()),_k=new(function(){function e(){qe(this,e),this.firebase=wk}var t,n,r,i;return ze(e,[{key:"register",value:(i=a(u().mark((function e(t,n,r){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.firebase.auth.createUserWithEmailAndPassword(n,r);case 2:return(i=e.sent).user.updateProfile({displayName:t}),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return i.apply(this,arguments)})},{key:"login",value:(r=a(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.firebase.auth.signInWithEmailAndPassword(t,n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"resetPassword",value:(n=a(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.firebase.auth.sendPasswordResetEmail(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"logOut",value:(t=a(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.firebase.auth.signOut();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"onAuthUser",value:function(){var e=this;return new Promise((function(t,n){e.firebase.auth.onAuthStateChanged((function(e){e&&t({user:e})}))}))}}]),e}());var Ek=X.Title,Ck=X.Paragraph,Tk=X.Text;const Ik=function(){var e=E(),t=ve(),n=function(){var n=a(u().mark((function n(r){var i,o;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=r.email,o=r.password,n.prev=1,n.next=4,_k.login(i,o);case 4:o=n.sent,e(k(o)),oc("success","Auth Success"),t.push("/"),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0),oc("error","Auth Error",n.t0.message);case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}();return r.createElement("section",{className:"section-auth"},r.createElement("div",{className:"container"},r.createElement(Wa,{name:"login-form",className:"auth-form",onFinish:n},r.createElement(Ek,{className:"ta-c",level:2},"Login"),r.createElement(Ck,{className:"ta-c"},r.createElement(Tk,null,"Go to ",r.createElement(Te,{to:"/",className:"text-underline"},"Home page"))),r.createElement(Ck,{className:"ta-c"},r.createElement(Tk,null,"Don't have an account? ",r.createElement(Te,{to:"/register",className:"text-underline"},"Register"))),r.createElement(Wa.Item,{className:"input-field",label:"Email",name:"email",rules:[{required:!0,message:"Please input your username!"}]},r.createElement(Ps,null)),r.createElement(Wa.Item,{className:"input-field",label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},r.createElement(Ps.Password,null)),r.createElement(Wa.Item,null,r.createElement(ms,{type:"primary",htmlType:"submit",className:"auth-form__submit"},"Login")),r.createElement(Ck,{className:"ta-c"},r.createElement(Tk,null,"Forgot password? ",r.createElement(Te,{to:"/reset-password",className:"text-underline"},"Reset password"))))))},Sk=Yn,xk=Dr;var kk=X.Title,Nk=X.Paragraph,Ok=X.Text;const Pk=function(){var e=E(),t=ve(),n=function(){var n=a(u().mark((function n(r){var i,o,a,s;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=r.name,o=r.surname,a=r.email,s=r.password,n.prev=1,n.next=4,_k.register("".concat(i," ").concat(o),a,s);case 4:s=n.sent,e(O(s)),oc("success","Registration Success"),t.push("/"),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0),oc("error","Registration Error",n.t0.message);case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}();return r.createElement("section",{className:"section-auth"},r.createElement("div",{className:"container"},r.createElement(kk,{className:"ta-c",level:2},"Register"),r.createElement(Nk,{className:"ta-c"},r.createElement(Ok,null,"Go to ",r.createElement(Te,{to:"/",className:"text-underline"},"Home page"))),r.createElement(Wa,{name:"register-form",className:"auth-form",onFinish:n},r.createElement(Nk,{className:"ta-c"},r.createElement(Ok,null,"Do you have an account? ",r.createElement(Te,{to:"/login"},"Login"))),r.createElement(Sk,{gutter:16},r.createElement(xk,{md:12},r.createElement(Wa.Item,{className:"input-field",label:"First name",name:"name",rules:[{required:!0,message:"Please input your First Name!"}]},r.createElement(Ps,null))),r.createElement(xk,{md:12},r.createElement(Wa.Item,{className:"input-field",label:"Last name",name:"surname",rules:[{required:!0,message:"Please input your Last Name!"}]},r.createElement(Ps,null))),r.createElement(xk,{span:24},r.createElement(Wa.Item,{className:"input-field",label:"Email address",name:"email",rules:[{required:!0,message:"Please input your Email!"}]},r.createElement(Ps,null))),r.createElement(xk,{span:24},r.createElement(Wa.Item,{className:"input-field",label:"Password",name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.createElement(Ps.Password,null))),r.createElement(xk,{span:24},r.createElement(Wa.Item,null,r.createElement(ms,{type:"primary",htmlType:"submit",className:"auth-form__submit"},"Register")))))))};var Ak=X.Title,Rk=X.Paragraph,Dk=X.Text;const Mk=function(){var e=ve(),t=function(){var t=a(u().mark((function t(n){var r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.email,t.prev=1,t.next=4,_k.resetPassword(r);case 4:oc("success","Link to reset password has sent on your email"),e.push("/login"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),oc("error","Reset Error",t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return r.createElement("section",{className:"section-auth"},r.createElement("div",{className:"container"},r.createElement(Ak,{className:"ta-c",level:2},"Reset Password"),r.createElement(Rk,{className:"ta-c"},r.createElement(Dk,null,"Go to ",r.createElement(Te,{to:"/",className:"text-underline"},"Home page"))),r.createElement(Wa,{name:"register-form",className:"auth-form",onFinish:t},r.createElement(Rk,{className:"ta-c"},r.createElement(Dk,null,"Don't have an account? ",r.createElement(Te,{to:"/register",className:"text-underline"},"Register"))),r.createElement(Sk,{gutter:16},r.createElement(xk,{span:24},r.createElement(Wa.Item,{className:"input-field",label:"Email",name:"email",rules:[{required:!0,message:"Please input your Email!"}]},r.createElement(Ps,null))),r.createElement(xk,{span:24},r.createElement(Wa.Item,null,r.createElement(ms,{type:"primary",htmlType:"submit",className:"auth-form__submit"},"Reset Password")))),r.createElement(Rk,{className:"ta-c"},r.createElement(Dk,null,"Do you have an account? ",r.createElement(Te,{to:"/login",className:"text-underline"},"Login"))))))},Lk=function(){return r.createElement(r.Fragment,null,r.createElement("h1",null,"Dashboard home"))};var Fk=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n},jk=r.createContext({siderHook:{addSider:function(){return null},removeSider:function(){return null}}});function Uk(e){var t=e.suffixCls,n=e.tagName,i=e.displayName;return function(e){function o(i){var o=r.useContext(pn).getPrefixCls,a=i.prefixCls;a=o(t,a);return r.createElement(e,g({prefixCls:a,tagName:n},i))}return o.displayName=i,o}}ut=function(e){var t=e.prefixCls,n=e.className,i=e.children,o=e.tagName;e=Fk(e,["prefixCls","className","children","tagName"]),n=Le()(t,n);return r.createElement(o,g({className:n},e),i)},cn=Uk({suffixCls:"layout",tagName:"section",displayName:"Layout"})((function(e){var t=r.useContext(pn).direction,n=(l=Re(r.useState([]),2))[0],i=l[1],o=e.prefixCls,a=e.className,s=e.children,u=e.hasSider,c=e.tagName,l=Fk(e,["prefixCls","className","children","hasSider","tagName"]);a=Le()(o,((0,De.Z)(e={},"".concat(o,"-has-sider"),"boolean"==typeof u?u:0<n.length),(0,De.Z)(e,"".concat(o,"-rtl"),"rtl"===t),e),a);return r.createElement(jk.Provider,{value:{siderHook:{addSider:function(e){i((function(t){return[].concat(Ve(t),[e])}))},removeSider:function(e){i((function(t){return t.filter((function(t){return t!==e}))}))}}}},r.createElement(c,g({className:a},l),s))})),s=Uk({suffixCls:"layout-header",tagName:"header",displayName:"Header"})(ut),Me=Uk({suffixCls:"layout-footer",tagName:"footer",displayName:"Footer"})(ut),X=Uk({suffixCls:"layout-content",tagName:"main",displayName:"Content"})(ut),ut=cn;const Vk={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"};(cn=function(e,t){return r.createElement(Pr,Object.assign({},e,{ref:t,icon:Vk}))}).displayName="BarsOutlined";const qk=r.forwardRef(cn),Bk={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};(cn=function(e,t){return r.createElement(Pr,Object.assign({},e,{ref:t,icon:Bk}))}).displayName="RightOutlined";const zk=r.forwardRef(cn),Hk={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};(cn=function(e,t){return r.createElement(Pr,Object.assign({},e,{ref:t,icon:Hk}))}).displayName="LeftOutlined";const Wk=r.forwardRef(cn);var Gk,Kk={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},Zk=r.createContext({}),Yk=(Gk=0,function(){return Gk+=1,"".concat(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").concat(Gk)});(cn=r.forwardRef((function(e,t){var n,i=e.prefixCls,o=e.className,a=e.trigger,s=e.children,u=void 0!==(n=e.defaultCollapsed)&&n,c=void 0===(n=e.theme)?"dark":n,l=void 0===(n=e.style)?{}:n,h=void 0!==(n=e.collapsible)&&n,f=void 0!==(n=e.reverseArrow)&&n,p=void 0===(n=e.width)?200:n,d=void 0===(n=e.collapsedWidth)?80:n,m=e.zeroWidthTriggerStyle,v=e.breakpoint,y=e.onCollapse,b=e.onBreakpoint,w=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),_=(0,r.useContext)(jk).siderHook,E=(u=Re((0,r.useState)("collapsed"in w?w.collapsed:u),2))[0],C=u[1],T=(u=Re((0,r.useState)(!1),2))[0],I=u[1];function S(e,t){"collapsed"in w||C(e),null!=y&&y(e,t)}(0,r.useEffect)((function(){"collapsed"in w&&C(w.collapsed)}),[w.collapsed]);var x=(0,r.useRef)();function k(){S(!E,"clickTrigger")}x.current=function(e){I(e.matches),null!=b&&b(e.matches),E!==e.matches&&S(e.matches,"responsive")},(0,r.useEffect)((function(){function e(e){return x.current(e)}var t;if("undefined"!=typeof window){var n=window.matchMedia;if(n&&v&&v in Kk){t=n("(max-width: ".concat(Kk[v],")"));try{t.addEventListener("change",e)}catch(n){t.addListener(e)}e(t)}}return function(){try{null!=t&&t.removeEventListener("change",e)}catch(n){null!=t&&t.removeListener(e)}}}),[]),(0,r.useEffect)((function(){var e=Yk("ant-sider-");return _.addSider(e),function(){return _.removeSider(e)}}),[]);var N,O,P,A,R,D,M,L=(0,r.useContext)(pn).getPrefixCls;return r.createElement(Zk.Provider,{value:{siderCollapsed:E}},(N=L("layout-sider",i),O=vn(w,["collapsed"]),A=function(e){return!isNaN(parseFloat(e))&&isFinite(e)}(P=E?d:p)?"".concat(P,"px"):String(P),R=0===parseFloat(String(d||0))?r.createElement("span",{onClick:k,className:Le()("".concat(N,"-zero-width-trigger"),"".concat(N,"-zero-width-trigger-").concat(f?"right":"left")),style:m},a||r.createElement(qk,null)):null,D={expanded:f?r.createElement(zk,null):r.createElement(Wk,null),collapsed:f?r.createElement(Wk,null):r.createElement(zk,null)}[E?"collapsed":"expanded"],M=null!==a?R||r.createElement("div",{className:"".concat(N,"-trigger"),onClick:k,style:{width:A}},a||D):null,P=g(g({},l),{flex:"0 0 ".concat(A),maxWidth:A,minWidth:A,width:A}),D=Le()(N,"".concat(N,"-").concat(c),((0,De.Z)(D={},"".concat(N,"-collapsed"),!!E),(0,De.Z)(D,"".concat(N,"-has-trigger"),h&&null!==a&&!R),(0,De.Z)(D,"".concat(N,"-below"),!!T),(0,De.Z)(D,"".concat(N,"-zero-width"),0===parseFloat(A)),D),o),r.createElement("aside",g({className:D},O,{style:P,ref:t}),r.createElement("div",{className:"".concat(N,"-children")},s),h||T&&R?M:null)))}))).displayName="Sider",ut.Header=s,ut.Footer=Me,ut.Content=X,ut.Sider=cn;var $k=(s=ut).Content;const Qk=function(e){return r.createElement(r.Fragment,null,r.createElement($k,{className:"main"},e.children))};Me=n(6774);var Jk=n.n(Me),Xk=void 0;(X=r.forwardRef((function(e,t){var n,i=e.prefixCls,o=e.invalidate,a=e.item,s=e.renderItem,u=e.responsive,c=e.registerSize,l=e.itemKey,h=e.className,f=e.style,p=e.children,d=e.display,m=e.order,v=void 0===(v=e.component)?"div":v;function y(e){c(l,e)}return e=Fe(e,["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","className","style","children","display","order","component"]),d=u&&!d,r.useEffect((function(){return function(){y(null)}}),[]),p=s&&a!==Xk?s(a):p,o||(n={opacity:d?0:1,height:d?0:Xk,overflowY:d?"hidden":Xk,order:u?m:Xk,pointerEvents:d?"none":Xk,position:d?"absolute":Xk}),m={},d&&(m["aria-hidden"]=!0),p=r.createElement(v,g({className:Le()(!o&&i,h),style:(0,je.Z)((0,je.Z)({},n),f)},m,e,{ref:t}),p),u?r.createElement(vs,{onResize:function(e){y(e.offsetWidth)}},p):p}))).displayName="Item";const eN=X;cn=function(e,t){var n=r.useContext(tN);if(!n){var i=void 0===(o=e.component)?"div":o,o=Fe(e,["component"]);return r.createElement(i,g({},o,{ref:t}))}return i=n.className,o=Fe(n,["className"]),n=e.className,e=Fe(e,["className"]),r.createElement(tN.Provider,{value:null},r.createElement(eN,g({ref:t,className:Le()(i,n)},o,e)))},(ut=r.forwardRef(cn)).displayName="RawItem";Me=ut;var tN=r.createContext(null),nN="responsive",rN="invalidate";function iN(e){return"+ ".concat(e.length," ...")}(X=r.forwardRef((function(e,t){var n=void 0===(_=e.prefixCls)?"rc-overflow":_,i=void 0===(j=e.data)?[]:j,o=e.renderItem,a=e.renderRawItem,s=e.itemKey,u=void 0===(V=e.itemWidth)?10:V,c=e.ssr,l=e.style,h=e.className,f=e.maxCount,p=e.renderRest,d=e.renderRawRest,m=e.suffix,v=void 0===(R=e.component)?"div":R,y=e.itemComponent,b=e.onVisibleChange,w=Fe(e,["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"]),_=function(){var e=Re((0,r.useState)({}),2)[1],t=(0,r.useRef)([]),n=(0,r.useRef)(!1),i=0,o=0;return(0,r.useEffect)((function(){return function(){n.current=!0}}),[]),function(r){var a=i;return i+=1,t.current.length<a+1&&(t.current[a]=r),[t.current[a],function(r){t.current[a]="function"==typeof r?r(t.current[a]):r,Vr.cancel(o),o=Vr((function(){n.current||e({})}))}]}}(),E="full"===c,C=(j=Re(_(null),2))[0],T=j[1],I=C||0,S=(V=Re(_(new Map),2))[0],x=V[1],k=(e=(R=Re(_(0),2))[0],R[1]),N=(c=Re(_(0),2))[0],O=c[1],P=(j=Re(_(0),2))[0],A=j[1],R=(V=Re((0,r.useState)(null),2))[0],D=V[1],M=(c=Re((0,r.useState)(null),2))[0],L=c[1],F=r.useMemo((function(){return null===M&&E?Number.MAX_SAFE_INTEGER:M||0}),[M,C]),j=(_=Re((0,r.useState)(!1),2))[0],U=_[1],V="".concat(n,"-item"),q=Math.max(e,N),B=i.length&&f===nN,z=(c=f===rN,_=B||"number"==typeof f&&i.length>f,(0,r.useMemo)((function(){var e=i;return B?e=null===C&&E?i:i.slice(0,Math.min(i.length,I/u)):"number"==typeof f&&(e=i.slice(0,f)),e}),[i,u,C,f,B])),H=(e=(0,r.useMemo)((function(){return B?i.slice(F+1):i.slice(z.length)}),[i,z,B,F]),(0,r.useCallback)((function(e,t){return"function"==typeof s?s(e):null!==(e=s&&(null==e?void 0:e[s]))&&void 0!==e?e:t}),[s])),W=(0,r.useCallback)(o||function(e){return e},[o]);function G(e,t){L(e),t||(U(e<i.length-1),null!=b&&b(e))}function K(e,t){x((function(n){return n=new Map(n),null===t?n.delete(e):n.set(e,t),n}))}function Z(e){return S.get(H(z[e],e))}r.useLayoutEffect((function(){if(I&&q&&z){var e=P,t=z.length,n=t-1;if(!t)return G(0),void D(null);for(var r=0;r<t;r+=1){var i=Z(r);if(void 0===i){G(r-1,!0);break}if(e+=i,0==n&&e<=I||r===n-1&&e+Z(n)<=I){G(n),D(null);break}if(I<e+q){G(r-1),D(e-i-P+N);break}}m&&Z(0)+P>I&&D(null)}}),[I,S,N,P,H,z]),o=j&&!!e.length,j={},null!==R&&B&&(j={position:"absolute",left:R,top:0});var Y,$={prefixCls:V,responsive:B,component:y,invalidate:c};return y=a?function(e,t){var n=H(e,t);return r.createElement(tN.Provider,{key:n,value:(0,je.Z)((0,je.Z)({},$),{},{order:t,item:e,itemKey:n,registerSize:K,display:t<=F})},a(e,t))}:function(e,t){var n=H(e,t);return r.createElement(eN,g({},$,{order:t,key:n,item:e,renderItem:W,itemKey:n,registerSize:K,display:t<=F}))},o={order:o?F:Number.MAX_SAFE_INTEGER,className:"".concat(V,"-rest"),registerSize:function(e,t){O(t),k(N)},display:o},d?d&&(Y=r.createElement(tN.Provider,{value:(0,je.Z)((0,je.Z)({},$),o)},d(e))):(p=p||iN,Y=r.createElement(eN,g({},$,o),"function"==typeof p?p(e):p)),j=r.createElement(v,g({className:Le()(!c&&n,h),style:l,ref:t},w),z.map(y),_?Y:null,m&&r.createElement(eN,g({},$,{order:F,className:"".concat(V,"-suffix"),registerSize:function(e,t){A(t)},display:!0,style:j}),m)),B?r.createElement(vs,{onResize:function(e,t){T(t.clientWidth)}},j):j}))).displayName="Overflow",X.Item=Me,X.RESPONSIVE=nN,X.INVALIDATE=rN;const oN=X;var aN=r.createContext(null);function sN(e){var t=e.children,n=e.locked,i=Fe(e,["children","locked"]),o=r.useContext(aN);e=Fa((function(){return e=i,t=(0,je.Z)({},o),Object.keys(e).forEach((function(n){var r=e[n];void 0!==r&&(t[n]=r)})),t;var e,t}),[o,i],(function(e,t){return!(n||e[0]===t[0]&&Jk()(e[1],t[1]))}));return r.createElement(aN.Provider,{value:e},t)}function uN(e,t,n,i){var o=r.useContext(aN),a=o.activeKey,s=o.onActive,u=o.onInactive;a={active:a===e};return t||(a.onMouseEnter=function(t){null!=n&&n({key:e,domEvent:t}),s(e)},a.onMouseLeave=function(t){null!=i&&i({key:e,domEvent:t}),u(e)}),a}function cN(e){var t=e.item;e=Fe(e,["item"]);return Object.defineProperty(e,"item",{get:function(){return Qe(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),e}function lN(e){var t=e.icon,n=e.props;e=e.children;return(t="function"==typeof t?r.createElement(t,(0,je.Z)({},n)):t)||e||null}function hN(e){var t=(i=r.useContext(aN)).mode,n=i.rtl,i=i.inlineIndent;return"inline"!==t?null:n?{paddingRight:e*i}:{paddingLeft:e*i}}var fN=r.createContext(null);function pN(){return r.useContext(fN)}var dN=r.createContext([]);function mN(e){var t=r.useContext(dN);return r.useMemo((function(){return void 0!==e?[].concat(Ve(t),[e]):t}),[t,e])}var vN=r.createContext(null),gN=r.createContext(null);function yN(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function bN(e){return yN(r.useContext(gN),e)}function wN(e){var t=e.style,n=e.className,i=e.eventKey,o=(e.warnKey,e.disabled),a=e.itemIcon,s=e.children,u=e.role,c=e.onMouseEnter,l=e.onMouseLeave,h=e.onClick,f=e.onKeyDown,p=e.onFocus,d=Fe(e,["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"]),m=bN(i),v=(T=r.useContext(aN)).prefixCls,y=T.onItemClick,b=T.disabled,w=T.overflowDisabled,_=T.itemIcon,E=T.selectedKeys,C=T.onActive,T="".concat(v,"-item"),I=r.useRef(),S=(v=r.useRef(),b||o),x=mN(i);function k(e){return{key:i,keyPath:Ve(x).reverse(),item:I.current,domEvent:e}}return b=a||_,_=(a=uN(i,S,c,l)).active,c=Fe(a,["active"]),l=E.includes(i),a=hN(x.length),E={},"option"===e.role&&(E["aria-selected"]=l),r.createElement(_N,g({ref:I,elementRef:v,role:null===u?"none":u||"menuitem",tabIndex:o?null:-1,"data-menu-id":w&&m?null:m},d,c,E,{component:"li","aria-disabled":o,style:(0,je.Z)((0,je.Z)({},a),t),className:Le()(T,((0,De.Z)(t={},"".concat(T,"-active"),_),(0,De.Z)(t,"".concat(T,"-selected"),l),(0,De.Z)(t,"".concat(T,"-disabled"),S),t),n),onClick:function(e){S||(e=k(e),null!=h&&h(cN(e)),y(e))},onKeyDown:function(e){null!=f&&f(e),e.which===Wu.ENTER&&(e=k(e),null!=h&&h(cN(e)),y(e))},onFocus:function(e){C(i),null!=p&&p(e)}}),s,r.createElement(lN,{props:(0,je.Z)((0,je.Z)({},e),{},{isSelected:l}),icon:b}))}var _N=function(){We(t,r.Component);var e=Ke(t);function t(){return qe(this,t),e.apply(this,arguments)}return ze(t,[{key:"render",value:function(){var e=(i=this.props).title,t=i.attribute,n=i.elementRef,i=vn(Fe(i,["title","attribute","elementRef"]),["eventKey"]);return Qe(!t,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),r.createElement(oN.Item,g({},t,{title:"string"==typeof e?e:void 0},i,{ref:n}))}}]),t}();const EN=function(e){var t=e.eventKey,n=pN(),i=mN(t);return r.useEffect((function(){if(n)return n.registerPath(t,i),function(){n.unregisterPath(t,i)}}),[i]),n?null:r.createElement(wN,e)};function CN(e,t){return Ze(e).map((function(e,n){if(r.isValidElement(e)){var i,o=e.key;return null==(o=null!==(i=null===(i=e.props)||void 0===i?void 0:i.eventKey)&&void 0!==i?i:o)&&(o="tmp_key-".concat([].concat(Ve(t),[n]).join("-"))),r.cloneElement(e,{key:o,eventKey:o})}return e}))}function TN(e){var t=r.useRef(e);t.current=e;var n=r.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return e?n:void 0}cn=function(e,t){var n=e.className,i=e.children,o=Fe(e,["className","children"]),a=(e=(a=r.useContext(aN)).prefixCls,a.mode);return r.createElement("ul",g({className:Le()(e,"".concat(e,"-sub"),"".concat(e,"-").concat("inline"===a?"inline":"vertical"),n)},o,{"data-menu-list":!0,ref:t}),i)},(ut=r.forwardRef(cn)).displayName="SubMenuList";const IN=ut;var SN={topLeft:{points:["bl","tl"],overflow:Me={adjustX:1,adjustY:1},offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Me,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:Me,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:Me,offset:[4,0]}},xN={topLeft:{points:["bl","tl"],overflow:Me,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Me,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:Me,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:Me,offset:[4,0]}};function kN(e,t,n){return t||(n?n[e]||n.other:void 0)}var NN={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function ON(e){var t=e.prefixCls,n=e.visible,i=e.children,o=e.popup,a=e.popupClassName,s=e.popupOffset,u=e.disabled,c=e.mode,l=e.onVisibleChange,h=(w=r.useContext(aN)).getPopupContainer,f=w.rtl,p=w.subMenuOpenDelay,d=w.subMenuCloseDelay,m=w.builtinPlacements,v=w.triggerSubMenuAction,g=w.forceSubMenuRender,y=w.motion,b=w.defaultMotions,w=(e=Re(r.useState(!1),2))[0],_=e[1],E=(e=f?(0,je.Z)((0,je.Z)({},xN),m):(0,je.Z)((0,je.Z)({},SN),m),m=NN[c],b=kN(c,y,b),b=(0,je.Z)((0,je.Z)({},b),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),r.useRef());return r.useEffect((function(){return E.current=Vr((function(){_(n)})),function(){Vr.cancel(E.current)}}),[n]),r.createElement(va,{prefixCls:t,popupClassName:Le()("".concat(t,"-popup"),(0,De.Z)({},"".concat(t,"-rtl"),f),a),stretch:"horizontal"===c?"minWidth":null,getPopupContainer:h,builtinPlacements:e,popupPlacement:m,popupVisible:w,popup:o,popupAlign:s&&{offset:s},action:u?[]:[v],mouseEnterDelay:p,mouseLeaveDelay:d,onPopupVisibleChange:l,forceRender:g,popupMotion:b},i)}function PN(e){var t=e.id,n=e.open,i=e.keyPath,o=e.children,a="inline",s=(p=r.useContext(aN)).prefixCls,u=p.forceSubMenuRender,c=p.motion,l=p.defaultMotions,h=p.mode,f=r.useRef(!1);f.current=h===a;var p=(e=Re(r.useState(!f.current),2))[0],d=e[1];n=!!f.current&&n;r.useEffect((function(){f.current&&d(!1)}),[h]),l=(0,je.Z)({},kN(a,c,l)),1<i.length&&(l.motionAppear=!1);var m=l.onVisibleChanged;return l.onVisibleChanged=function(e){return f.current||e||d(!0),null==m?void 0:m(e)},p?null:r.createElement(sN,{mode:a,locked:!f.current},r.createElement(ki,g({visible:n},l,{forceRender:u,removeOnLeave:!1,leavedClassName:"".concat(s,"-hidden")}),(function(e){var n=e.className;e=e.style;return r.createElement(IN,{id:t,className:n,style:e},o)})))}var AN=function(e){var t=e.style,n=e.className,i=e.title,o=e.eventKey,a=(e.warnKey,e.disabled),s=e.internalPopupClose,u=e.children,c=e.itemIcon,l=e.expandIcon,h=e.popupClassName,f=e.popupOffset,p=e.onClick,d=e.onMouseEnter,m=e.onMouseLeave,v=e.onTitleClick,y=e.onTitleMouseEnter,b=e.onTitleMouseLeave,w=Fe(e,["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"]),_=bN(o),E=(L=r.useContext(aN)).prefixCls,C=L.mode,T=L.openKeys,I=L.disabled,S=L.overflowDisabled,x=L.activeKey,k=L.selectedKeys,N=L.itemIcon,O=L.expandIcon,P=L.onItemClick,A=L.onOpenChange,R=L.onActive,D=r.useContext(vN).isSubPathKey,M=mN(),L="".concat(E,"-submenu"),F=I||a;E=r.useRef(),I=r.useRef();function j(e){F||B(e)}a=c||N,c=l||O;var U=T.includes(o),V=(N=!S&&U,l=D(k,o),(O=uN(o,F,y,b)).active),q=(T=Fe(O,["active"]),(k=Re(r.useState(!1),2))[0]),B=k[1];y=r.useMemo((function(){return V||"inline"!==C&&(q||D([x],o))}),[C,V,x,q,o,D]),b=hN(M.length),O=TN((function(e){null!=p&&p(cN(e)),P(e)})),k=_&&"".concat(_,"-popup"),i=r.createElement("div",g({role:"menuitem",style:b,className:"".concat(L,"-title"),tabIndex:F?null:-1,ref:E,title:"string"==typeof i?i:null,"data-menu-id":S&&_?null:_,"aria-expanded":N,"aria-haspopup":!0,"aria-controls":k,"aria-disabled":F,onClick:function(e){F||(null!=v&&v({key:o,domEvent:e}),"inline"===C&&A(o,!U))},onFocus:function(){R(o)}},T),i,r.createElement(lN,{icon:"horizontal"!==C?c:null,props:(0,je.Z)((0,je.Z)({},e),{},{isOpen:N,isSubMenu:!0})},r.createElement("i",{className:"".concat(L,"-arrow")}))),e=r.useRef(C);return"inline"!==C&&(e.current=1<M.length?"vertical":C),S||(e=e.current,i=r.createElement(ON,{mode:e,prefixCls:L,visible:!s&&N&&"inline"!==C,popupClassName:h,popupOffset:f,popup:r.createElement(sN,{mode:"horizontal"===e?"vertical":e},r.createElement(IN,{id:k,ref:I},u)),disabled:F,onVisibleChange:function(e){"inline"!==C&&A(o,e)}},i)),r.createElement(sN,{onItemClick:O,mode:"horizontal"===C?"vertical":C,itemIcon:a,expandIcon:c},r.createElement(oN.Item,g({role:"none"},w,{component:"li",style:t,className:Le()(L,"".concat(L,"-").concat(C),n,((0,De.Z)(n={},"".concat(L,"-open"),N),(0,De.Z)(n,"".concat(L,"-active"),y),(0,De.Z)(n,"".concat(L,"-selected"),l),(0,De.Z)(n,"".concat(L,"-disabled"),F),n)),onMouseEnter:function(e){j(!0),null!=d&&d({key:o,domEvent:e})},onMouseLeave:function(e){j(!1),null!=m&&m({key:o,domEvent:e})}}),i,!S&&r.createElement(PN,{id:k,open:N,keyPath:M},u)))};function RN(e){var t=e.eventKey,n=e.children,i=mN(t),o=(n=CN(n,i),pN());return r.useEffect((function(){if(o)return o.registerPath(t,i),function(){o.unregisterPath(t,i)}}),[i]),r.createElement(dN.Provider,{value:i},o?n:r.createElement(AN,e,n))}function DN(e,t){var n=1<arguments.length&&void 0!==t&&t;if(Pi(e)){var r=e.nodeName.toLowerCase(),i=["input","select","textarea","button"].includes(r)||e.isContentEditable||"a"===r&&!!e.getAttribute("href"),o=e.getAttribute("tabindex");t=Number(o),r=null;return o&&!Number.isNaN(t)?r=t:i&&null===r&&(r=0),null!==(r=i&&e.disabled?null:r)&&(0<=r||n&&r<0)}return!1}function MN(e,t){var n=1<arguments.length&&void 0!==t&&t;t=Ve(e.querySelectorAll("*")).filter((function(e){return DN(e,n)}));return DN(e,n)&&t.unshift(e),t}var LN=Wu.LEFT,FN=Wu.RIGHT,jN=Wu.UP,UN=Wu.DOWN,VN=Wu.ENTER,qN=Wu.ESC,BN=[jN,UN,LN,FN];function zN(e,t,n,r){var i=3<arguments.length&&void 0!==r?r:1;if(!e)return null;var o;t=(r=(o=t,MN(e,!0).filter((function(e){return o.has(e)})))).length,e=r.findIndex((function(e){return n===e}));return i<0?-1===e?e=t-1:--e:0<i&&(e+=1),r[e=(e+t)%t]}var HN=Math.random().toFixed(5).toString().slice(2),WN=0;function GN(e){return e.join(KN)}var KN="__RC_UTIL_PATH_SPLIT__",ZN="rc-menu-more";function YN(e){var t=e.className,n=e.title,i=(e.eventKey,e.children),o=Fe(e,["className","title","eventKey","children"]);e=r.useContext(aN).prefixCls,e="".concat(e,"-item-group");return r.createElement("li",g({},o,{onClick:function(e){return e.stopPropagation()},className:Le()(e,t)}),r.createElement("div",{className:"".concat(e,"-title"),title:"string"==typeof n?n:void 0},n),r.createElement("ul",{className:"".concat(e,"-list")},i))}var $N=[];function QN(e){var t=CN(t=e.children,mN((e=Fe(e,["children"])).eventKey));return pN()?t:r.createElement(YN,e,t)}function JN(e){var t=e.className,n=e.style;e=r.useContext(aN).prefixCls;return pN()?null:r.createElement("li",{className:Le()("".concat(e,"-item-divider"),t),style:n})}var XN=mN;(X=function(e){var t,n=void 0===(D=e.prefixCls)?"rc-menu":D,i=e.style,o=e.className,a=void 0===(K=e.tabIndex)?0:K,s=e.children,u=e.direction,c=e.id,l=void 0===(L=e.mode)?"vertical":L,h=e.inlineCollapsed,f=e.disabled,p=e.disabledOverflow,d=void 0===(U=e.subMenuOpenDelay)?.1:U,m=void 0===(V=e.subMenuCloseDelay)?.1:V,v=e.forceSubMenuRender,y=e.defaultOpenKeys,b=e.openKeys,w=e.activeKey,_=e.defaultActiveFirst,E=void 0===(se=e.selectable)||se,C=void 0!==(B=e.multiple)&&B,T=e.defaultSelectedKeys,I=e.selectedKeys,S=e.onSelect,x=e.onDeselect,k=void 0===(H=e.inlineIndent)?24:H,N=e.motion,O=e.defaultMotions,P=void 0===(ce=e.triggerSubMenuAction)?"hover":ce,A=e.builtinPlacements,R=e.itemIcon,D=e.expandIcon,M=void 0===(K=e.overflowedIndicator)?"...":K,L=e.getPopupContainer,F=e.onClick,j=e.onOpenChange,U=e.onKeyDown,V=(e.openAnimation,e.openTransitionName,Fe(e,["prefixCls","style","className","tabIndex","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName"])),q=CN(s,$N),B=(se=Re(r.useState(!1),2))[0],z=se[1],H=r.useRef();ce=(K=Re(wa(ce=c,{value:ce}),2))[0],t=K[1],r.useEffect((function(){WN+=1;var e="".concat(HN,"-").concat(WN);t("rc-menu-uuid-".concat(e))}),[]),e=ce,s="rtl"===u;function W(e){J(e),null!=j&&j(e)}var G=(se=Re(r.useMemo((function(){return"inline"!==l&&"vertical"!==l||!h?[l,!1]:["vertical",h]}),[l,h]),2))[0],K=se[1],Z=(ce=Re(r.useState(0),2))[0],Y=ce[1],$=Z>=q.length-1||"horizontal"!==G||p,Q=(se=Re(wa(y,{value:b,postState:function(e){return e||$N}}),2))[0],J=se[1],X=(ce=Re(r.useState(Q),2))[0],ee=ce[1],te="inline"===G,ne=r.useRef(!1);r.useEffect((function(){te&&ee(Q)}),[Q]),r.useEffect((function(){ne.current?te?J(X):W($N):ne.current=!0}),[te]);var re=(y=function(){var e=Re(r.useState({}),2)[1],t=(0,r.useRef)(new Map),n=(0,r.useRef)(new Map),i=(p=Re(r.useState([]),2))[0],o=p[1],a=(0,r.useRef)(0),s=(0,r.useRef)(!1),u=(0,r.useCallback)((function(r,i){i=GN(i),n.current.set(i,r),t.current.set(r,i),a.current+=1;var o=a.current;i=function(){o===a.current&&(s.current||e({}))},Promise.resolve().then(i)}),[]),c=(0,r.useCallback)((function(e,r){r=GN(r),n.current.delete(r),t.current.delete(e)}),[]),l=(0,r.useCallback)((function(e){o(e)}),[]),h=(0,r.useCallback)((function(e,n){return e=(t.current.get(e)||"").split(KN),n&&i.includes(e[0])&&e.unshift(ZN),e}),[i]),f=(0,r.useCallback)((function(e,t){return e.some((function(e){return h(e,!0).includes(t)}))}),[h]),p=(0,r.useCallback)((function(e){var r="".concat(t.current.get(e)).concat(KN),i=new Set;return Ve(n.current.keys()).forEach((function(e){e.startsWith(r)&&i.add(n.current.get(e))})),i}),[]);return r.useEffect((function(){return function(){s.current=!0}}),[]),{registerPath:u,unregisterPath:c,refreshOverflowKeys:l,isSubPathKey:f,getKeyPath:h,getKeys:function(){var e=Ve(t.current.keys());return i.length&&e.push(ZN),e},getSubPathKeys:p}}()).registerPath,ie=y.unregisterPath,oe=y.refreshOverflowKeys,ae=y.isSubPathKey,se=(b=y.getKeyPath,y.getKeys),ue=y.getSubPathKeys,ce=r.useMemo((function(){return{registerPath:re,unregisterPath:ie}}),[re,ie]);y=r.useMemo((function(){return{isSubPathKey:ae}}),[ae]);r.useEffect((function(){oe($?$N:q.slice(Z+1).map((function(e){return e.key})))}),[Z,$]);var le=(_=Re(wa(w||_&&(null===(le=q[0])||void 0===le?void 0:le.key),{value:w}),2))[0],he=_[1],fe=(w=TN((function(e){he(e)})),_=TN((function(){he(void 0)})),(I=Re(wa(T||[],{value:I,postState:function(e){return Array.isArray(e)?e:null==e?$N:[e]}}),2))[0]),pe=I[1],de=(I=TN((function(e){var t,n,r;null!=F&&F(cN(e)),t=e,E&&(n=t.key,r=fe.includes(n),e=C?r?fe.filter((function(e){return e!==n})):[].concat(Ve(fe),[n]):[n],pe(e),e=(0,je.Z)((0,je.Z)({},t),{},{selectedKeys:e}),r?null!=x&&x(e):null!=S&&S(e)),!C&&Q.length&&"inline"!==G&&W($N)})),TN((function(e,t){var n,r=Q.filter((function(t){return t!==e}));t?r.push(e):"inline"!==G&&(n=ue(e),r=r.filter((function(e){return!n.has(e)}))),Jk()(Q,r)||W(r)})));L=TN(L),b=function(e,t,n,i,o,a,s,u,c,l){var h=r.useRef(),f=r.useRef();function p(){Vr.cancel(h.current)}return f.current=t,r.useEffect((function(){return function(){p()}}),[]),function(r){var d=r.which;if([].concat(BN,[VN,qN]).includes(d)){var m,v,g,y=function(){return m=new Set,v=new Map,g=new Map,a().forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(yN(i,e),"']"));t&&(m.add(t),g.set(t,e),v.set(e,t))})),m};y();var b=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(v.get(t),m),w=g.get(b),_=function(e,t,n,r){var i="prev",o="next",a="children",s="parent";if("inline"===e&&r===VN)return{inlineTrigger:!0};var u=((0,De.Z)(c={},jN,i),(0,De.Z)(c,UN,o),c),c=((0,De.Z)(l={},LN,n?o:i),(0,De.Z)(l,FN,n?i:o),(0,De.Z)(l,UN,a),(0,De.Z)(l,VN,a),l),l=((0,De.Z)(l={},jN,i),(0,De.Z)(l,UN,o),(0,De.Z)(l,VN,a),(0,De.Z)(l,qN,s),(0,De.Z)(l,LN,n?a:s),(0,De.Z)(l,FN,n?s:a),l);switch(null===(t={inline:u,horizontal:c,vertical:l,inlineSub:u,horizontalSub:l,verticalSub:l}["".concat(e).concat(t?"":"Sub")])||void 0===t?void 0:t[r]){case i:return{offset:-1,sibling:!0};case o:return{offset:1,sibling:!0};case s:return{offset:-1,sibling:!1};case a:return{offset:1,sibling:!1};default:return null}}(e,1===s(w,!0).length,n,d);if(!_)return;BN.includes(d)&&r.preventDefault();var E=function(e){var t,n,r;e&&(null!=(n=(t=e).querySelector("a"))&&n.getAttribute("href")&&(t=n),r=g.get(e),u(r),p(),h.current=Vr((function(){f.current===r&&t.focus()})))};_.sibling||!b?(d=zN(b&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(b):o.current,m,b,_.offset),E(d)):_.inlineTrigger?c(w):0<_.offset?(c(w,!0),p(),h.current=Vr((function(){y();var e=b.getAttribute("aria-controls");e=zN(document.getElementById(e),m),E(e)}),5)):_.offset<0&&(w=(_=s(w,!0))[_.length-2],_=v.get(w),c(w,!1),E(_))}null!=l&&l(r)}}(G,le,s,e,H,se,b,he,(function(e,t){t=null!=t?t:!Q.includes(e),de(e,t)}),U);return r.useEffect((function(){z(!0)}),[]),U="horizontal"!==G||p?q:q.map((function(e,t){return r.createElement(sN,{key:e.key,overflowDisabled:Z<t},e)})),V=r.createElement(oN,g({id:c,ref:H,prefixCls:"".concat(n,"-overflow"),component:"ul",itemComponent:EN,className:Le()(n,"".concat(n,"-root"),"".concat(n,"-").concat(G),o,((0,De.Z)(o={},"".concat(n,"-inline-collapsed"),K),(0,De.Z)(o,"".concat(n,"-rtl"),s),o)),dir:u,style:i,role:"menu",tabIndex:a,data:U,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length;e=t?q.slice(-t):null;return r.createElement(RN,{eventKey:ZN,title:M,disabled:$,internalPopupClose:0===t},e)},maxCount:"horizontal"!==G||p?oN.INVALIDATE:oN.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){Y(e)},onKeyDown:b},V)),r.createElement(gN.Provider,{value:e},r.createElement(sN,{prefixCls:n,mode:G,openKeys:Q,rtl:s,disabled:f,motion:B?N:null,defaultMotions:B?O:null,activeKey:le,onActive:w,onInactive:_,selectedKeys:fe,inlineIndent:k,subMenuOpenDelay:d,subMenuCloseDelay:m,forceSubMenuRender:v,builtinPlacements:A,triggerSubMenuAction:P,getPopupContainer:L,itemIcon:R,expandIcon:D,onItemClick:I,onOpenChange:de},r.createElement(vN.Provider,{value:y},V),r.createElement("div",{style:{display:"none"},"aria-hidden":!0},r.createElement(fN.Provider,{value:ce},q))))}).Item=EN,X.SubMenu=RN,X.ItemGroup=QN,X.Divider=JN;const eO=X,tO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};(cn=function(e,t){return r.createElement(Pr,Object.assign({},e,{ref:t,icon:tO}))}).displayName="EllipsisOutlined";const nO=r.forwardRef(cn),rO=(0,r.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});ut=function(e){var t,n=e.popupClassName,i=e.icon,o=e.title,a=r.useContext(rO),s=a.prefixCls,u=a.inlineCollapsed,c=a.antdMenuTheme,l=XN();return o=i?(t=Ia(o)&&"span"===o.type,r.createElement(r.Fragment,null,Sa(i,{className:Le()(Ia(i)?null===(i=i.props)||void 0===i?void 0:i.className:"","".concat(s,"-item-icon"))}),t?o:r.createElement("span",{className:"".concat(s,"-title-content")},o))):u&&!l.length&&o&&"string"==typeof o?r.createElement("div",{className:"".concat(s,"-inline-collapsed-noicon")},o.charAt(0)):r.createElement("span",{className:"".concat(s,"-title-content")},o),r.createElement(rO.Provider,{value:g(g({},a),{firstLevel:!1})},r.createElement(RN,g({},vn(e,["icon"]),{title:o,popupClassName:Le()(s,"".concat(s,"-").concat(c),n)})))};var iO=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n};(Me=function(){We(t,r.Component);var e=Ke(t);function t(){var n;return qe(this,t),(n=e.apply(this,arguments)).renderItem=function(e){var t=e.siderCollapsed,i=(h=n.context).prefixCls,o=h.firstLevel,a=h.inlineCollapsed,s=h.direction,u=(f=n.props).className,c=f.children,l=(p=n.props).title,h=(e=p.icon,p.danger),f=iO(p,["title","icon","danger"]),p=l;return void 0===l?p=o?c:"":!1===l&&(p=""),p={title:p},t||a||(p.title=null,p.visible=!1),c=Ze(c).length,r.createElement(Na,g({},p,{placement:"rtl"===s?"left":"right",overlayClassName:"".concat(i,"-inline-collapsed-tooltip")}),r.createElement(EN,g({},f,{className:Le()(((0,De.Z)(f={},"".concat(i,"-item-danger"),h),(0,De.Z)(f,"".concat(i,"-item-only-child"),1===(e?c+1:c)),f),u),title:"string"==typeof l?l:void 0}),Sa(e,{className:Le()(Ia(e)?null===(e=e.props)||void 0===e?void 0:e.className:"","".concat(i,"-item-icon"))}),n.renderItemChildren(a)))},n}return ze(t,[{key:"renderItemChildren",value:function(e){var t=(o=this.context).prefixCls,n=o.firstLevel,i=(a=this.props).icon,o=a.children,a=r.createElement("span",{className:"".concat(t,"-title-content")},o);return(!i||Ia(o)&&"span"===o.type)&&o&&e&&n&&"string"==typeof o?r.createElement("div",{className:"".concat(t,"-inline-collapsed-noicon")},o.charAt(0)):a}},{key:"render",value:function(){return r.createElement(Zk.Consumer,null,this.renderItem)}}]),t}()).contextType=rO;var oO=function(){We(t,r.Component);var e=Ke(t);function t(n){var i;return qe(this,t),(i=e.call(this,n)).renderMenu=function(e){var t=e.getPopupContainer,n=e.getPrefixCls,o=e.direction,a=n(),s=(h=i.props).prefixCls,u=h.className,c=h.theme,l=h.expandIcon,h=(e=vn(function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}(h,["prefixCls","className","theme","expandIcon"]),["siderCollapsed","collapsedWidth"]),i.getInlineCollapsed());a={horizontal:{motionName:"".concat(a,"-slide-up")},inline:xa,other:{motionName:"".concat(a,"-zoom-big")}},s=n("menu",s),u=Le()("".concat(s,"-").concat(c),u);return r.createElement(rO.Provider,{value:{prefixCls:s,inlineCollapsed:h||!1,antdMenuTheme:c,direction:o,firstLevel:!0}},r.createElement(eO,g({getPopupContainer:t,overflowedIndicator:r.createElement(nO,null)},e,{inlineCollapsed:h,className:u,prefixCls:s,direction:o,defaultMotions:a,expandIcon:Sa(l,{className:"".concat(s,"-submenu-expand-icon")})})))},$n(!("inlineCollapsed"in n&&"inline"!==n.mode),"Menu","`inlineCollapsed` should only be used when `mode` is inline."),$n(!(void 0!==n.siderCollapsed&&"inlineCollapsed"in n),"Menu","`inlineCollapsed` not control Menu under Sider. Should set `collapsed` on Sider instead."),i}return ze(t,[{key:"getInlineCollapsed",value:function(){var e,t=(e=this.props).inlineCollapsed;return void 0!==(e=e.siderCollapsed)?e:t}},{key:"render",value:function(){return r.createElement(dn,null,this.renderMenu)}}]),t}();oO.defaultProps={theme:"light"},(X=function(){We(t,r.Component);var e=Ke(t);function t(){return qe(this,t),e.apply(this,arguments)}return ze(t,[{key:"render",value:function(){var e=this;return r.createElement(Zk.Consumer,null,(function(t){return r.createElement(oO,g({},e.props,t))}))}}]),t}()).Divider=JN,X.Item=Me,X.SubMenu=ut,X.ItemGroup=QN;const aO=X;const sO=function(e){return r.createElement(dn,null,(function(t){var n=t.getPrefixCls,i=t.direction,o=e.prefixCls,a=void 0===(l=e.type)?"horizontal":l,s=void 0===(h=e.orientation)?"center":h,u=e.className,c=e.children,l=(t=e.dashed,e.plain),h=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}(e,["prefixCls","type","orientation","className","children","dashed","plain"]);n=n("divider",o),o=0<s.length?"-".concat(s):s,s=!!c,u=Le()(n,"".concat(n,"-").concat(a),((0,De.Z)(a={},"".concat(n,"-with-text"),s),(0,De.Z)(a,"".concat(n,"-with-text").concat(o),s),(0,De.Z)(a,"".concat(n,"-dashed"),!!t),(0,De.Z)(a,"".concat(n,"-plain"),!!l),(0,De.Z)(a,"".concat(n,"-rtl"),"rtl"===i),a),u);return r.createElement("div",g({className:u},h,{role:"separator"}),c&&r.createElement("span",{className:"".concat(n,"-inner-text")},c))}))};function uO(e){var t=e.className,n=e.direction,i=e.index,o=e.marginDirection,a=e.children,s=e.split,u=e.wrap,c=r.useContext(cO),l=c.horizontalSize,h=c.verticalSize,f=c.latestIndex;e={};return c.supportFlexGap||("vertical"===n?i<f&&(e={marginBottom:l/(s?2:1)}):e=g(g({},i<f&&(0,De.Z)({},o,l/(s?2:1))),u&&{paddingBottom:h})),null==a?null:r.createElement(r.Fragment,null,r.createElement("div",{className:t,style:e},a),i<f&&s&&r.createElement("span",{className:"".concat(t,"-split"),style:e},s))}var cO=r.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),lO={small:8,middle:16,large:24};const hO=function(e){var t=(p=r.useContext(pn)).getPrefixCls,n=p.space,i=p.direction,o=void 0===(h=e.size)?(null==n?void 0:n.size)||"small":h,a=e.align,s=e.className,u=e.children,c=void 0===(p=e.direction)?"horizontal":p,l=(n=e.prefixCls,e.split),h=e.style,f=void 0!==(p=e.wrap)&&p,p=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),d=Zn(),m=(e=Re(r.useMemo((function(){return(Array.isArray(o)?o:[o,o]).map((function(e){return"string"==typeof(e=e)?lO[e]:e||0}))}),[o]),2))[0],v=e[1],y=(u=Ze(u,{keepEmpty:!0}),a=void 0===a&&"horizontal"===c?"center":a,t=t("space",n),s=Le()(t,"".concat(t,"-").concat(c),((0,De.Z)(n={},"".concat(t,"-rtl"),"rtl"===i),(0,De.Z)(n,"".concat(t,"-align-").concat(a),a),n),s),"".concat(t,"-item")),b="rtl"===i?"marginLeft":"marginRight",w=0;t=u.map((function(e,t){return null!=e&&(w=t),r.createElement(uO,{className:y,key:"".concat(y,"-").concat(t),direction:c,index:t,marginDirection:b,split:l,wrap:f},e)})),i=r.useMemo((function(){return{horizontalSize:m,verticalSize:v,latestIndex:w,supportFlexGap:d}}),[m,v,w,d]);return 0===u.length?null:(u={},d&&(u.columnGap=m,u.rowGap=v),r.createElement("div",g({className:s,style:g(g(g({},u),f&&{flexWrap:"wrap",marginBottom:-v}),h)},p),r.createElement(cO.Provider,{value:i},t)))};cn={Name:l().string,Url:l().string},(Me=function(e){var t=e.Image,n=e.ClassName;e=e.Ratio;return r.createElement("div",{className:Le()("image ".concat(n||""),{"image--wide":"wide"===e,"image--square":"square"===e})},r.createElement("figure",null,r.createElement("picture",null,r.createElement("img",{src:t.Url,alt:t.Name}))))}).propTypes={Image:l().shape(cn),ClassName:l().string,Ratio:l().oneOf(["squared","wide"])};const fO=Me;var pO=[{Path:"/",Name:"Home"},{Path:"/blog",Name:"Blog"}];const dO=function(){var e,t=T((function(e){return e.auth.authUser})),n=E(),i=function(){var e=a(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_k.logOut();case 3:n(N()),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),oc("error","Logout Error",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return r.createElement("header",{className:"header"},r.createElement("div",{className:"container"},r.createElement(Sk,{justify:"space-between",align:"middle"},r.createElement(xk,{xs:4},r.createElement(Te,{to:"/",className:"header__logo-link d-inline-block"},r.createElement(fO,{ClassName:"header__logo",Image:{Name:"Blog App Logo",Url:"https://i.postimg.cc/ZRv35qXj/logo.png"}}))),r.createElement(xk,{md:12},r.createElement("nav",{className:"header__navigation"},(e=pO,r.createElement(aO,{className:"d-flex d-flex--ended d-flex--center header__menu",theme:"light"},e&&e.map((function(e,t){return r.createElement(aO.Item,{key:t},r.createElement(Te,{to:e.Path},e.Name))})))),r.createElement(sO,{className:"header__devider",type:"vertical"}),r.createElement(hO,{className:"header__additional-nav"},r.createElement(ms,null,r.createElement(Te,{to:"/login"},"Login")),t.user&&t.user.uid&&r.createElement(r.Fragment,null,r.createElement(ms,null,r.createElement(Te,{to:"/admin"},"Dashboard")),r.createElement(ms,{onClick:function(){return i()}},"Logout"))))))))};var mO=s.Content;const vO=function(e){return r.createElement(r.Fragment,null,r.createElement(dO,null),r.createElement(mO,{className:"main"},e.children))};var gO=s.Content;const yO=function(e){return r.createElement(r.Fragment,null,r.createElement(gO,{className:"main"},e.children))};var bO=["component","layout"];const wO=function(e){var t=e.component,n=e.layout,i=Fe(e,bO);return r.createElement(pe,g({},i,{render:function(e){return r.createElement(n,null,r.createElement(t,g({},e,i)))}}))};var _O=["component","layout"];const EO=function(e){var t=e.component,n=e.layout,i=Fe(e,_O),o=T((function(e){return e.auth.authUser}));return r.createElement(pe,g({},i,{render:function(e){return o.user&&o.user.uid?r.createElement(n,null,r.createElement(t,g({},e,i))):r.createElement(ce,{to:"/login"})}}))};ut=function(){var e=E();return(0,r.useEffect)(a(u().mark((function t(){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_k.onAuthUser();case 2:return n=t.sent,(localStorage.getItem("user")||n)&&e(k(n)),t.abrupt("return",(function(){}));case 5:case"end":return t.stop()}}),t)}))),[e]),r.createElement("div",{id:"wrapper"},r.createElement(ge,null,r.createElement(de,null,r.createElement(wO,{exact:!0,path:"/",component:Se,layout:vO}),r.createElement(wO,{exact:!0,path:"/blog",component:xe,layout:vO}),r.createElement(wO,{exact:!0,path:"/login",component:Ik,layout:Qk}),r.createElement(wO,{exact:!0,path:"/register",component:Pk,layout:Qk}),r.createElement(wO,{exact:!0,path:"/reset-password",component:Mk,layout:Qk}),r.createElement(EO,{exact:!0,path:"/admin",component:Lk,layout:yO}))))},X=n(4890);var CO={authUser:{}};cn=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:CO,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case I:if(t.data)return localStorage.setItem("user",t.data.user.uid),g({},e,{authUser:g({},t.data)});case S:return localStorage.removeItem("user"),g({},e,{authUser:g({},t.data)});case x:if(t.data)return localStorage.setItem("user",t.data.user.uid),g({},e,{authUser:g({},t.data)});default:return e}},Me=(0,X.UY)({auth:cn});function TO(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}(s=TO()).withExtraArgument=TO,cn=s,s=n(8500),cn=(0,X.MT)(Me,(0,s.Uo)((0,X.md)(cn))),i.render(r.createElement((function(e){var t=e.store,n=e.context,i=(e=e.children,(0,r.useMemo)((function(){var e=new d(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t])),o=(0,r.useMemo)((function(){return t.getState()}),[t]);return m((function(){var e=i.subscription;return e.trySubscribe(),o!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[i,o]),n=n||h,r.createElement(n.Provider,{value:i},e)}),{store:cn},r.createElement(ut,null)),document.getElementById("root"))},4184:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o,a=typeof n;if("string"==a||"number"==a)e.push(n);else if(Array.isArray(n))!n.length||(o=i.apply(null,n))&&e.push(o);else if("object"==a)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},640:(e,t,n)=>{"use strict";var r=n(1742),i={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,o,a,s,u=!1,c=(t=t||{}).debug||!1;try{var l=r(),h=document.createRange(),f=document.getSelection();if((o=document.createElement("span")).textContent=e,o.style.all="unset",o.style.position="fixed",o.style.top=0,o.style.clip="rect(0, 0, 0, 0)",o.style.whiteSpace="pre",o.style.webkitUserSelect="text",o.style.MozUserSelect="text",o.style.msUserSelect="text",o.style.userSelect="text",o.addEventListener("copy",(function(n){var r;n.stopPropagation(),t.format&&(n.preventDefault(),void 0===n.clipboardData?(c&&console.warn("unable to use e.clipboardData"),c&&console.warn("trying IE specific stuff"),window.clipboardData.clearData(),r=i[t.format]||i.default,window.clipboardData.setData(r,e)):(n.clipboardData.clearData(),n.clipboardData.setData(t.format,e))),t.onCopy&&(n.preventDefault(),t.onCopy(n.clipboardData))})),document.body.appendChild(o),h.selectNodeContents(o),f.addRange(h),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(o){c&&console.error("unable to copy using execCommand: ",o),c&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(o){c&&console.error("unable to copy using clipboardData: ",o),c&&console.error("falling back to prompt"),a="message"in t?t.message:"Copy to clipboard: #{key}, Enter",s=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C",n=a.replace(/#{\s*key\s*}/g,s),window.prompt(n,e)}}finally{f&&("function"==typeof f.removeRange?f.removeRange(h):f.removeAllRanges()),o&&document.body.removeChild(o),l()}return u}},8679:(e,t,n)=>{"use strict";var r=n(9864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){var i;!d||(i=p(n))&&i!==d&&e(t,i,r);var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(t),m=u(n),v=0;v<a.length;++v){var g=a[v];if(!(o[g]||r&&r[g]||m&&m[g]||s&&s[g])){var y=f(n,g);try{c(t,g,y)}catch(e){}}}}return t}},8552:(e,t,n)=>{n=n(852)(n(5639),"DataView"),e.exports=n},1989:(e,t,n)=>{var r=n(1789),i=n(401),o=n(7667),a=n(1327);n=n(1866);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=o,s.prototype.has=a,s.prototype.set=n,e.exports=s},8407:(e,t,n)=>{var r=n(7040),i=n(4125),o=n(2117),a=n(7518);n=n(4705);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=o,s.prototype.has=a,s.prototype.set=n,e.exports=s},7071:(e,t,n)=>{n=n(852)(n(5639),"Map"),e.exports=n},3369:(e,t,n)=>{var r=n(4785),i=n(1285),o=n(6e3),a=n(9916);n=n(5265);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=o,s.prototype.has=a,s.prototype.set=n,e.exports=s},3818:(e,t,n)=>{n=n(852)(n(5639),"Promise"),e.exports=n},8525:(e,t,n)=>{n=n(852)(n(5639),"Set"),e.exports=n},8668:(e,t,n)=>{var r=n(3369),i=n(619);n=n(2385);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=n,e.exports=o},6384:(e,t,n)=>{var r=n(8407),i=n(7465),o=n(3779),a=n(7599),s=n(4758);n=n(4309);function u(e){e=this.__data__=new r(e),this.size=e.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=n,e.exports=u},2705:(e,t,n)=>{n=n(5639).Symbol,e.exports=n},1149:(e,t,n)=>{n=n(5639).Uint8Array,e.exports=n},577:(e,t,n)=>{n=n(852)(n(5639),"WeakMap"),e.exports=n},4963:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},4636:(e,t,n)=>{var r=n(2545),i=n(5694),o=n(1469),a=n(4144),s=n(5776),u=n(6719),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n,l=o(e),h=!l&&i(e),f=!l&&!h&&a(e),p=!l&&!h&&!f&&u(e),d=l||h||f||p,m=d?r(e.length,String):[],v=m.length;for(n in e)!t&&!c.call(e,n)||d&&("length"==n||f&&("offset"==n||"parent"==n)||p&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||s(n,v))||m.push(n);return m}},2488:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},2908:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},8470:(e,t,n)=>{var r=n(7813);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},8866:(e,t,n)=>{var r=n(2488),i=n(1469);e.exports=function(e,t,n){return t=t(e),i(e)?t:r(t,n(e))}},4239:(e,t,n)=>{var r=n(2705),i=n(9607),o=n(2333),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":(a&&a in Object(e)?i:o)(e)}},9454:(e,t,n)=>{var r=n(4239),i=n(7005);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},939:(e,t,n)=>{var r=n(2492),i=n(7005);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,a,e,s))}},2492:(e,t,n)=>{var r=n(6384),i=n(7114),o=n(8351),a=n(6096),s=n(4160),u=n(1469),c=n(4144),l=n(6719),h="[object Arguments]",f="[object Array]",p="[object Object]",d=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,v,g){var y=u(e),b=u(t),w=y?f:s(e),_=b?f:s(t),E=(w=w==h?p:w)==p;b=(_=_==h?p:_)==p;if((_=w==_)&&c(e)){if(!c(t))return!1;E=!(y=!0)}return _&&!E?(g=g||new r,y||l(e)?i(e,t,n,m,v,g):o(e,t,w,n,m,v,g)):1&n||(E=E&&d.call(e,"__wrapped__"),b=b&&d.call(t,"__wrapped__"),!E&&!b)?!!_&&(g=g||new r,a(e,t,n,m,v,g)):v(E?e.value():e,b?t.value():t,n,m,g=g||new r)}},8458:(e,t,n)=>{var r=n(3560),i=n(5346),o=n(3218),a=n(346),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=(n=Object.prototype,u=u.toString,n=n.hasOwnProperty,RegExp("^"+u.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"));e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?c:s).test(a(e))}},8749:(e,t,n)=>{var r=n(4239),i=n(1780),o=n(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},280:(e,t,n)=>{var r=n(5726),i=n(6916),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t,n=[];for(t in Object(e))o.call(e,t)&&"constructor"!=t&&n.push(t);return n}},2545:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},1717:e=>{e.exports=function(e){return function(t){return e(t)}}},4757:e=>{e.exports=function(e,t){return e.has(t)}},4429:(e,t,n)=>{n=n(5639)["__core-js_shared__"],e.exports=n},7114:(e,t,n)=>{var r=n(8668),i=n(2908),o=n(4757);e.exports=function(e,t,n,a,s,u){var c=1&n,l=e.length;if(l!=(f=t.length)&&!(c&&l<f))return!1;var h=u.get(e),f=u.get(t);if(h&&f)return h==t&&f==e;var p=-1,d=!0,m=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<l;){var v,g=e[p],y=t[p];if(void 0!==(v=a?c?a(y,g,p,t,e,u):a(g,y,p,e,t,u):v)){if(v)continue;d=!1;break}if(m){if(!i(t,(function(e,t){if(!o(m,t)&&(g===e||s(g,e,n,a,u)))return m.push(t)}))){d=!1;break}}else if(g!==y&&!s(g,y,n,a,u)){d=!1;break}}return u.delete(e),u.delete(t),d}},8351:(e,t,n)=>{var r=n(2705),i=n(1149),o=n(7813),a=n(7114),s=n(8776),u=n(1814),c=(r=r?r.prototype:void 0)?r.valueOf:void 0;e.exports=function(e,t,n,r,l,h,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":if(p=p||u,e.size!=t.size&&!(1&r))return!1;var d=f.get(e);return d?d==t:(r|=2,f.set(e,t),p=a(p(e),p(t),r,l,h,f),f.delete(e),p);case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},6096:(e,t,n)=>{var r=n(8234),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var h=l;h--;){var f=c[h];if(!(u?f in t:i.call(t,f)))return!1}var p=s.get(e),d=s.get(t);if(p&&d)return p==t&&d==e;var m=!0;s.set(e,t),s.set(t,e);for(var v=u;++h<l;){var g,y=e[f=c[h]],b=t[f];if(!(void 0===(g=o?u?o(b,y,f,t,e,s):o(y,b,f,e,t,s):g)?y===b||a(y,b,n,o,s):g)){m=!1;break}v=v||"constructor"==f}return!m||v||(p=e.constructor)!=(d=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof p&&p instanceof p&&"function"==typeof d&&d instanceof d)&&(m=!1),s.delete(e),s.delete(t),m}},1957:(e,t,n)=>{n="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,e.exports=n},8234:(e,t,n)=>{var r=n(8866),i=n(9551),o=n(3674);e.exports=function(e){return r(e,o,i)}},5050:(e,t,n)=>{var r=n(7019);e.exports=function(e,t){return e=e.__data__,r(t)?e["string"==typeof t?"string":"hash"]:e.map}},852:(e,t,n)=>{var r=n(8458),i=n(7801);e.exports=function(e,t){return t=i(e,t),r(t)?t:void 0}},9607:(e,t,n)=>{var r=n(2705),i=(n=Object.prototype).hasOwnProperty,o=n.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),n=e[a];try{var r=!(e[a]=void 0)}catch(e){}var s=o.call(e);return r&&(t?e[a]=n:delete e[a]),s}},9551:(e,t,n)=>{var r=n(4963),i=(n=n(479),Object.prototype.propertyIsEnumerable),o=Object.getOwnPropertySymbols;n=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return i.call(e,t)})))}:n;e.exports=n},4160:(e,t,n)=>{var r=n(8552),i=n(7071),o=n(3818),a=n(8525),s=n(577),u=n(4239),c=n(346),l="[object Map]",h="[object Promise]",f="[object Set]",p="[object WeakMap]",d="[object DataView]",m=c(r),v=c(i),g=c(o),y=c(a),b=c(s);n=u;(r&&n(new r(new ArrayBuffer(1)))!=d||i&&n(new i)!=l||o&&n(o.resolve())!=h||a&&n(new a)!=f||s&&n(new s)!=p)&&(n=function(e){var t=u(e);if(e=(e="[object Object]"==t?e.constructor:void 0)?c(e):"")switch(e){case m:return d;case v:return l;case g:return h;case y:return f;case b:return p}return t}),e.exports=n},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},1789:(e,t,n)=>{var r=n(4536);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:e=>{e.exports=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e}},7667:(e,t,n)=>{var r=n(4536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},1327:(e,t,n)=>{var r=n(4536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},1866:(e,t,n)=>{var r=n(4536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},5776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&-1<e&&e%1==0&&e<n}},7019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5346:(e,t,n)=>{n=n(4429);var r=(n=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!r&&r in e}},5726:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,n)=>{var r=n(8470),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__;return!((e=r(t,e))<0||(e==t.length-1?t.pop():i.call(t,e,1),--this.size,0))}},2117:(e,t,n)=>{var r=n(8470);e.exports=function(e){var t=this.__data__;return(e=r(t,e))<0?void 0:t[e][1]}},7518:(e,t,n)=>{var r=n(8470);e.exports=function(e){return-1<r(this.__data__,e)}},4705:(e,t,n)=>{var r=n(8470);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4785:(e,t,n)=>{var r=n(1989),i=n(8407),o=n(7071);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},1285:(e,t,n)=>{var r=n(5050);e.exports=function(e){return e=r(this,e).delete(e),this.size-=e?1:0,e}},6e3:(e,t,n)=>{var r=n(5050);e.exports=function(e){return r(this,e).get(e)}},9916:(e,t,n)=>{var r=n(5050);e.exports=function(e){return r(this,e).has(e)}},5265:(e,t,n)=>{var r=n(5050);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},8776:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},4536:(e,t,n)=>{n=n(852)(Object,"create"),e.exports=n},6916:(e,t,n)=>{n=n(5569)(Object.keys,Object),e.exports=n},1167:(e,t,n)=>{e=n.nmd(e);n=n(1957);var r=(t=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e,i=r&&r.exports===t&&n.process;n=function(){try{var e=r&&r.require&&r.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=n},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},5639:(e,t,n)=>{var r=n(1957);n="object"==typeof self&&self&&self.Object===Object&&self,n=r||n||Function("return this")();e.exports=n},619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},2385:e=>{e.exports=function(e){return this.__data__.has(e)}},1814:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},7465:(e,t,n)=>{var r=n(8407);e.exports=function(){this.__data__=new r,this.size=0}},3779:e=>{e.exports=function(e){var t=this.__data__;e=t.delete(e);return this.size=t.size,e}},7599:e=>{e.exports=function(e){return this.__data__.get(e)}},4758:e=>{e.exports=function(e){return this.__data__.has(e)}},4309:(e,t,n)=>{var r=n(8407),i=n(7071),o=n(3369);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5694:(e,t,n)=>{var r=n(9454),i=n(7005),o=(n=Object.prototype).hasOwnProperty,a=n.propertyIsEnumerable;r=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!a.call(e,"callee")};e.exports=r},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,n)=>{var r=n(3560),i=n(1780);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},4144:(e,t,n)=>{e=n.nmd(e);var r=n(5639),i=n(5062);r=(r=(t=(n=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e)&&t.exports===n?r.Buffer:void 0)?r.isBuffer:void 0;e.exports=r||i},8446:(e,t,n)=>{var r=n(939);e.exports=function(e,t){return r(e,t)}},3560:(e,t,n)=>{var r=n(4239),i=n(3218);e.exports=function(e){return!!i(e)&&("[object Function]"==(e=r(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)}},1780:e=>{e.exports=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},6719:(e,t,n)=>{var r=n(8749),i=n(1717);r=(n=(n=n(1167))&&n.isTypedArray)?i(n):r;e.exports=r},3674:(e,t,n)=>{var r=n(4636),i=n(280),o=n(8612);e.exports=function(e){return(o(e)?r:i)(e)}},479:e=>{e.exports=function(){return[]}},5062:e=>{e.exports=function(){return!1}},7418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},r)).join("")?void 0:1}catch(e){return}}()?Object.assign:function(e,i){for(var o,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var u in o=Object(arguments[s]))n.call(o,u)&&(a[u]=o[u]);if(t)for(var c=t(o),l=0;l<c.length;l++)r.call(o,c[l])&&(a[c[l]]=o[c[l]])}return a}},2703:(e,t,n)=>{"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r)throw(a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")).name="Invariant Violation",a}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n}},5697:(e,t,n)=>{e.exports=n(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},9921:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,d=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case f:case v:case m:case u:return e;default:return t}}case i:return t}}}function E(e){return _(e)===h}t.AsyncMode=l,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=v,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return E(e)||_(e)===l},t.isConcurrentMode=E,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===f},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===v},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===h||e===s||e===a||e===p||e===d||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===g)},t.typeOf=_},9864:(e,t,n)=>{"use strict";e.exports=n(9921)},6585:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},9658:(e,t,n)=>{var r=n(6585);e.exports=function e(t,n,i){return r(n)||(i=n||i,n=[]),i=i||{},t instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(t,n):r(t)?function(t,n,r){for(var i=[],o=0;o<t.length;o++)i.push(e(t[o],n,r).source);return c(new RegExp("(?:"+i.join("|")+")",l(r)),n)}(t,n,i):(n=n,h(o(t,i=i),n,i))},e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n=[],r=0,o=0,a="",s=t&&t.delimiter||"/";null!=(p=i.exec(e));){var c,l,h,f,p,d=p[0],m=p[1],v=p.index;a+=e.slice(o,v),o=v+d.length,m?a+=m[1]:(c=e[o],l=p[2],h=p[3],f=p[4],v=p[5],d=p[6],m=p[7],a&&(n.push(a),a=""),p=p[2]||s,n.push({name:h||r++,prefix:l||"",delimiter:p,optional:"?"===d||"*"===d,repeat:"+"===d||"*"===d,partial:null!=l&&null!=c&&c!==l,asterisk:!!m,pattern:(v=f||v)?v.replace(/([=!:$\/()])/g,"\\$1"):m?".*":"[^"+u(p)+"]+?"}))}return o<e.length&&(a+=e.substr(o)),a&&n.push(a),n}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",l(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!=typeof l){var h,f=s[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<f.length;p++){if(h=u(f[p]),!n[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===p?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');o+=l.prefix+h}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e,t){return e.keys=t,e}function l(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var h,f,p=e[s];"string"==typeof p?a+=u(p):(h=u(p.prefix),f="(?:"+p.pattern+")",t.push(p),p.repeat&&(f+="(?:"+h+f+")*"),a+=f=p.optional?p.partial?h+"("+f+")?":"(?:"+h+"("+f+"))?":h+"("+f+")")}var d=u(n.delimiter||"/"),m=a.slice(-d.length)===d;return i||(a=(m?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+d+"|$)",c(new RegExp("^"+a,l(n)),t)}},8500:(e,t,n)=>{"use strict";var r=n(4890).qC;t.Uo="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?r:r.apply(null,arguments)}},4890:(e,t,n)=>{"use strict";n.d(t,{md:()=>function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),o=function(){throw new Error(i(15))},a={getState:n.getState,dispatch:function(){return o.apply(void 0,arguments)}},s=t.map((function(e){return e(a)}));o=l.apply(void 0,s)(n.dispatch);return(0,r.Z)((0,r.Z)({},n),{},{dispatch:o})}}},UY:()=>function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];"function"==typeof e[o]&&(n[o]=e[o])}var a,u=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){if(void 0===(t=e[t])(void 0,{type:s.INIT}))throw new Error(i(12));if(void 0===t(void 0,{type:s.PROBE_UNKNOWN_ACTION()}))throw new Error(i(13))}))}(n)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,o={},s=0;s<u.length;s++){var c=u[s],l=n[c],h=e[c];if(void 0===(l=l(h,t)))throw t&&t.type,new Error(i(14));o[c]=l,r=r||l!==h}return(r=r||u.length!==Object.keys(e).length)?o:e}},qC:()=>l,MT:()=>c});var r=n(8991);function i(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}function o(){return Math.random().toString(36).substring(7).split("").join(".")}var a="function"==typeof Symbol&&Symbol.observable||"@@observable",s={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function u(e){if("object"==typeof e&&null!==e){for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}}function c(e,t,n){if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(i(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(i(1));return n(c)(e,t)}if("function"!=typeof e)throw new Error(i(2));var r=e,o=t,l=[],h=l,f=!1;function p(){h===l&&(h=l.slice())}function d(){if(f)throw new Error(i(3));return o}function m(e){if("function"!=typeof e)throw new Error(i(4));if(f)throw new Error(i(5));var t=!0;return p(),h.push(e),function(){if(t){if(f)throw new Error(i(6));t=!1,p();var n=h.indexOf(e);h.splice(n,1),l=null}}}function v(e){if(!u(e))throw new Error(i(7));if(void 0===e.type)throw new Error(i(8));if(f)throw new Error(i(9));try{f=!0,o=r(o,e)}finally{f=!1}for(var t=l=h,n=0;n<t.length;n++)(0,t[n])();return e}return v({type:s.INIT}),(t={dispatch:v,subscribe:m,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error(i(10));r=e,v({type:s.REPLACE})}})[a]=function(){var e=m,t={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error(i(11));function n(){t.next&&t.next(d())}return n(),{unsubscribe:e(n)}}};return t[a]=function(){return this},t},t}function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}},5666:e=>{e=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(n){u=function(e,t,n){return e[t]=n}}function c(e,n,r,i){var o,a,s,u;n=n&&n.prototype instanceof v?n:v,n=Object.create(n.prototype),i=new I(i||[]);return n._invoke=(o=e,a=r,s=i,u=h,function(e,n){if(u===p)throw new Error("Generator is already running");if(u===d){if("throw"===e)throw n;return x()}for(s.method=e,s.arg=n;;){var r=s.delegate;if(r){var i=function e(n,r){var i;if((i=n.iterator[r.method])===t){if(r.delegate=null,"throw"===r.method){if(n.iterator.return&&(r.method="return",r.arg=t,e(n,r),"throw"===r.method))return m;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}return"throw"===(i=l(i,n.iterator,r.arg)).type?(r.method="throw",r.arg=i.arg,r.delegate=null,m):(i=i.arg)?i.done?(r[n.resultName]=i.value,r.next=n.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}(r,s);if(i){if(i===m)continue;return i}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(u===h)throw u=d,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(u=p,"normal"===(i=l(o,a,s)).type){if(u=s.done?d:f,i.arg!==m)return{value:i.arg,done:s.done}}else"throw"===i.type&&(u=d,s.method="throw",s.arg=i.arg)}}),n}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h="suspendedStart",f="suspendedYield",p="executing",d="completed",m={};function v(){}function g(){}function y(){}var b={};b[o]=function(){return this},(i=(i=Object.getPrototypeOf)&&i(i(S([]))))&&i!==n&&r.call(i,o)&&(b=i);var w=y.prototype=v.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var n;this._invoke=function(i,o){function a(){return new t((function(n,a){!function n(i,o,a,s){if("throw"!==(i=l(e[i],e,o)).type){var u=i.arg;return(o=u.value)&&"object"==typeof o&&r.call(o,"__await")?t.resolve(o.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(o).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(i.arg)}(i,o,n,a)}))}return n=n?n.then(a,a):a()}}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function S(e){if(e){if(n=e[o])return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n,i=-1;return(n=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n}).next=n}}return{next:x}}function x(){return{value:t,done:!0}}return((g.prototype=w.constructor=y).constructor=g).displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){return!!(e="function"==typeof e&&e.constructor)&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(E.prototype),E.prototype[a]=function(){return this},e.AsyncIterator=E,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new E(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),u(w,s,"Generator"),w[o]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t,n=[];for(t in e)n.push(t);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=S,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;0<=o;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r,i=n.completion;return"throw"===i.type&&(r=i.arg,T(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:S(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}},53:(e,t)=>{"use strict";var n,r,i,o,a,s,u,c,l,h,f,p,d,m,v,g,y,b;function w(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<C(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=1+o,u=e[s];if(void 0!==a&&C(a,n)<0)r=void 0!==u&&C(u,a)<0?(e[r]=u,e[s]=n,s):(e[r]=a,e[o]=n,o);else{if(!(void 0!==u&&C(u,n)<0))break e;e[r]=u,e[s]=n,r=s}}}return t}}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!=n?n:e.id-t.id}"object"==typeof performance&&"function"==typeof performance.now?(n=performance,t.unstable_now=function(){return n.now()}):(r=Date,i=r.now(),t.unstable_now=function(){return r.now()-i}),"undefined"==typeof window||"function"!=typeof MessageChannel?(a=o=null,s=function(){if(null!==o)try{var e=t.unstable_now();o(!0,e),o=null}catch(e){throw setTimeout(s,0),e}},u=function(e){null!==o?setTimeout(u,0,e):(o=e,setTimeout(s,0))},c=function(e,t){a=setTimeout(e,t)},l=function(){clearTimeout(a)},t.unstable_shouldYield=function(){return!1},M=t.unstable_forceFrameRate=function(){}):(h=window.setTimeout,f=window.clearTimeout,"undefined"!=typeof console&&(y=window.cancelAnimationFrame,"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),p=!1,d=null,m=-1,v=5,g=0,t.unstable_shouldYield=function(){return t.unstable_now()>=g},M=function(){},t.unstable_forceFrameRate=function(e){e<0||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5},y=new MessageChannel,b=y.port2,y.port1.onmessage=function(){if(null!==d){var e=t.unstable_now();g=e+v;try{d(!0,e)?b.postMessage(null):(p=!1,d=null)}catch(e){throw b.postMessage(null),e}}else p=!1},u=function(e){d=e,p||(p=!0,b.postMessage(null))},c=function(e,n){m=h((function(){e(t.unstable_now())}),n)},l=function(){f(m),m=-1});var T=[],I=[],S=1,x=null,k=3,N=!1,O=!1,P=!1;function A(e){for(var t=_(I);null!==t;){if(null===t.callback)E(I);else{if(!(t.startTime<=e))break;E(I),t.sortIndex=t.expirationTime,w(T,t)}t=_(I)}}function R(e){var t;P=!1,A(e),O||(null!==_(T)?(O=!0,u(D)):null!==(t=_(I))&&c(R,t.startTime-e))}function D(e,n){O=!1,P&&(P=!1,l()),N=!0;var r=k;try{for(A(n),x=_(T);null!==x&&(!(x.expirationTime>n)||e&&!t.unstable_shouldYield());){var i,o=x.callback;"function"==typeof o?(x.callback=null,k=x.priorityLevel,i=o(x.expirationTime<=n),n=t.unstable_now(),"function"==typeof i?x.callback=i:x===_(T)&&E(T),A(n)):E(T),x=_(T)}var a;return null!==x||(null!==(a=_(I))&&c(R,a.startTime-n),!1)}finally{x=null,k=r,N=!1}}var M=M;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||N||(O=!0,u(D))},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_getFirstCallbackNode=function(){return _(T)},t.unstable_next=function(e){switch(k){case 1:case 2:case 3:var t=3;break;default:t=k}var n=k;k=t;try{return e()}finally{k=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=k;k=e;try{return t()}finally{k=n}},t.unstable_scheduleCallback=function(e,n,r){var i=t.unstable_now();switch(r="object"==typeof r&&null!==r&&"number"==typeof(r=r.delay)&&0<r?i+r:i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:S++,callback:n,priorityLevel:e,startTime:r,expirationTime:o=r+o,sortIndex:-1},i<r?(e.sortIndex=r,w(I,e),null===_(T)&&e===_(I)&&(P?l():P=!0,c(R,r-i))):(e.sortIndex=o,w(T,e),O||N||(O=!0,u(D))),e},t.unstable_wrapCallback=function(e){var t=k;return function(){var n=k;k=t;try{return e.apply(this,arguments)}finally{k=n}}}},3840:(e,t,n)=>{"use strict";e.exports=n(53)},6774:e=>{e.exports=function(e,t,n,r){if(void 0!==(c=n?n.call(r,e,t):void 0))return!!c;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),s=0;s<i.length;s++){var u=i[s];if(!a(u))return!1;var c,l=e[u],h=t[u];if(!1===(c=n?n.call(r,l,h,u):void 0)||void 0===c&&l!==h)return!1}return!0}},1742:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},655:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},pi:()=>i,mG:()=>function(e,t,n,r){return new(n=n||Promise)((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Jh:()=>function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,(o=i?[2&o[0],i.value]:o)[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},XA:()=>o,CR:()=>a,ev:()=>function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}Object.create,Object.create}},e=>{"use strict";e.O(0,[736],(()=>e(e.s=596))),e.O()}]);